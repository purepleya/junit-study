## 2.2 Definitions
### Lifecycle Method
@BeforeAll, @AfterAll, @BeforeEach, @AfterEach

### Test Class
Test class ëŠ” abstract ì—¬ì„œëŠ” ì•ˆë˜ë©°, ë‹¨ í•˜ë‚˜ì˜ ìƒì„±ì(constructor)ë¥¼ ê°€ì ¸ì•¼ í•œë‹¤.
1. ìµœìƒìœ„ class
2. static member class 
3. @Nested ë¡œ ì •ì˜ë˜ê³  í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ í•˜ë‚˜ì´ìƒ ê°€ì§€ê³  ìˆëŠ” class


## 2.3 Test Classes and Methods
test í•¨ìˆ˜ì™€ lifecycle í•¨ìˆ˜ëŠ” í˜„ì¬ class ë‚´ë¶€ì— ì„ ì–¸ë˜ê±°ë‚˜, ë¶€ëª¨ í´ë˜ìŠ¤ë‚˜ interface ë¡œ ë¶€í„° ìƒì† ë°›ëŠ”ë‹¤.
ë§ ë¶™ì—¬, í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ì™€ ë¼ì´í”„ ì‚¬ì´í´ í•¨ìˆ˜ëŠ” ì¶”ìƒ í•¨ìˆ˜ë¡œ ì„ ì–¸ ë  ìˆ˜ ì—†ìœ¼ë©´ return value ë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤. 

---
_Class ì™€ methodì˜ ê°€ì‹œì„±
test class, test í•¨ìˆ˜, lifecycle í•¨ìˆ˜ëŠ” public ì¼ í•„ìš”ëŠ” ì—†ìœ¼ë‚˜ privateë¡œ ì„ ì–¸ë˜ì„œëŠ” ì•ˆëœë‹¤.<br/>
ì¼ë°˜ì ìœ¼ë¡œ, ë‹¤ë¥¸ packageì—ì„œ test classë‚˜ test í•¨ìˆ˜, lifecycle í•¨ìˆ˜ ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë¥¼ ì œì™¸í•˜ê³  public ìˆ˜ì •ìë¥¼ ìƒëµí•˜ëŠ”ê²ƒì„ ì¶”ì²œí•œë‹¤._
---
ì¼ë°˜ì ì¸ test í•¨ìˆ˜ì™€ lifecycle í•¨ìˆ˜ì˜ ì‚¬ìš© ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤.
```java
import static org.junit.jupiter.api.Assertions.fail;
import static org.junit.jupiter.api.Assumptions.assumeTrue;

import org.junit.jupiter.api.AfterAll;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Test;

class StandardTests {
    @BeforeAll
    static void initAll() {
    }

    @BeforeEach
    void init() {
    }

    @Test
    void succeedingTest() {
    }

    @Test
    void failingTest() {
        fail("a failing test");
    }

    @Test
    @Disabled("for demonstration purposes")
    void skippedTest() {
        // not executed
    }

    @Test
    void abortedTest() {
        assumeTrue("abc".contains("Z"));
        fail("test should have been aborted");
    }

    @AfterEach
    void tearDown() {
    }

    @AfterAll
    static void tearDownAll() {
    }
}
```


## 2.4 Display Names
test class ì™€ test í•¨ìˆ˜ëŠ” @DisplayName ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ í‘œì‹œë˜ëŠ” í…ŒìŠ¤íŠ¸ ëª…(display name)ì„ ë³€ê²½ í•  ìˆ˜ ìˆë‹¤. í‘œì‹œ í•  ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ ëª…ì€ ê³µë°±, íŠ¹ìˆ˜ë¬¸ì, ì´ëª¨ì§€ ê¹Œì§€ ê°€ëŠ¥í•˜ê³ , ë³€ê²½í•œ í…ŒìŠ¤íŠ¸ ëª…ì€ í…ŒìŠ¤íŠ¸ ë³´ê³ ì„œë‚˜, í…ŒìŠ¤íŠ¸ ì‹¤í–‰ê¸°, IDE ì—ì„œ í‘œì‹œ ëœë‹¤.

```java
@DisplayName("A special test case")
class DisplayNameDemo {

    @Test
    @DisplayName("Custom test name containing spaces")
    void testWithDisplayNameContainingSpaces() {
    }

    @Test
    @DisplayName("â•¯Â°â–¡Â°ï¼‰â•¯")
    void testWithDisplayNameContainingSpecialCharacters() {
    }

    @Test
    @DisplayName("ğŸ˜±")
    void testWithDisplayNameContainingEmoji() {
    }

}
```

### 2.4.1. Display Name Generators
JUnit JupiterëŠ” @DisplayNameGeneration ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•˜ëŠ” custom display name ìƒì„±ê¸°ë¥¼ ì§€ì›í•œë‹¤.  
@DisplayNameì˜ ê°’ì´ @DisplayNameGenerationë¥¼ í†µí•´ ìƒì„±ëœ ê°’ ë³´ë‹¤ í•­ìƒ ìš°ì„ í•œë‹¤.

DisplayNameGeneratorë¥¼ êµ¬í˜„í•¨ ìœ¼ë¡œì„œ ìƒì„±ê¸°ë¥¼ ë§Œ ë“¤ ìˆ˜ ìˆë‹¤.  
ì•„ë˜ëŠ” Jupiterì—ì„œ ê¸°ë³¸ì„ ì œê³µí•˜ëŠ” ìƒì„±ê¸° ë“¤ì´ë‹¤.

| DisplayNameGenerator | Behavior                                                 |
|----------------------|----------------------------------------------------------|
| Standard             | Junit Jupiter 5.0ì´ ì¶œì‹œ ëœ ì´í›„ ì‚¬ìš©ë˜ì–´ì˜¤ê³  ìˆëŠ” ê¸°ë³¸ display name ìƒì„±ê¸° |
| Simple               | íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” í•¨ìˆ˜ì˜ ê´„í˜¸ë¥¼ ì‚­ì œ í•˜ëŠ” ìƒì„±ê¸°                               |
| ReplaceUnderscores   | ë°‘ì¤„(underscore)ì„ ê³µë°±(space)ë¡œ ë³€í™˜í•˜ëŠ” ìƒì„±ê¸°                      |
| IndicativeSentences  | testì™€ ì´ë¥¼ í¬í•¨í•˜ëŠ” class ëª…ì„ í•©ì³ì„œ ì™„ì„±ëœ ë¬¸ì¥ì„ ìƒì„±í•˜ëŠ” ìƒì„±ê¸°              |

@IndicativeSentencesGeneration ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•˜ë©´, IndicativeSentences ê¸°ëŠ¥ì— separator(ê¸°ë³¸ì€ ", ")ì™€ ê¸°ë³¸ display name ìƒì„±ê¸°ë¥¼ ë³„ë„ë¡œ ì •ì˜ í•  ìˆ˜ ìˆë‹¤.
```java
class DisplayNameGeneratorDemo {

    @Nested
    @DisplayNameGeneration(DisplayNameGenerator.ReplaceUnderscores.class)
    class A_year_is_not_supported {

        @Test
        void if_it_is_zero() {}
//        if it is zero

        @DisplayName("A negative value for year is not supported by the leap year computation.")
        @ParameterizedTest(name = "For example, year {0} is not supported.")
        @ValueSource(ints = { -1, -4 })
        void if_it_is_negative(int year) {}
//        A negative value for year is not supported by the leap year computation.
//            For example, year -1 is not supported.
//            For example, year -4 is not supported.
    }

    @Nested
    @IndicativeSentencesGeneration(separator = " -> ", generator = ReplaceUnderscores.class)
    class A_year_is_a_leap_year {

        @Test
        void if_it_is_divisible_by_4_but_not_by_100() {
        }
//        A year is a leap year -> if it is divisible by 4 but not by 100

        @ParameterizedTest(name = "Year {0} is a leap year.")
        @ValueSource(ints = { 2016, 2020, 2048 })
        void if_it_is_one_of_the_following_years(int year) {
        }
//        A year is a leap year -> if it is one of the following years
//            Year 2016 is a leap year
//            Year 2020 is a leap year
//            Year 2048 is a leap year        
    }

}
```

### 2.4.2. Setting the Default Display Name Generator
junit ì†ì„± íŒŒì¼ (src/test/resources/junit-platform.properties) ì— "junit.jupiter.displayname.generator.default"ê°’ì„ ì´ìš©í•˜ì—¬ ê¸°ë³¸ display name ìƒì„±ê¸°ë¥¼ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.  
@DisplayNameGeneration ì–´ë…¸í…Œì´ì…˜ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì„¤ì • ê°’ ë³´ë‹¤ @DisplayName ì–´ë…¸í…Œì´ì…˜ì˜ ê°’ì´ ë” ìš°ì„ í•˜ë©°, ì‚¬ìš©ìê°€ DisplayNameGeneratorë¥¼ êµ¬í˜„í•˜ì—¬ ìƒì„±í•œ ì‚¬ìš©ì ì •ì˜ display name ìƒì„±ê¸° í´ë˜ìŠ¤ë„ ì ìš© ê°€ëŠ¥í•˜ë‹¤.  
```properties
junit.jupiter.displayname.generator.default = org.junit.jupiter.api.DisplayNameGenerator$ReplaceUnderscores
```

## 2.5. Assertions
JUnit Jupiter ì—ì„œëŠ” Junit 4ì—ì„œ ì‚¬ìš©í•˜ë˜ assertion í•¨ìˆ˜ì— Java 8 lambda ì‚¬ìš©ì— ì í•©í•œ í•¨ìˆ˜ë“¤ì´ ì¶”ê°€ ë˜ì—ˆë‹¤. 
Junit Jupiterì˜ ëª¨ë“  assertionì€ org.junit.jupiter.api.Assertions í´ë˜ìŠ¤ì— static í•¨ìˆ˜ë¡œ ì •ì˜ ë˜ì–´ ìˆë‹¤.

```java
import static java.time.Duration.ofMillis;
import static java.time.Duration.ofMinutes;
import static org.junit.jupiter.api.Assertions.assertAll;
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertNotNull;
import static org.junit.jupiter.api.Assertions.assertThrows;
import static org.junit.jupiter.api.Assertions.assertTimeout;
import static org.junit.jupiter.api.Assertions.assertTimeoutPreemptively;
import static org.junit.jupiter.api.Assertions.assertTrue;

import java.util.concurrent.CountDownLatch;

import example.domain.Person;
import example.util.Calculator;

import org.junit.jupiter.api.Tag;
import org.junit.jupiter.api.Test;

class AssertionsDemo {

    private final Calculator calculator = new Calculator();

    private final Person person = new Person("Jane", "Doe");

    @Test
    void standardAssertions() {
        assertEquals(2, calculator.add(1, 1));        
//        ë§ˆì§€ë§‰ íŒŒë¼ë¯¸í„°ë¡œ ì‹¤íŒ¨ ë©”ì‹œì§€ë¥¼ ì „ë‹¬ í•  ìˆ˜ ìˆë‹¤.
        assertEquals(4, calculator.multiply(2, 2), "The optional failure message is now the last parameter");
//        supplierë¥¼ ì´ìš©í•˜ì—¬ ì‹¤íŒ¨ ë©”ì‹œì§€ë¥¼ ì§€ì—° í•  ìˆ˜ ìˆë‹¤.
        assertTrue('a' < 'b', () -> "Assertion messages can be lazily evaluated -- " + "to avoid constructing complex messages unnecessarily.");
    }

    @Test
    void groupedAssertions() {
//        assertAll ì„ ì´ìš©í•´ì„œ ë³µìˆ˜ê±´ì„ í•œë²ˆì— ê²€ì¦ í•  ìˆ˜ ìˆë‹¤.
        assertAll("person",
            () -> assertEquals("Jane", person.getFirstName()),
            () -> assertEquals("Doe", person.getLastName())
        );
    }

    @Test
    void dependentAssertions() {
        assertAll("properties",
            () -> {
//                ì½”ë“œë¸”ë¡ ì•ˆì— assertion ì½”ë“œë¥¼ ì‘ì„±í•œ ê²½ìš°, assertionì´ ì‹¤íŒ¨í•˜ë©´ ì´í›„ ì½”ë“œëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. ëª¨ë“  assertion ì´ ì„±ê³µí•œ ì´í›„ ì½”ë“œê°€ ì‹¤í–‰ëœë‹¤.
                String firstName = person.getFirstName();
                assertNotNull(firstName);
                assertEquals("Jane", firstName);
                
                assertAll("first name",
                    () -> assertTrue(firstName.startsWith("J")),
                    () -> assertTrue(firstName.endsWith("e"))
                );
            },
            () -> {
//                assertAll ì˜ ê° ê°œë³„ assertionì€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì—, assertionì´ ì‹¤íŒ¨í•˜ë”ë¼ë„ ì´í›„ assertionì€ ì‹¤í–‰ëœë‹¤.
//                ì•„ë˜ ì½”ë“œëŠ” ìœ„ì˜ firstName assertionì´ ì‹¤íŒ¨í•˜ë”ë¼ë„ ì‹¤í–‰ëœë‹¤.
                String lastName = person.getLastName();
                assertNotNull(lastName);

                assertAll("last name",
                    () -> assertTrue(lastName.startsWith("D")),
                    () -> assertTrue(lastName.endsWith("e"))
                );
            }
        );
    }

    @Test
    void exceptionTesting() {
//        ë°œìƒì´ ì˜ˆìƒë˜ëŠ” Exception ì„ assertThrows ì˜ ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ê³ , ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ëŠ” ì½”ë“œë¥¼ ëŒë‹¤ë¡œ ì „ë‹¬í•˜ì—¬
//        ì˜ˆìƒí•œ Exception ì´ ë°œìƒí•˜ëŠ”ì§€ í™•ì¸í•œë‹¤.
        Exception exception = assertThrows(ArithmeticException.class, () ->
            calculator.divide(1, 0));
        assertEquals("/ by zero", exception.getMessage());
    }

    @Test
    void timeoutNotExceeded() {
//        ì½”ë“œì‹¤í–‰ ì‹œê°„ì´ 2ì´ˆë¥¼ ë„˜ê¸°ë©´ assertion ì‹¤íŒ¨í•œë‹¤.
        assertTimeout(Duration.ofSeconds(2), () -> {
            Thread.sleep(1000);
        });
    }
    
    @Test
    void timeoutNotExceededWithResult() {
//        ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆì— ê²°ê³¼ê°’ì„ ë¦¬í„´í•˜ëŠ” ê²½ìš°, ë¦¬í„´ëœ ê²°ê³¼ê°’ì„ assertion í•  ìˆ˜ ìˆë‹¤.
//        Timeout ì´ ë°œìƒí•˜ë©´ assertion ì‹¤íŒ¨í•˜ê³  í…ŒìŠ¤íŠ¸ ì¢…ë£Œë˜ë©°, Timeout ì´ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©´ ë¦¬í„´ëœ ê²°ê³¼ê°’ì„ assertion í•œë‹¤.
        String actualResult = assertTimeout(ofMinutes(2), () -> {
            return "a result";
        });
        assertEquals("a result", actualResult);
    }

    @Test
    void timeoutNotExceededWithMethod() {
//        method ì°¸ì¡°ë¥¼ ì´ìš©í•˜ì—¬ assertion í•  ìˆ˜ ìˆë‹¤.
        String actualGreeting = assertTimeout(ofMinutes(2), AssertionsDemo::greeting);
        assertEquals("Hello, World!", actualGreeting);
    }
    
    @Test
    void timeoutExceededWithPreemptiveTermination() {
//        timeoutExceededWithPreemptiveTermination í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ assertTimeout ê³¼ ê°™ì€ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰ í•  ìˆ˜ ìˆë‹¤.
//        timeoutExceededWithPreemptiveTerminationê°€ assertTimeout ê³¼ ë‹¤ë¥¸ ì ì€ ì•„ë˜ ì„¤ëª… ì°¸ê³ 
        assertTimeoutPreemptively(ofMillis(10), () -> {
            new CountDownLatch(1).await();
        });
    }

    private static String greeting() {
        return "Hello, World!";
    }

}
```

---
_assertTimeoutPreemptively() í•¨ìˆ˜ë¥¼ ì´ìš©í•œ ì„ ì œì  íƒ€ì„ì•„ì›ƒ  
Assertions í´ë˜ìŠ¤ì— ìˆëŠ” ë‹¤ì–‘í•œ assertTimeoutPreemptively()ëŠ” Executable íƒ€ì…ì´ë‚˜ Supplier íƒ€ì…ì„ í˜¸ì¶œí•˜ëŠ” ì½”ë“œì™€ ë¶„ë¦¬ëœ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰í•œë‹¤. Executableì´ë‚˜ Supplierì˜ ì½”ë“œê°€ java.lang.ThreadLocal storageë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš° ë¶€ì‘ìš©ì„ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤.  
Spring Framework ì—ì„œ ì§€ì›í•˜ëŠ” íŠ¸ëœì­ì…˜ í…ŒìŠ¤íŠ¸ê°€ ëŒ€í‘œì ì¸ ì˜ˆ ì´ë‹¤.  
íŠ¹ë³„íˆ ìŠ¤í”„ë§ í…ŒìŠ¤íŠ¸ëŠ”  í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ê°€ ì‹¤í–‰ ë˜ê¸° ì „ì— TreadLocalì„ ì´ìš©í•´ íŠ¸ëœì­ì…˜ ìƒíƒœë¥¼ í˜„ì¬ ìŠ¤ë ˆë“œì— ë°”ì¸ë”© í•œë‹¤.  
ê²°ê³¼ì ìœ¼ë¡œ, assertTimeoutPreemptively()í•¨ìˆ˜ì— ì œê³µëœ Excutableì´ë‚˜ Sullpierê°€ íŠ¸ëœì­ì…˜ì— í¬í•¨ë˜ëŠ” ìŠ¤í”„ë§ ê´€ë¦¬ ì½¤í¬ë„ŒíŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤ë©´, ì½¤í¬ë„ŒíŠ¸ê°€ ìˆ˜í–‰í•˜ëŠ” ì–´ë–¤ í–‰ë™ë“¤ë„ testì—ì„œ ê´€ë¦¬ë˜ëŠ” íŠ¸ëœì­ì…˜ê³¼ í•¨ê»˜ ë¡¤ë°±ë˜ì§€ ì•ŠëŠ”ë‹¤.
ì´ì™€ ë°˜ëŒ€ë¡œ, test ê´€ë¦¬ íŠ¸ëœì­ì…˜ì´ ë¡¤ë°±ëœë‹¤ í•˜ë”ë¼ë„, í•´ë‹¹ í–‰ë™ë“¤ì€ dbì™€ ê°™ì€ persistent sotreì— ì»¤ë°‹ ëœë‹¤.  
ThreadLocal storageë¥¼ ì´ìš©í•˜ëŠ” ë‹¤ë¥¸ í”„ë ˆì„ì›ë“¤ë„ ë¹„ìŠ·í•œ ë¶€ì‘ìš©ì„ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤._
---

### 2.5.1. Kotlin Assertion Support
JUnit Jupiter ëŠ” Kotlinì— ì í•©í•œ assertion í•¨ìˆ˜ë„ ì¼ë¶€ ì§€ì›í•˜ê³ , ì´ëŠ” JUnit Jupiterì˜ org.junit.jupiter.api íŒ¨í‚¤ì§€ì˜ ìµœ ìƒìœ„ í•¨ìˆ˜ë¡œ ë˜ì–´ ìˆë‹¤.  
Kotlin ê´€ë ¨ ë‚´ìš©ì€ ì¼ë‹¨ íŒ¨ìŠ¤~~~

```kotlin
import example.domain.Person
import example.util.Calculator
import org.junit.jupiter.api.Assertions.assertEquals
import org.junit.jupiter.api.Assertions.assertTrue
import org.junit.jupiter.api.Tag
import org.junit.jupiter.api.Test
import org.junit.jupiter.api.assertAll
import org.junit.jupiter.api.assertDoesNotThrow
import org.junit.jupiter.api.assertThrows
import org.junit.jupiter.api.assertTimeout
import org.junit.jupiter.api.assertTimeoutPreemptively
import java.time.Duration

class KotlinAssertionsDemo {

    private val person = Person("Jane", "Doe")
    private val people = setOf(person, Person("John", "Doe"))

    @Test
    fun `exception absence testing`() {
        val calculator = Calculator()
        val result = assertDoesNotThrow("Should not throw an exception") {
            calculator.divide(0, 1)
        }
        assertEquals(0, result)
    }

    @Test
    fun `expected exception testing`() {
        val calculator = Calculator()
        val exception = assertThrows<ArithmeticException> ("Should throw an exception") {
            calculator.divide(1, 0)
        }
        assertEquals("/ by zero", exception.message)
    }

    @Test
    fun `grouped assertions`() {
        assertAll(
            "Person properties",
            { assertEquals("Jane", person.firstName) },
            { assertEquals("Doe", person.lastName) }
        )
    }

    @Test
    fun `grouped assertions from a stream`() {
        assertAll(
            "People with first name starting with J",
            people
                .stream()
                .map {
                    // This mapping returns Stream<() -> Unit>
                    { assertTrue(it.firstName.startsWith("J")) }
                }
        )
    }

    @Test
    fun `grouped assertions from a collection`() {
        assertAll(
            "People with last name of Doe",
            people.map { { assertEquals("Doe", it.lastName) } }
        )
    }

    @Test
    fun `timeout not exceeded testing`() {
        val fibonacciCalculator = FibonacciCalculator()
        val result = assertTimeout(Duration.ofMillis(1000)) {
            fibonacciCalculator.fib(14)
        }
        assertEquals(377, result)
    }

    @Test
    fun `timeout exceeded with preemptive termination`() {
        // The following assertion fails with an error message similar to:
        // execution timed out after 10 ms
        assertTimeoutPreemptively(Duration.ofMillis(10)) {
            // Simulate task that takes more than 10 ms.
            Thread.sleep(100)
        }
    }
}
```

### 2.5.2. Third-party Assertion Libraries
JUnit Jupiterì— ì˜í•´ ì œê³µë˜ëŠ” assertion ê¸°ëŠ¥ë“¤ì´ ë§ì€ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ì— ì í•©í•˜ë‹¤ í•˜ë”ë¼ë„, ë•Œë•Œë¡œ matcherì™€ ê°™ì€ ì¶”ê°€ ê¸°ëŠ¥ë“¤ì´ í•„ìš”í•œ ê²½ìš°ê°€ ìˆë‹¤.
ê·¸ëŸ° ê²½ìš°, JUnit íŒ€ì€ AssertJ, Hamcrest, Truth ë“±ì˜ ì„œë“œíŒŒí‹° assertion ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•œë‹¤.

ì˜ˆë¡œ, matcherì™€ fluent APIì˜ ì¡°í•©ì€ assertionì„ ë” ìì„¸í•˜ê³  ì½ê¸° ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ Junit 4ì—ì„œ ì§€ì›í•˜ê³  Hamcrest Matcherì—ì„œ ì±„íƒëœ assertThat() í•¨ìˆ˜ëŠ” JUnit Jupiterì—ì„œëŠ” ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.
ëŒ€ì‹ , ê°œë°œìë“¤ì€ ì„œë“œíŒŒí‹° assertion ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” matcherë¥¼ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•œë‹¤. 

ì•„ë˜ ì˜ˆì œëŠ” JUnit Jupiter í…ŒìŠ¤íŠ¸ì—ì„œ Hamcrestì˜ assertThat() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤€ë‹¤. Hamcrest ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ classpathì— ì¶”ê°€ë˜ì–´ ìˆëŠ”í•œ, assertThat(), is(), equalTo()ì™€ ê°™ì€ í•¨ìˆ˜ë“¤ì„ static import í•  ìˆ˜ ìˆê³ , ì•„ë˜ì˜ assertWithHamcrestMatcher() í•¨ìˆ˜ì²˜ëŸ¼ í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```java
import static org.hamcrest.CoreMatchers.equalTo;
import static org.hamcrest.CoreMatchers.is;
import static org.hamcrest.MatcherAssert.assertThat;

import example.util.Calculator;

import org.junit.jupiter.api.Test;

class HamcrestAssertionsDemo {

    private final Calculator calculator = new Calculator();

    @Test
    void assertWithHamcrestMatcher() {
        assertThat(calculator.subtract(4, 1), is(equalTo(3)));
    }

}
```
ë¬¼ë¡ , JUnit 4 í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ë ˆê±°ì‹œ í…ŒìŠ¤íŠ¸ëŠ” org.junit.Assert#assertThatì„ ê³„ì† ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.


## 2.6. Assumptions
JUnit Jupiter ì—ëŠ” JUnit 4ì—ì„œ ì œê³µí•˜ëŠ” assumption ë©”ì†Œë“œì˜ í•˜ìœ„ ì§‘í•©ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, Java 8 ëŒë‹¤ í‘œí˜„ì‹ê³¼ ë©”ì†Œë“œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë° ì í•©í•œ ëª‡ ê°€ì§€ ë©”ì†Œë“œê°€ ì¶”ê°€ë˜ì—ˆë‹¤. 
ëª¨ë“  JUnit Jupiter assumption ë©”ì†Œë“œëŠ” org.junit.jupiter.api.Assumptions í´ë˜ìŠ¤ì— static ìœ¼ë¡œ ì •ì˜ ë˜ì–´ ìˆë‹¤.

```java
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assumptions.assumeTrue;
import static org.junit.jupiter.api.Assumptions.assumingThat;

import example.util.Calculator;

import org.junit.jupiter.api.Test;

class AssumptionsDemo {

    private final Calculator calculator = new Calculator();

    @Test
    void testOnlyOnCiServer() {
        assumeTrue("CI".equals(System.getenv("ENV")));
    }

    @Test
    void testOnlyOnDeveloperWorkstation() {
//        í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ë©´, í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨ë¡œ í‘œì‹œë˜ì§€ ì•Šê³ , ë¬´ì‹œëœë‹¤.
//        í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•  ê²½ìš° "Assumption failed: Aborting test: not on developer workstation" ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤.
        assumeTrue("DEV".equals(System.getenv("ENV")),
                () -> "Aborting test: not on developer workstation");
    }

    @Test
    void testInAllEnvironments() {
//        ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°ê°€ true ì¼ ê²½ìš°, ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ëœ ëŒë‹¤ í‘œí˜„ì‹ì´ ì‹¤í–‰ëœë‹¤.
//        ì²œë²ˆì§¸ íŒŒë¼ë¯¸í„°ê°€ false ì¼ ê²½ìš°, ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ëœ ëŒë‹¤ í‘œí˜„ì‹ì€ ë¬´ì‹œ ëœë‹¤.
        assumingThat("CI".equals(System.getenv("ENV")),
                () -> {
                    assertEquals(2, calculator.divide(4, 2));
                });

        // System.getenv("ENV") ê°€ CI ì´ë˜ ì•„ë‹ˆë˜, (ì¤‘ê°„ì— assertion ì´ ì‹¤íŒ¨í•˜ì§€ ì•ŠëŠ” ì´ìƒ) ë¬´ì¡°ê±´ ì‹¤í–‰ ëœë‹¤.
        assertEquals(42, calculator.multiply(6, 7));
    }

}
```

---
_JUnit Jupiter 5.4 ì´í›„ë¡œ, JUnit 4ì˜ org.junit.Assume í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œë¥¼ assumptionìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íŠ¹íˆ, JUnit JupiterëŠ” JUnit 4ì˜ AssumptionViolatedExceptionì„ ì§€ì›í•˜ì—¬ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨ë¡œ í‘œì‹œë˜ëŠ” ëŒ€ì‹  í…ŒìŠ¤íŠ¸ê°€ ì¤‘ë‹¨ë˜ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ë‚¸ë‹¤._

---


## 2.7. Disabling Tests
í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë‚˜ ê°œë³„ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë¥¼ ë¹„ í™œì„±í™” ì‹œí‚¤ëŠ” ë°©ë²•
1. @Disabled ì–´ë…¸í…Œì´ì…˜
2. Conditional Test Execution ì—ì„œ ì„¤ëª…í•œ ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš©
3. ì‚¬ìš©ì ì •ì˜ ExecutionConditionì„ ì‚¬ìš©

@Disabled ì˜ˆì œ
```java
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Nested;
import org.junit.jupiter.api.Test;

public class DisabledDemo {
    @Disabled("Disabled until bug #42 has been resolved")
    @Test
    void testWillBeSkipped() {
    }

    @Test
    void testWillBeExecuted() {
    }

    @Disabled
    @Nested
    class DisabledTestClass {
        @Test
        void testWillBeSkipped() {
        }
    }

    @Nested
    class EnsabledTestClass {
        @Test
        void testWillBeExecuted() {
        }
    }

}
```
---
_@Disabledë¥¼ ì‚¬ìš©í• ë•Œ ì´ìœ ë¥¼ ì‘ì„± í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. í•˜ì§€ë§Œ JUnit íŒ€ì€ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë‚˜ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ê°€ ì™œ ë¹„í™œì„±í™” ë˜ì—ˆëŠ”ì§€ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì„ ì‘ì„±í•  ê²ƒì„ ê¶Œì¥í•œë‹¤._ 

---


## 2.8. Conditional Test Execution
JUnit Jupiterì˜ ExecutionCondition í™•ì¥ APIëŠ” íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ ì»¨í…Œì´ë„ˆë‚˜ í…ŒìŠ¤íŠ¸ ë² ì´ìŠ¤ë¥¼ í”„ë¡œê·¸ë¨ì ìœ¼ë¡œ í™œì„±í™”, ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤.
ì¡°ê±´ì„ ì§€ì •í•˜ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ì˜ˆëŠ” @Disabled ì–´ë…¸í…Œì´ì…˜ì„ ì§€ì›í•˜ëŠ” DisabledConditionì´ë‹¤. (Disabling Tests ì°¸ê³ )
JUnit JupiterëŠ” @Disabledì™¸ì—ë„ ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ëª‡ê°€ì§€ ì¡°ê±´(org.junit.jupiter.api.condition)ì„ ì§€ì›í•œë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ê°œë°œìê°€ ì„ ì–¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë‚˜ í…ŒìŠ¤íŠ¸ë¥¼ í™œì„±í™”, ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤.
ë³µìˆ˜ê°œì˜ ExecutionCondition ì´ ë“±ë¡ë˜ëŠ” ê²½ìš°, ì»¨í…Œì´ë„ˆë‚˜ í…ŒìŠ¤íŠ¸ëŠ” í•˜ë‚˜ì˜ ì¡°ê±´ì´ë¼ë„ ë¹„í™œì„±í™” ë˜ë©´ ë¹„í™œì„±í™” ëœë‹¤.
ë§Œì•½ ë¹„í™œì„±í™” ëœ ì´ìœ ë¥¼ ì œê³µí•˜ê³  ì‹¶ë‹¤ë©´, ê°ê°ì˜ ì–´ë…¸í…Œì´ì…˜ì—ëŠ” disabledReason ì†ì„±ì„ ì‘ì„±í•˜ë©´ ëœë‹¤.

---
_**Composed Annotations**  
ì´í›„ì— ì‘ì„±ëœ ì¡°ê±´ ì–´ë…¸í…Œì´ì…˜ë“¤ ì—­ì‹œ ì‚¬ìš©ì ì •ì˜ ì–´ë…¸í…Œì´ì…˜ì„ ìƒì„±í•˜ê¸° ìœ„í•œ meta-annotationìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, @TestOnMac ì–´ë…¸í…Œì´ì…˜ì€ @Testì™€ @EnabledOnOsë¥¼ ì¡°í•©í•œ ì–´ë…¸í…Œì´ì…˜ì´ë‹¤._

---

---
_ë‹¬ë¦¬ ëª…ì‹œë˜ì§€ ì•ŠëŠ” í•œ, ë‹¤ìŒ ì„¹ì…˜ì— ë‚˜ì—´ëœ ê° ì¡°ê±´ ì–´ë…¸í…Œì´ì…˜ì€ í…ŒìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤, í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì—ì„œ í•œ ë²ˆë§Œ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤. ì¡°ê±´ ì–´ë…¸í…Œì´ì…˜ì´ ì§ì ‘ì ìœ¼ë¡œ, ê°„ì ‘ì ìœ¼ë¡œ ë˜ëŠ” ë©”íƒ€ë¡œ í•œ ìš”ì†Œì— ì—¬ëŸ¬ ë²ˆ ì¡´ì¬í•˜ëŠ” ê²½ìš°, JUnitì— ì˜í•´ ë°œê²¬ëœ ì²« ë²ˆì§¸ ì–´ë…¸í…Œì´ì…˜ë§Œ ì‚¬ìš©ëœë‹¤. ì¶”ê°€ ì„ ì–¸ì€ ë¬´ì‹œëœë‹¤.  
ê·¸ëŸ¬ë‚˜, ê° ì¡°ê±´ ì–´ë…¸í…Œì´ì…˜ì€ org.junit.jupiter.api.condition íŒ¨í‚¤ì§€ì˜ ë‹¤ë¥¸ ì¡°ê±´ ì–´ë…¸í…Œì´ì…˜ê³¼ í•¨ê»˜ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤._

---

### 2.8.1. Operating System and Architecture Conditions
ì»¨í…Œì´ë„ˆ ë‚˜ í…ŒìŠ¤íŠ¸ëŠ” @EnabledOnOsì™€ @DisabledOnOs ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ì„œ íŠ¹ì • ìš´ì˜ì²´ì œë‚˜ ì•„í‚¤í…ì²˜ì—ì„œë§Œ ì‹¤í–‰ë˜ë„ë¡ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

_Conditional execution based on operating system_
```java
@Test
@EnabledOnOs(MAC)
void onlyOnMacOs() {
    // ...
}

@TestOnMac
void testOnMac() {
    // ...
}

@Test
@EnabledOnOs({ LINUX, MAC })
void onLinuxOrMac() {
    // ...
}

@Test
@DisabledOnOs(WINDOWS)
void notOnWindows() {
    // ...
}

@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
@Test
@EnabledOnOs(MAC)
@interface TestOnMac {
}
```
_Conditional execution based on architecture_
```java
@Test
@EnabledOnOs(architectures = "aarch64")
void onAarch64() {
    // ...
}

@Test
@DisabledOnOs(architectures = "x86_64")
void notOnX86_64() {
    // ...
}

@Test
@EnabledOnOs(value = MAC, architectures = "aarch64")
void onNewMacs() {
    // ...
}

@Test
@DisabledOnOs(value = MAC, architectures = "aarch64")
void notOnNewMacs() {
    // ...
}
```

### 2.8.2. Java Runtime Environment Conditions
ì»¨í…Œì´ë„ˆë‚˜ í…ŒìŠ¤íŠ¸ëŠ” @EnabledOnJreì™€ @DisabledOnJre ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ì„œ íŠ¹ì • ë²„ì „ì˜ ìë°” ëŸ°íƒ€ì„ í™˜ê²½ì—ì„œë§Œ ì‹¤í–‰ë˜ë„ë¡ ì§€ì •í•˜ê±°ë‚˜, @EnabledForJreRangeì™€ @DisabledForJreRange ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ì„œ ì‹¤í–‰ë˜ê±°ë‚˜ ì‹¤í–‰ë˜ì§€ ì•Šì„ JREì˜ ë²”ìœ„ë¥¼ ì§€ì • í•  ìˆ˜ ìˆë‹¤. ë²”ìœ„ëŠ” JRE.JAVA_8ì„ í•˜í•œ (min)ìœ¼ë¡œ JRE.OTHERë¥¼ ìƒí•œ (max)ìœ¼ë¡œ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ë©°, ë°˜ ê°œë°© ë²”ìœ„ì˜ ì‚¬ìš©ì„ í—ˆìš©í•œë‹¤.

```java
@Test
@EnabledOnJre(JAVA_8)
void onlyOnJava8() {
    // ...
}

@Test
@EnabledOnJre({ JAVA_9, JAVA_10 })
void onJava9Or10() {
    // ...
}

@Test
@EnabledForJreRange(min = JAVA_9, max = JAVA_11)
void fromJava9to11() {
    // ...
}

@Test
@EnabledForJreRange(min = JAVA_9)
void fromJava9toCurrentJavaFeatureNumber() {
    // ...
}

@Test
@EnabledForJreRange(max = JAVA_11)
void fromJava8To11() {
    // ...
}

@Test
@DisabledOnJre(JAVA_9)
void notOnJava9() {
    // ...
}

@Test
@DisabledForJreRange(min = JAVA_9, max = JAVA_11)
void notFromJava9to11() {
    // ...
}

@Test
@DisabledForJreRange(min = JAVA_9)
void notFromJava9toCurrentJavaFeatureNumber() {
    // ...
}

@Test
@DisabledForJreRange(max = JAVA_11)
void notFromJava8to11() {
    // ...
}
```

### 2.8.3. Native Image Conditions
@EnabledInNativeImage, @DisabledInNativeImage ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆë‚˜ í…ŒìŠ¤íŠ¸ê°€ GraalVM ë„¤ì´í‹°ë¸Œ ì´ë¯¸ì§€ì—ì„œë§Œ ì‹¤í–‰ë˜ë„ë¡ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ ì¼ë°˜ì ìœ¼ë¡œ GraalVM Native Build Tools í”„ë¡œì íŠ¸ì˜ Gradleê³¼ Maven í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ì—¬ ë„¤ì´í‹°ë¸Œ ì´ë¯¸ì§€ ë‚´ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©ëœë‹¤.

```java
@Test
@EnabledInNativeImage
void onlyWithinNativeImage() {
    // ...
}

@Test
@DisabledInNativeImage
void neverWithinNativeImage() {
    // ...
}
```

### 2.8.4. System Property Conditions
@EnabledIfSystemProperty ì™€ @DisabledIfSystemProperty annotationsì„ ì´ìš©í•˜ì—¬ JVM í™˜ê²½ ë³€ìˆ˜ì˜ ê°’ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ë¥¼ í™œì„±í™” ë˜ëŠ” ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤.
matches ì†ì„±ìœ¼ë¡œ ì§€ì •ëœ ê°’ì€ ì •ê·œ í‘œí˜„ì‹ìœ¼ë¡œ í•´ì„ëœë‹¤.

```java
@Test
@EnabledIfSystemProperty(named = "os.arch", matches = ".*64.*")
void onlyOn64BitArchitectures() {
    // ...
}

@Test
@DisabledIfSystemProperty(named = "ci-server", matches = "true")
void notOnCiServer() {
    // ...
}
```
---
_JUnit Jupiter 5.6 ì´í›„, @EnabledIfSystemProperty ì™€ @DisabledIfSystemPropertyëŠ” ë°˜ë³µ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
ë”°ë¼ì„œ ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ í…ŒìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤, í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì— ì—¬ëŸ¬ ë²ˆ ì„ ì–¸ë  ìˆ˜ ìˆë‹¤.
íŠ¹íˆ, ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ ì§ì ‘ì , ê°„ì ‘ì  ë˜ëŠ” ë©”íƒ€ë¡œ ì„ ì–¸ë  ìˆ˜ ìˆë‹¤._

---

### 2.8.5. Environment Variable Conditions
@EnabledIfEnvironmentVariable, @DisabledIfEnvironmentVariable ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ì„œ OS í™˜ê²½ ë³€ìˆ˜ì˜ ê°’ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ë¥¼ í™œì„±í™” ë˜ëŠ” ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤.
matches ì†ì„±ìœ¼ë¡œ ì§€ì •ëœ ê°’ì€ ì •ê·œ í‘œí˜„ì‹ìœ¼ë¡œ í•´ì„ëœë‹¤.

```java
@Test
@EnabledIfEnvironmentVariable(named = "ENV", matches = "staging-server")
void onlyOnStagingServer() {
    // ...
}

@Test
@DisabledIfEnvironmentVariable(named = "ENV", matches = ".*development.*")
void notOnDeveloperWorkstation() {
    // ...
}
```
---
_JUnit Jupiter 5.6 ì´í›„, @EnabledIfEnvironmentVariable ì™€ @DisabledIfEnvironmentVariableëŠ” ë°˜ë³µ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
ë”°ë¼ì„œ ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ í…ŒìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤, í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì— ì—¬ëŸ¬ ë²ˆ ì„ ì–¸ë  ìˆ˜ ìˆë‹¤.
íŠ¹íˆ, ì´ëŸ¬í•œ ì–´ë…¸í…Œì´ì…˜ì€ ì§ì ‘ì , ê°„ì ‘ì  ë˜ëŠ” ë©”íƒ€ë¡œ ì„ ì–¸ë  ìˆ˜ ìˆë‹¤._

---

### 2.8.6. Custom Conditions
ExecutionConditionì„ êµ¬í˜„í•˜ëŠ” ëŒ€ì‹  @EnabledIf ì™€ @DisabledIf ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ì¡°ê±´ ë©”ì†Œë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë‚˜ í…ŒìŠ¤íŠ¸ë¥¼ í™œì„±í™” ë˜ëŠ” ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤.
ì¡°ê±´ ë©”ì†Œë“œëŠ” boolean ë°˜í™˜ íƒ€ì…ì„ ê°€ì ¸ì•¼ í•˜ë©° ì¸ìë¥¼ ë°›ì§€ ì•Šê±°ë‚˜ ë‹¨ì¼ ExtensionContext ì¸ìë¥¼ ë°›ì•„ì•¼ í•œë‹¤.

ì•„ë˜ í…ŒìŠ¤íŠ¸ëŠ” @EnabledIf ì™€ @DisabledIf ì–´ë…¸í…Œì´ì…˜ì— customCondition ë©”ì†Œë“œë¥¼ ì„¤ì •í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ í™œì„±í™” ë˜ëŠ” ë¹„í™œì„±í™” í•˜ëŠ” ì˜ˆì œë¥¼ ë³´ì—¬ì¤€ë‹¤.


```java
@Test
@EnabledIf("customCondition")
void enabled() {
    // ...
}

@Test
@DisabledIf("customCondition")
void disabled() {
    // ...
}

boolean customCondition() {
    return true;
}
```
ì¡°ê±´ ë©”ì†Œë“œëŠ” í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ì™¸ë¶€ì— ìœ„ì¹˜ í•  ìˆ˜ ìˆë‹¤. ì´ ê²½ìš° ë‹¤ìŒ ì˜ˆì œì™€ ê°™ì´ ì™„ì „íˆ ì •ê·œí™”ëœ ì´ë¦„ìœ¼ë¡œ ì°¸ì¡°ë˜ì–´ì•¼ í•œë‹¤.
```java
package example;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.condition.EnabledIf;

class ExternalCustomConditionDemo {

    @Test
    @EnabledIf("example.ExternalCondition#customCondition")
    void enabled() {
        // ...
    }

}

class ExternalCondition {

    static boolean customCondition() {
        return true;
    }

}
```
---
_ì¡°ê±´ ë©”ì†Œë“œê°€ static ì´ì–´ì•¼ í•˜ëŠ” ëª‡ê°€ì§€ ê²½ìš°ë“¤ì´ ìˆë‹¤:_
_@EnabledIf ë˜ëŠ” @DisabledIf ì–´ë…¸í…Œì´ì…˜ì´ class ìˆ˜ì¤€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê²½ìš°_
_@EnabledIf ë˜ëŠ” @DisabledIf ì–´ë…¸í…Œì´ì…˜ì´ @ParameterizedTest ë˜ëŠ” @TestTemplate ë©”ì†Œë“œì—ì„œ ì‚¬ìš©ë˜ëŠ” ê²½ìš°_
_ì¡°ê±´ ë©”ì†Œë“œê°€ ì™¸ë¶€ í´ë˜ìŠ¤ì— ìœ„ì¹˜í•˜ëŠ” ê²½ìš°_
_ê·¸ì™¸ì—ë„, ì¡°ê±´ ë©”ì†Œë“œëŠ” static ë©”ì†Œë“œ ë˜ëŠ” instance ë©”ì†Œë“œì¼ ìˆ˜ ìˆë‹¤._ 

_ì˜ˆë¡œ, java.awt.GraphicsEnvironmentëŠ” í˜„ì¬ í™˜ê²½ì´ ê·¸ë˜í”½ ë””ìŠ¤í”Œë ˆì´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ”ì§€ë¥¼ í™•ì¸í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” public static boolean isHeadless() ë©”ì†Œë“œë¥¼ ì œê³µí•œë‹¤.
ë”°ë¼ì„œ ì•„ë˜ ì˜ˆì œì™€ ê°™ì´ ê·¸ë˜í”½ ì§€ì›ì— ì˜ì¡´í•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ ê·¸ëŸ¬í•œ ì§€ì›ì´ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•œ ê²½ìš° ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤._
```java
@DisabledIf(value = "java.awt.GraphicsEnvironment#isHeadless", disabledReason = "headless environment")
```

---


## 2.9. Tagging and Filtering
@Tag ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ì„œ í´ë˜ìŠ¤ë‚˜ ë©”ì†Œë“œì— tagë¥¼ ë‹¬ ìˆ˜ ìˆë‹¤.
tagëŠ” ì´í›„ í…ŒìŠ¤íŠ¸ ê²€ìƒ‰ ë° ì‹¤í–‰ì— ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. tagì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ JUnit Platformì˜ Tag ë¶€ë¶„ ì°¸ê³ .

```java
import org.junit.jupiter.api.Tag;
import org.junit.jupiter.api.Test;

@Tag("fast")
@Tag("model")
class TaggingDemo {

    @Test
    @Tag("taxes")
    void testingTaxCalculation() {
    }

}
```


## 2.10. Test Execution Order
ê¸°ë³¸ì ìœ¼ë¡œ, í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œëŠ” ê²°ì •ì ì´ì§€ë§Œ ì˜ë„ì ìœ¼ë¡œ ëª…í™•í•˜ì§€ ì•Šì€ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ì •ë ¬ëœë‹¤.
ì´ë ‡ê²Œ í•˜ë©´ í…ŒìŠ¤íŠ¸ ë„êµ¬ ëª¨ìŒì˜ í›„ì† ì‹¤í–‰ì—ì„œ ë™ì¼í•œ ìˆœì„œë¡œ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì™€ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ë¯€ë¡œ ë°˜ë³µ í•´ì„œ ë¹Œë“œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### 2.10.1. Method Order
ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ ìˆœì„œì— ì˜í–¥ì„ ë°›ì§€ëŠ” ì•Šì§€ë§Œ, íŠ¹ì • í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ì œì–´í•˜ê³  ì‹¶ì€ ê²½ìš°ê°€ ìˆë‹¤.
ì˜ˆë¡œ, í†µí•©í…ŒìŠ¤íŠ¸ë‚˜ ê¸°ëŠ¥í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í• ë•Œ(íŠ¹ë³„íˆ @TestInstance(Lifecycle.PER_CLASS)ë¥¼ ì ìš©í•˜ëŠ” ê²½ìš°)ëŠ” í…ŒìŠ¤íŠ¸ ìˆœì„œê°€ ì¤‘ìš”í•œ ê²½ìš°ê°€ ìˆë‹¤.

í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ì œì–´í•˜ê¸° ìœ„í•´ì„œëŠ” @TestMethodOrder ì–´ë…¸í…Œì´ì…˜ì— MethodOrderer êµ¬í˜„ì²´ë¥¼ ì§€ì •í•˜ë©´ ëœë‹¤.
ì‚¬ìš©ì ì§€ì • MethodOrdererë¥¼ êµ¬í˜„í•˜ê±°ë‚˜ ë‹¤ìŒ ë‚´ì¥ MethodOrderer êµ¬í˜„ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
* MethodOrderer.DisplayName: í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ display ì´ë¦„ì˜ ì•ŒíŒŒë²³ ìˆœì„œë¡œ ì •ë ¬í•œë‹¤.
* MethodOrderer.MethodName: í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œ ì´ë¦„ê³¼ í˜•ì‹ ë§¤ê°œ ë³€ìˆ˜ ëª©ë¡ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ì•ŒíŒŒë²³ ìˆœì„œë¡œ ì •ë ¬í•œë‹¤.
* MethodOrderer.OrderAnnotation: @Order ì–´ë…¸í…Œì´ì…˜ì— ì§€ì •ëœ ê°’ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ì •ë ¬í•œë‹¤. 
* MethodOrderer.Random: í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ë‚œìˆ˜ë¡œ ì •ë ¬í•˜ê³  ì‚¬ìš©ì ì •ì˜ ì‹œë“œë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. 
* MethodOrderer.Alphanumeric: í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œ ì´ë¦„ê³¼ í˜•ì‹ ë§¤ê°œ ë³€ìˆ˜ ëª©ë¡ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ì•ŒíŒŒë²³ ìˆœì„œë¡œ ì •ë ¬í•œë‹¤. MethodOrderer.MethodNameê°€ ìƒê¸°ë©´ì„œ deprecated ë˜ì—ˆë‹¤. 6.0 ë¶€í„°ëŠ” ì‚­ì œë  ê²ƒì´ë‹¤.

```java
public class MethodOrderDemo {

    @Nested
    @TestMethodOrder(MethodOrderer.DisplayName.class)
    class DisplayNameDemo {
//        ì‹¤í–‰ ìˆœì„œ
//        testA
//        testB
//        testD()
//        testE
        
        @Test
        @DisplayName("testA")
        void testA() {}

        @Test
        @DisplayName("testB")
        void testB() {}

        @Test
        @DisplayName("testE")
        void testC() {}

        @Test
        void testD() {}
    }

    @Nested
    @TestMethodOrder(MethodOrderer.MethodName.class)
    class MethodNameDemo {
//        ì‹¤í–‰ ìˆœì„œ
//        testA
//        testB
//        testE
//        testD()

        @Test
        @DisplayName("testA")
        void testA() {}

        @Test
        @DisplayName("testB")
        void testB() {}

        @Test
        @DisplayName("testE")
        void testC() {}

        @Test
        void testD() {}
    }


    @Nested
    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)
    class OrderAnnotationDemo {
//        ì‹¤í–‰ìˆœì„œ
//        testB()
//        testD()
//        testC()
//        testA()
            
        @Test
        void testA() {}

        @Test
        @Order(0)
        void testB() {}

        @Test
        @Order(5)
        void testC() {}

        @Test
        @Order(1)
        void testD() {}
    }


    @Nested
    @TestMethodOrder(MethodOrderer.Random.class)
    class RandomDemo {
//        ì‹¤í–‰ìˆœì„œ ê°€ ë§¤ë²ˆ ë‹¤ë¦„
        @Test
        void testA() {}

        @Test
        void testB() {}

        @Test
        void testC() {}

        @Test
        void testD() {}
    }

}
```

#### Setting the Default Method Orderer
junit.jupiter.testmethod.order.default ì„¤ì • ê°’ì„ í†µí•´ì„œ ê¸°ë³¸ MethodOrdererë¥¼ ì§€ì •(ì „ì²´ ê²½ë¡œë¥¼ ëª¨ë‘ ì‘ì„±í•´ì•¼ í•œë‹¤)í•  ìˆ˜ ìˆë‹¤.
@TestMethodOrder ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì„¤ì •í• ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ MethodOrderer êµ¬í˜„ì²´ë¥¼ ì§€ì •í•´ì•¼í•œë‹¤.
@TestMethodOrder ê°€ ë³„ë„ë¡œ ì§€ì •ë˜ì§€ ì•Šì€ ê²½ìš°ì— ì„¤ì •ëœë‹¤.

MethodOrderer.OrderAnnotation ë©”ì†Œë“œ ìˆœì„œë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•˜ë©´ ëœë‹¤.
(ì§ì ‘ êµ¬í˜„í•œ MethodOrdererì˜ êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì „ì²´ ê²½ë¡œë¥¼ ì‘ì„±í•´ ì£¼ë©´ ëœë‹¤.)
```properties
junit.jupiter.testmethod.order.default = org.junit.jupiter.api.MethodOrderer$OrderAnnotation
```

### 2.10.2. Class Order
í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë“¤ì´ ì¼ë°˜ì ìœ¼ë¡œ ê·¸ ì‹¤í–‰ìˆœì„œì— ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤ í•˜ë”ë¼ë„, íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ì œì–´í•˜ê³  ì‹¶ì€ ê²½ìš°ê°€ ìˆë‹¤.

í…ŒìŠ¤íŠ¸í´ë˜ìŠ¤ ì‚¬ì´ì— ì˜ë„ë˜ì§€ ì•Šì€ ì˜ì¡´ì„±ì´ ì—†ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ë¬´ì‘ìœ„ë¡œ ì‹¤í–‰í•˜ê³  ì‹¶ì€ ê²½ìš°ë„ ìˆê³ ,
ì•„ë˜ ì‹œë‚˜ë¦¬ì˜¤ ì²˜ëŸ¼ ë¹Œë“œíƒ€ì„ ìµœì í™”ë¥¼ ìœ„í•´ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ìˆœì„œë¥¼ ì •í•˜ê³  ì‹¶ì€ ê²½ìš°ë„ ìˆë‹¤.
* ì´ì „ì— ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ì™€ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‹¤í–‰: "fail fast" ëª¨ë“œ
* ë³‘ë ¬ ì‹¤í–‰ì´ í™œì„±í™”ëœ ê²½ìš°, ë” ê¸´ í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì˜ˆì•½: "shortest test plan execution duration" ëª¨ë“œ
* ê·¸ì™¸ ê¸°íƒ€ ë“±ë“±

ì „ì²´ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ì‹¤í–‰ìˆœì„œë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œëŠ” junit.jupiter.testclass.order.default ì„¤ì • ê°’ì„ í†µí•´ì„œ ê¸°ë³¸ ClassOrdererë¥¼ ì§€ì •(ì§€ì •ë˜ëŠ” í´ë˜ìŠ¤ëŠ” ClassOrdererë¥¼ êµ¬í˜„í•´ì•¼í•˜ê³ , ì „ì²´ ê²½ë¡œë¥¼ ëª¨ë‘ ì‘ì„±í•´ì•¼ í•œë‹¤)í•  ìˆ˜ ìˆë‹¤.
ì•„ë˜ ë‚˜ì—´ëœ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” ClassOrderer êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•´ë„ ë˜ê³ , ClassOrdererë¥¼ ì§ì ‘ êµ¬í˜„í•˜ì—¬ ì‚¬ìš©í•´ë„ ëœë‹¤.

* ClassOrderer.ClassName: ì „ì²´ ê²½ë¡œì˜ í´ë˜ìŠ¤ ì´ë¦„ ê¸°ì¤€ìœ¼ë¡œ ì•ŒíŒŒë²³ ìˆœì„œ ì •ë ¬ í•œë‹¤. 
* ClassOrderer.DisplayName: í´ë˜ìŠ¤ì˜ Display Name ê¸°ì¤€ìœ¼ë¡œ ì•ŒíŒŒë²³ ìˆœì„œ ì •ë ¬ í•œë‹¤.
* ClassOrderer.OrderAnnotation: @Order ì–´ë…¸í…Œì´ì…˜ì˜ ìˆ«ì ê°’(value) ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ í•œë‹¤.
* ClassOrderer.Random: í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ë‚œìˆ˜ë¡œ ì •ë ¬í•˜ê³  ì‚¬ìš©ì ì •ì˜ ì‹œë“œë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.

```java

@TestClassOrder(ClassOrderer.ClassName.class)
public class MethodOrderDemo {

    @Nested
    class Aaa {
        @Test
        void testA() {}
    }

    @Nested
    class Ccc {
        @Test
        void testC() {}
    }


    @Nested
    class Bbb {
        @Test
        void testB() {}
    }
}
```

ê¸°ë³¸ ClassOrdererë¥¼ ì§€ì •í•˜ê³  ì‹¶ë‹¤ë©´ properties íŒŒì¼((e.g., in src/test/resources/junit-platform.properties))ì— ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•˜ë©´ ëœë‹¤.
```properties
junit.jupiter.testclass.order.default = org.junit.jupiter.api.ClassOrderer$OrderAnnotation

```
ì„¤ì •ëœ ClassOrdererëŠ” ëª¨ë“  ìµœìƒìœ„ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤(ì •ì  ì¤‘ì²© í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ í¬í•¨)ì™€ @Nested í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— ì ìš©ëœë‹¤.  
_ìµœìƒìœ„ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ëŠ” ì„œë¡œì—ê²Œ ìƒëŒ€ì ì¸ ìˆœì„œë¥¼ ë¶€ì—¬ë°›ëŠ”ë‹¤. ë°˜ë©´, @Nested í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ëŠ” ë™ì¼í•œ í´ë˜ìŠ¤ì— í¬í•¨ëœ ë‹¤ë¥¸ @Nested í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— ìƒëŒ€ì ì¸ ìˆœì„œë¥¼ ë¶€ì—¬ë°›ëŠ”ë‹¤._

@Nested í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ìˆœì„œë¥¼ ì§€ì—­ì ìœ¼ë¡œ(locally) ì§€ì •í•˜ê¸° ìœ„í•´ì„œëŠ”, @TestClassOrder ì–´ë…¸í…Œì´ì…˜ì„ ìƒìœ„(@Nested í…ŒìŠ¤íŠ¸í´ë˜ìŠ¤ë¥¼ í¬í•¨í•˜ëŠ) í´ë˜ìŠ¤ì— ì‚¬ìš©í•˜ë©´ ëœë‹¤.
ì´ë•Œ @TestClassOrder ì–´ë…¸í…Œì´ì…˜ì— ClassOrderer êµ¬í˜„ì²´ë¥¼ ì§€ì •í•´ ì¤€ë‹¤.
ì§€ì •ëœ ClassOrdererëŠ” @Nested í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì™€ ê·¸ í•˜ìœ„ @Nested í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— ìˆœì°¨ì ìœ¼ë¡œ(recursively) ì ìš©ëœë‹¤.

ì§€ì—­ì ìœ¼ë¡œ(locally) ì§€ì •ëœ @TestClassOrder ì–´ë…¸í…Œì´ì…˜ì€ ìƒì†ë°›ì€ @TestClassOrder ì–´ë…¸í…Œì´ì…˜ ë˜ëŠ” junit.jupiter.testclass.order.default ì„¤ì • ê°’ìœ¼ë¡œ ì§€ì •ëœ ClassOrdererë¥¼ í•­ìƒ ì˜¤ë²„ë¼ì´ë“œí•œë‹¤.


## 2.11. Test Instance Lifecycle
ê°œë³„ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê³  ë³€ê²½ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœë¡œ ì¸í•´ ì˜ˆìƒì¹˜ ëª»í•œ ë¶€ì‘ìš©ì´ ë°œìƒí•˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´,
JUnitì€ ê° í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.
ì´ "per-method" í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ë¼ì´í”„ì‚¬ì´í´ì€ JUnit Jupiterì˜ ê¸°ë³¸ ë™ì‘ì´ë©°, ì´ì „ ë²„ì „ì˜ JUnitê³¼ ìœ ì‚¬í•˜ë‹¤.

_í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ëŠ” í…ŒìŠ¤íŠ¸ë©”ì†Œë“œê°€ ì¡°ê±´ì— ë”°ë¼ disabled(@Disabled, @DisabledOnOs, ë“±) ë˜ë”ë¼ë„ "per-method" í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ë¼ì´í”„ì‚¬ì´í´ëª¨ë“œê°€ ê°€ë™ì¤‘ ì´ë¼ë©´ ì—¬ì „íˆ ì¡´ì¬ í•œë‹¤._

ë§Œì•½ JUnit Jupiter ê°€ ëª¨ë“  í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ë™ì¼í•œ í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‹¤í–‰í•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´, í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— @TestInstance(Lifecycle.PER_CLASS) ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
ì´ ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë‹¹ í•œë²ˆë§Œ ìƒì„±ëœë‹¤.
ë”°ë¼ì„œ, í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œê°€ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ì €ì¥ëœ ìƒíƒœ ì˜ì¡´í•˜ê³  ìˆë‹¤ë©´, @BeforeEach ë˜ëŠ” @AfterEach ë©”ì†Œë“œì—ì„œ í•´ë‹¹ ìƒíƒœë¥¼ ì¬ì„¤ì •í•´ì•¼ í•œë‹¤.

"per-class" ëª¨ë“œëŠ” "per-method" ëª¨ë“œë³´ë‹¤ ëª‡ê°€ì§€ ì¶”ê°€ì ì¸ ì´ì ì´ ìˆë‹¤. 
íŠ¹ë³„íˆ, "per-class" ëª¨ë“œì—ì„œ @BeforeAll, @AfterAll ì–´ë…¸í…Œì´ì…˜ì€ ì¸í„°í˜ì´ìŠ¤ì˜ default ë©”ì†Œë“œ ë¿ ì•„ë‹ˆë¼ non-static ë©”ì†Œë“œì—ë„ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.
@BeforeAll, @AfterAll ì–´ë…¸í…Œì´ì…˜ì€ @Nested í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

_Java 16 ë²„ì „ ì´í›„ë¡œ, @BeforeAll, @AfterAll ì–´ë…¸í…Œì´ì…˜ì€ @Nested í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œ staticìœ¼ë¡œ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤._

ì½”í‹€ë¦°ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ëª¨ë“œë¥¼ ì‘ì„±í•˜ê³  ìˆë‹¤ë©´, 
"per-class" í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ë¼ì´í”„ ì‚¬ì´í´ ëª¨ë“œë¡œ ë³€í™˜í•˜ì—¬ non-static @BeforeAll, @AfterAll ë¼ì´í”„ì‚¬ì´í´ ë©”ì†Œë“œ ë° @MethodSource íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ë” ì‰½ë‹¤. 

### 2.11.1. Changing the Default Test Instance Lifecycle
í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë‚˜ í…ŒìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ì— @TestInstance ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ê²½ìš°, JUnit JupiterëŠ” ê¸°ë³¸ ë¼ì´í”„ì‚¬ì´í´ ëª¨ë“œë¥¼ ì‚¬ìš©í•œë‹¤.
ê¸°ë³¸ ëª¨ë“œëŠ” PER_METHOD ì´ë‹¤. í•˜ì§€ë§Œ, ì „ì²´ í…ŒìŠ¤íŠ¸ ê³„íšì˜ ê¸°ë³¸ ì‹¤í–‰ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ì˜ ê¸°ë³¸ ë¼ì´í”„ì‚¬ì´í´ ëª¨ë“œë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œëŠ” junit.jupiter.testinstance.lifecycle.default ì„¤ì •ê°’ì„ TestInstance.Lifecycle ì— ì •ì˜ ë˜ì–´ ìˆëŠ” enum ìœ¼ë¡œ ì§€ì •í•˜ë©´ ëœë‹¤. 
í•´ë‹¹ ì„¤ì • ê°’ì€ JVM ì‹œìŠ¤í…œ í”„ë¡œí¼í‹°ë‚˜, LauncherDiscoveryRequest ì— ì „ë‹¬ë˜ëŠ” ì„¤ì • íŒŒë¼ë¯¸í„°, ë˜ëŠ” JUnit Platform ì„¤ì • íŒŒì¼ì— ì§€ì •í•  ìˆ˜ ìˆë‹¤.

ì•„ë˜ ì˜ˆ ì²˜ëŸ¼ JVM ì‹œìŠ¤í…œ ì†ì„±ê°’ì„ ì´ìš©í•´ì„œ í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ì˜ ë¼ì´í”„ ì‚¬ì´í´ ëª¨ë“œë¥¼ Lifecycle.PER_CLASS ë¡œ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.
```shell
-Djunit.jupiter.testinstance.lifecycle.default=per_class
```

JUnit í”Œë«í¼ ì„¤ì • íŒŒì¼ì„ í†µí•œ í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ì˜ ë¼ì´í”„ì‚¬ì´í´ ëª¨ë“œ ì„¤ì •ì€ ì¡°ê¸ˆë” ê°•ë ¥í•œ ë°©ë²•ì´ë‹¤. ì™œëƒí•˜ë©´ ì„¤ì • íŒŒì¼ì€ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œìœ¼ë¡œ ê´€ë¦¬ ê°€ëŠ¥í•´ì„œ IDEë‚˜ ë¹Œë“œ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

JUnit Platform ì„¤ì • íŒŒì¼ë¡œ í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ì˜ ê¸°ë³¸ ë¼ì´í”„ ì‚¬ì´í´ ëª¨ë“œë¥¼ Lifecycle.PER_CLASSë¡œ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œëŠ” "junit-platform.properties"íŒŒì¼ì„ í´ë˜ìŠ¤ íŒ¨ìŠ¤ì˜ ìµœ ìƒë‹¨ (e.g., src/test/resources)ì— ìƒì„±í•˜ê³  ì•„ë˜ ë‚´ìš©ì„ ì¶”ê°€í•œë‹¤.  
```shell
junit.jupiter.testinstance.lifecycle.default = per_class
```

_í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ì˜ ê¸°ë³¸ ë¼ì´í”„ ì‚¬ì´í´ ëª¨ë“œ ë³€ê²½ì´ ì¼ê´€ë˜ê²Œ ì ìš©ë˜ì§€ ì•ŠëŠ” ê²½ìš°, ì˜ˆì¸¡ í•  ìˆ˜ ì—†ëŠ” ê²°ê³¼ì™€ ë¹Œë“œê°€ ê¹¨ì§€ëŠ” ë¬¸ì œë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.
ì˜ˆë¡œ, ë¹Œë“œ ì„¤ì •ì€ "per-class" ë¼ì´í”„ ì‚¬ì´í´ ëª¨ë“œë¥¼ ê¸°ë³¸ìœ¼ë¡œ êµ¬ì„±í•˜ì§€ë§Œ IDEì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ë•ŒëŠ” "per-method" ë¼ì´í”„ ì‚¬ì´í´ ëª¨ë“œë¥¼ ì‚¬ìš©í•œë‹¤ë©´,
ë¹Œë“œ ì„œë²„ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ ë””ë²„ê¹…í•˜ëŠ” ê²ƒì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤.
ë”°ë¼ì„œ, JVM ì‹œìŠ¤í…œ ë³€ìˆ˜ ë³´ë‹¤ëŠ” JUnit í”Œë«í¼ ì„¤ì • íŒŒì¼ë¡œ ê¸°ë³¸ ì„¤ì •ì„ ë³€ê²½í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤._



## 2.12. Nested Tests
@Nested í…ŒìŠ¤íŠ¸ëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„±ìë“¤ì´ ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ ê·¸ë£¹ ê°„ì˜ ê´€ê³„ë¥¼ í‘œí˜„í•˜ëŠ” ë” ë§ì€ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
nested í…ŒìŠ¤íŠ¸ëŠ” ìë°”ì˜ ì¤‘ì²© í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  í…ŒìŠ¤íŠ¸ êµ¬ì¡°ì— ëŒ€í•œ ê³„ì¸µì ì¸ ìƒê°ì„ ìš©ì´í•˜ê²Œ í•œë‹¤.

_Nested test suite for testing a stack_
```java
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertFalse;
import static org.junit.jupiter.api.Assertions.assertThrows;
import static org.junit.jupiter.api.Assertions.assertTrue;

import java.util.EmptyStackException;
import java.util.Stack;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Nested;
import org.junit.jupiter.api.Test;

@DisplayName("A stack")
class TestingAStackDemo {

    Stack<Object> stack;

    @Test
    @DisplayName("is instantiated with new Stack()")
    void isInstantiatedWithNew() {
        new Stack<>();
    }

    @Nested
    @DisplayName("when new")
    class WhenNew {

        @BeforeEach
        void createNewStack() {
            stack = new Stack<>();
        }

        @Test
        @DisplayName("is empty")
        void isEmpty() {
            assertTrue(stack.isEmpty());
        }

        @Test
        @DisplayName("throws EmptyStackException when popped")
        void throwsExceptionWhenPopped() {
            assertThrows(EmptyStackException.class, stack::pop);
        }

        @Test
        @DisplayName("throws EmptyStackException when peeked")
        void throwsExceptionWhenPeeked() {
            assertThrows(EmptyStackException.class, stack::peek);
        }

        @Nested
        @DisplayName("after pushing an element")
        class AfterPushing {

            String anElement = "an element";

            @BeforeEach
            void pushAnElement() {
                stack.push(anElement);
            }

            @Test
            @DisplayName("it is no longer empty")
            void isNotEmpty() {
                assertFalse(stack.isEmpty());
            }

            @Test
            @DisplayName("returns the element when popped and is empty")
            void returnElementWhenPopped() {
                assertEquals(anElement, stack.pop());
                assertTrue(stack.isEmpty());
            }

            @Test
            @DisplayName("returns the element when peeked but remains not empty")
            void returnElementWhenPeeked() {
                assertEquals(anElement, stack.peek());
                assertFalse(stack.isEmpty());
            }
        }
    }
}
```
ì˜ˆì œë¥¼ ì‹¤í–‰í•˜ë©´ IDEì—ì„œëŠ” í…ŒìŠ¤íŠ¸ ì‹¤í–‰ íŠ¸ë¦¬ê°€ í‘œì‹œëœë‹¤.  
ì´ ì˜ˆì œì—ì„œ, ì™¸ë¶€ í…ŒìŠ¤íŠ¸ì˜ ì „ì œ ì¡°ê±´ì€ ì…‹ì—…ì„ ìœ„í•œ ìš©ë„ë¡œ ê³„ì¸µì  ë¼ì´í”„ì‚¬ì´í´ ë©”ì†Œë“œë¥¼ í†µí•´ ë‚´ë¶€ í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©ë˜ëŠ”ë°, 
createNewStack() í•¨ìˆ˜ëŠ” @BeforeEach ë¼ì´í”„ì‚¬ì´í´ ë©”ì†Œë“œë¡œ ì •ì˜ë˜ì—ˆê³ , ê·¸ê²ƒì´ ì •ì˜ëœ í´ë˜ìŠ¤ì™€ ê·¸ í•˜ìœ„ì˜ ëª¨ë“  ë ˆë²¨ì—ì„œ ì‚¬ìš©ëœë‹¤.

ì™¸ë¶€ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ì…‹ì—… ì½”ë“œëŠ” ë‚´ë¶€ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë˜ê¸° ì „ì— ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì—, ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. 
ì™¸ë¶€í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³  ë‚´ë¶€ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰í–ˆë‹¤ í•˜ë”ë¼ë„ ì™¸ë¶€ì˜ ì…‹ì—… ì½”ë“œëŠ” í•­ìƒ ì‹¤í–‰ëœë‹¤.

_non-static nested í´ë˜ìŠ¤ë§Œ @Nested í…ŒìŠ¤íŠ¸ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. static nested í´ë˜ìŠ¤ëŠ” @Nested í…ŒìŠ¤íŠ¸ë¡œ ì‚¬ìš©ë  ìˆ˜ ì—†ë‹¤.
ì¤‘ì²©ì€ ì„ì˜ë¡œ ê¹Šê²Œ í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŸ¬í•œ ë‚´ë¶€ í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì˜ˆì™¸ë¥¼ ì œì™¸í•˜ê³  ì „ì²´ ë¼ì´í”„ì‚¬ì´í´ ì§€ì›ì„ ë°›ëŠ”ë‹¤. (@BeforeAll ê³¼ @AfterAll ë©”ì†Œë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤.)
ì´ìœ ëŠ” Java 16 ì´ì „ì—ëŠ” ë‚´ë¶€ í´ë˜ìŠ¤ì—ì„œ static ë©¤ë²„ë¥¼ í—ˆìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.
ê·¸ëŸ¬ë‚˜, ì´ ì œí•œì€ @Nested í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— @TestInstance(Lifecycle.PER_CLASS) ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ìš°íšŒí•  ìˆ˜ ìˆë‹¤.
ë§Œì•½ Java 16ì´ìƒì˜ ë²„ì „ì„ ì‚¬ìš©í•œë‹¤ë©´, @BeforeAll ê³¼ @AfterAll ë©”ì†Œë“œëŠ” @Nested í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œ staticìœ¼ë¡œ ì„ ì–¸í•  ìˆ˜ ìˆê³ , ì´ ì œí•œì€ ë”ì´ìƒ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤._


## 2.13. Dependency Injection for Constructors and Methods
JUnit ì´ì „ ë²„ì „ì—ì„œ í…ŒìŠ¤íŠ¸ ìƒì„±ìë‚˜ ë©”ì†Œë“œëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ì—ˆë‹¤. (ìµœì†Œí•œ í‘œì¤€ Runner êµ¬í˜„ì²´ì—ì„œëŠ”)
JUnit Jupiterì˜ ì£¼ ë³€ê²½ ì  ì¤‘ í•˜ë‚˜ëŠ” í…ŒìŠ¤íŠ¸ ìƒì„±ìì™€ ë©”ì†Œë“œê°€ ì´ì œ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.
ì´ëŠ” ë” í° ìœ ì—°ì„±ì„ ì œê³µí•˜ê³  ìƒì„±ìì™€ ë©”ì†Œë“œì— ì˜ì¡´ì„± ì£¼ì…ì„ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.

ParameterResolver ì¸í„°í˜ì´ìŠ¤ëŠ” ëŸ°íƒ€ì„ì— ë™ì ìœ¼ë¡œ íŒŒë¼ë¯¸í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” í…ŒìŠ¤íŠ¸ í™•ì¥ì„ ìœ„í•œ APIë¥¼ ì •ì˜í•œë‹¤.
í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ìƒì„±ì, í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œ ë˜ëŠ” ë¼ì´í”„ì‚¬ì´í´ ë©”ì†Œë“œê°€ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ëŠ” ë‹¤ë©´, íŒŒë¼ë¯¸í„°ëŠ” ë“±ë¡ëœ ParameterResolverì— ì˜í•´ ëŸ°íƒ€ì„ì— ì²˜ë¦¬ëœë‹¤. 

3ê°œì˜ ê¸°ë³¸ resolverê°€ ìˆë‹¤.

* TestInfoParameterResolver: ìƒì„±ì ë‚˜ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ê°€ TestInfo íƒ€ì…ì´ë©´, TestInfoParameterResolverëŠ” í˜„ì¬ ì»¨í…Œì´ë„ˆ ë˜ëŠ” í…ŒìŠ¤íŠ¸ì— í•´ë‹¹í•˜ëŠ” TestInfo ì¸ìŠ¤í„´ìŠ¤ë¥¼ íŒŒë¼ë¯¸í„°ì˜ ê°’ìœ¼ë¡œ ì œê³µí•œë‹¤. 
TestInfo ëŠ” í˜„ì¬ ì»¨í…Œì´ë„ˆë‚˜ í…ŒìŠ¤íŠ¸ì˜ ë””ìŠ¤í”Œë ˆì´ ì´ë¦„, í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤, í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œ ë° ê´€ë ¨ íƒœê·¸ì™€ ê°™ì€ í˜„ì¬ ì»¨í…Œì´ë„ˆ ë˜ëŠ” í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
ë””ìŠ¤í”Œë ˆì´ ì´ë¦„ì€ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë‚˜ ë©”ì†Œë“œ ë˜ëŠ” @DisplayName ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ì„¤ì •ëœ ì‚¬ìš©ì ì •ì˜ ì´ë¦„ì„ ë§í•œë‹¤.
TestInfoëŠ” JUnit 4ì˜ TestName ê·œì¹™ì„ ëŒ€ì²´í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ë‹¤ìŒì€ TestInfoê°€ í…ŒìŠ¤íŠ¸ ìƒì„±ì, @BeforeEach ë©”ì†Œë“œ ë° @Test ë©”ì†Œë“œì— ì£¼ì…ë˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤€ë‹¤.

```java
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertTrue;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Tag;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.TestInfo;

@DisplayName("TestInfo Demo")
class TestInfoDemo {

    TestInfoDemo(TestInfo testInfo) {
        assertEquals("TestInfo Demo", testInfo.getDisplayName());
    }

    @BeforeEach
    void init(TestInfo testInfo) {
        String displayName = testInfo.getDisplayName();
        assertTrue(displayName.equals("TEST 1") || displayName.equals("test2()"));
    }

    @Test
    @DisplayName("TEST 1")
    @Tag("my-tag")
    void test1(TestInfo testInfo) {
        assertEquals("TEST 1", testInfo.getDisplayName());
        assertTrue(testInfo.getTags().contains("my-tag"));
    }

    @Test
    void test2() {
    }

}
```

* RepetitionExtension: ë§Œì•½ @RepeatedTest, @BeforeEach, @AfterEach ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ê°€ RepetitionInfo íƒ€ì…ì´ë©´, RepetitionExtensionëŠ” RepetitionInfo ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.
RepetitionInfoëŠ” í˜„ì¬ ë°˜ë³µì— ëŒ€í•œ ì •ë³´, ì´ ë°˜ë³µ íšŸìˆ˜, ì‹¤íŒ¨í•œ ë°˜ë³µ íšŸìˆ˜ ë° í•´ë‹¹ @RepeatedTestì˜ ì‹¤íŒ¨ ì„ê³„ê°’ì„ ê²€ìƒ‰í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
ê·¸ëŸ¬ë‚˜ RepetitionExtensionì€ @RepeatedTestì˜ ì»¨í…ìŠ¤íŠ¸ ì™¸ë¶€ì—ì„œ ë“±ë¡ë˜ì§€ ì•ŠëŠ”ë‹¤. Repeated Test Examplesë¥¼ ì°¸ê³ í•˜ì.
* TestReporterParameterResolver: ìƒì„±ìë‚˜ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ê°€ TestReporter íƒ€ì…ì´ë©´, TestReporterParameterResolverëŠ” TestReporter ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.
TestReporterëŠ” í˜„ì¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì— ëŒ€í•œ ì¶”ê°€ ë°ì´í„°ë¥¼ ê²Œì‹œ(publish) í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤. ë°ì´í„°ëŠ” TestExecutionListenerì˜ reportingEntryPublished()í•¨ìˆ˜ì— ì‚¬ìš©ë˜ê³ , IDEë‚˜ ë¦¬í¬íŠ¸ì— í¬í•¨ë  ìˆ˜ ìˆë‹¤.
JUnit Jupiterì—ì„œ stdoutì´ë‚˜ JUnit4ì˜ stderrì„ ì´ìš©í•´ì„œ ì •ë³´ë¥¼ ì¶œë ¥í•˜ê³ ì í• ë•ŒëŠ” TestReporterë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.
@RunWith(JUnitPlatform.class)ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ë³´ê³ ëœ í•­ëª©ì´ stdoutì— ì¶œë ¥ëœë‹¤.

ëª‡ëª‡ IDEëŠ” ë³´ê³ ëœ í•­ëª©ì„ stdoutì— ì¶œë ¥í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì˜ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì— í‘œì‹œí•œë‹¤.

```java
class TestReporterDemo {

    @Test
    void reportSingleValue(TestReporter testReporter) {
        testReporter.publishEntry("a status message");
    }

    @Test
    void reportKeyValuePair(TestReporter testReporter) {
        testReporter.publishEntry("a key", "a value");
    }

    @Test
    void reportMultipleKeyValuePairs(TestReporter testReporter) {
        Map<String, String> values = new HashMap<>();
        values.put("user name", "dk38");
        values.put("award year", "1974");

        testReporter.publishEntry(values);
    }

}
```

_ë‹¤ë¥¸ íŒŒë¼ë¯¸í„° ë¦¬ì¡¸ë²„ëŠ” @ExtendWithì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ì ì ˆí•œ ì¶”ê°€ê¸°ëŠ¥ì„ ë“±ë¡ í•¨ìœ¼ë¡œì„œ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•´ì§„ë‹¤._

ì‚¬ìš©ì ì •ì˜ ParameterResolverì˜ ì˜ˆë¡œ RandomParametersExtensionë¥¼ ë³´ì. 
í”„ë¡œë•ì…˜ ì¤€ë¹„ê°€ ë˜ì–´ ìˆì§€ëŠ” ì•Šì§€ë§Œ í™•ì¥ ëª¨ë¸ê³¼ ë§¤ê°œë³€ìˆ˜ í•´ê²° í”„ë¡œì„¸ìŠ¤ì˜ ë‹¨ìˆœì„±ê³¼ í‘œí˜„ë ¥ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
MyRandomParametersTestëŠ” @Test ë©”ì†Œë“œì— ëœë¤ ê°’ì„ ì£¼ì…í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤€ë‹¤.

```java
@ExtendWith(RandomParametersExtension.class)
class MyRandomParametersTest {

    @Test
    void injectsInteger(@Random int i, @Random int j) {
        assertNotEquals(i, j);
    }

    @Test
    void injectsDouble(@Random double d) {
        assertEquals(0.0, d, 1.0);
    }

}
```
ì‹¤ì œ ì‚¬ìš©ë˜ëŠ” ì˜ˆë¡œ, MockitoExtensionê³¼ SpringExtensionì˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ í™•ì¸í•˜ì‹­ì‹œì˜¤.

ì£¼ì…í•  íŒŒë¼ë¯¸í„° íƒ€ì…ì´ ParameterResolverì˜ ìœ ì¼í•œ ì¡°ê±´ì¸ ê²½ìš°, generic TypeBasedParameterResolver ê¸°ë³¸ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
supportsParameters ë©”ì†Œë“œëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ êµ¬í˜„ë˜ë©°, íŒŒë¼ë¯¸í„°í™”ëœ íƒ€ì…ì„ ì§€ì›í•œë‹¤.


## 2.14. Test Interfaces and Default Methods
JUnit Jupiter ì—ì„œ ëŠ” @Test, @RepeatedTest, @ParameterizedTest, @TestFactory, @TestTemplate, @BeforeEach ê·¸ë¦¬ê³  @AfterEach ì–´ë…¸í…Œì´ì…˜ì´ ì¸í„°í˜ì´ìŠ¤ì˜ default ë©”ì†Œë“œì— ì„ ì–¸ ê°€ëŠ¥í•˜ë‹¤.
í…ŒìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ë‚˜ í…ŒìŠ¤íŠ¸í´ë˜ìŠ¤ê°€ @TestInstance(Lifecycle.PER_CLASS)ë¡œ ì–´ë…¸í…Œì´ì…˜ ë˜ì–´ ìˆë‹¤ë©´, @BeforeAll ê³¼ @AfterAll ì–´ë…¸í…Œì´ì…˜ì€ í…ŒìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ì˜ defaultë©”ì†Œë“œì˜ static ë©”ì†Œë“œì— ì„ ì–¸ ë  ìˆ˜ ìˆë‹¤.

```java
@TestInstance(Lifecycle.PER_CLASS)
interface TestLifecycleLogger {

    static final Logger logger = Logger.getLogger(TestLifecycleLogger.class.getName());

    @BeforeAll
    default void beforeAllTests() {
        logger.info("Before all tests");
    }

    @AfterAll
    default void afterAllTests() {
        logger.info("After all tests");
    }

    @BeforeEach
    default void beforeEachTest(TestInfo testInfo) {
        logger.info(() -> String.format("About to execute [%s]",
            testInfo.getDisplayName()));
    }

    @AfterEach
    default void afterEachTest(TestInfo testInfo) {
        logger.info(() -> String.format("Finished executing [%s]",
            testInfo.getDisplayName()));
    }

}
```

```java
interface TestInterfaceDynamicTestsDemo {

    @TestFactory
    default Stream<DynamicTest> dynamicTestsForPalindromes() {
        return Stream.of("racecar", "radar", "mom", "dad")
            .map(text -> dynamicTest(text, () -> assertTrue(isPalindrome(text))));
    }

}
```

@ExtendWith ì™€ @Tag ëŠ” í…ŒìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ì— ì„ ì–¸ ë  ìˆ˜ ìˆë‹¤. ê·¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë“¤ì— ìë™ì ìœ¼ë¡œ íƒœê·¸ì™€ í™•ì¥ê¸°ëŠ¥ì„ ìƒì† ë°›ëŠ”ë‹¤.
```java
@Tag("timed")
@ExtendWith(TimingExtension.class)
interface TimeExecutionLogger {
}
```
í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œ TimeExecutionLogger ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©´ TimingExtension í™•ì¥ê¸°ëŠ¥ê³¼ timed íƒœê·¸ê°€ ì ìš©ëœë‹¤.

```java
//TimeExecutionLogger ì™¸ì—ë„ TestLifecycleLogger, TestInterfaceDynamicTestsDemo ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬, ê° ì¸í„°í˜ì´ìŠ¤ì— ì ìš©í•œ ì–´ë…¸í…Œì´ì…˜ë“¤ì´ ëª¨ë‘ ì ìš©ëœë‹¤.
class TestInterfaceDemo implements TestLifecycleLogger,
        TimeExecutionLogger, TestInterfaceDynamicTestsDemo {

    @Test
    void isEqualValue() {
        assertEquals(1, "a".length(), "is always equal");
    }

}
```

Object.equals ë‚˜ Comparable.compareTo ì˜ êµ¬í˜„ì²´ê°€ ì–´ë–»ê²Œ ë™ì‘í•´ì•¼ í•˜ëŠ”ì§€ì™€ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ì˜ ê·œì•½ì„ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆë‹¤.

```java
public interface Testable<T> {

    T createValue();

}
```

```java
public interface EqualsContract<T> extends Testable<T> {

    T createNotEqualValue();

    @Test
    default void valueEqualsItself() {
        T value = createValue();
        assertEquals(value, value);
    }

    @Test
    default void valueDoesNotEqualNull() {
        T value = createValue();
        assertFalse(value.equals(null));
    }

    @Test
    default void valueDoesNotEqualDifferentValue() {
        T value = createValue();
        T differentValue = createNotEqualValue();
        assertNotEquals(value, differentValue);
        assertNotEquals(differentValue, value);
    }

}
```
```java
public interface ComparableContract<T extends Comparable<T>> extends Testable<T> {

    T createSmallerValue();

    @Test
    default void returnsZeroWhenComparedToItself() {
        T value = createValue();
        assertEquals(0, value.compareTo(value));
    }

    @Test
    default void returnsPositiveNumberWhenComparedToSmallerValue() {
        T value = createValue();
        T smallerValue = createSmallerValue();
        assertTrue(value.compareTo(smallerValue) > 0);
    }

    @Test
    default void returnsNegativeNumberWhenComparedToLargerValue() {
        T value = createValue();
        T smallerValue = createSmallerValue();
        assertTrue(smallerValue.compareTo(value) < 0);
    }

}
```

í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œ ë‘ê°œì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©´, ìƒì†ë°›ì€ í…ŒìŠ¤íŠ¸ë“¤ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ë¬¼ë¡  ì¶”ìƒ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.
```java
class StringTests implements ComparableContract<String>, EqualsContract<String> {

    @Override
    public String createValue() {
        return "banana";
    }

    @Override
    public String createSmallerValue() {
        return "apple"; // 'a' < 'b' in "banana"
    }

    @Override
    public String createNotEqualValue() {
        return "cherry";
    }

}
```



## 2.15. Repeated Tests
@RepeatedTest ì–´ë…¸í…Œì´ì…˜ì— ë°˜ë³µí•˜ê³  ì‹¶ì€ í…ŒìŠ¤íŠ¸ íšŸìˆ˜ë¥¼ ì§€ì •í•¨ ìœ¼ë¡œì„œ í…ŒìŠ¤íŠ¸ë¥¼ ë°˜ë³µ ì‹¤í–‰í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. 
ë°˜ë³µ í…ŒìŠ¤íŠ¸ì˜ ê° ì‹¤í–‰ì€ ì¼ë°˜ì ì¸ @Test ë©”ì†Œë“œê°€ ì‹¤í–‰ë˜ëŠ” ê²½ìš°ì™€ ë˜‘ê°™ì€ ë¼ì´í”„ ì‚¬ì´í´ê³¼ í™•ì¥ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.

í…ŒìŠ¤íŠ¸ë¥¼ 10íšŒ ë°˜ë³µ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ëŠ” ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ë©´ ëœë‹¤.
```java
@RepeatedTest(10)
void repeatedTest() {
    // ...
}
```

JUnit Jupiter 5.10 ì´í›„, @RepeatedTestëŠ” ì‹¤íŒ¨ ì„ê³„ê°’ì„ í†µí•´ ì„ê³„ê°’ ì´ìƒ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨ í•  ê²½ìš° ë‚¨ì€ í…ŒìŠ¤íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ìŠ¤í‚µí•˜ë„ë¡ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.
failureThreshold ì†ì„±ê°’ì„ ì „ì²´ ë°˜ë³µ íšŸìˆ˜ë³´ë‹¤ ì‘ì€ ì–‘ìˆ˜ë¡œ ì„¤ì •í•˜ë©´, ì§€ì •ëœ ì‹¤íŒ¨ íšŸìˆ˜ê°€ ë°œìƒí•œ í›„ ë‚¨ì€ ë°˜ë³µ íšŸìˆ˜ì˜ ì‹¤í–‰ì„ ê±´ë„ˆë›¸ ìˆ˜ ìˆë‹¤.

ì˜ˆë¡œ, @RepeatedTestë¥¼ ì‚¬ìš©í•´ ì‹¤íŒ¨í•˜ê¸° ì‰½ë‹¤ê³  ìƒê°ë˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ”ê²½ìš°, ë‹¨ì¼ ì‹¤íŒ¨ëŠ” í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ê¸° ì‰½ë‹¤ëŠ”ê²ƒì„ ë³´ì—¬ì£¼ê³  ë‚¨ì€ ë°˜ë³µì„ ìˆ˜í–‰í•  í•„ìš”ê°€ ì—†ë‹¤. ì´ëŸ° ê²½ìš° failureThreshold ì†ì„±ê°’ì„ 1ë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤.

ê¸°ë³¸ìœ¼ë¡œ, failureThreshold ì†ì„±ê°’ì€ Integer.MAX_VALUE ë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ì„œ, ì‹¤íŒ¨ ì„ê³„ê°’ì´ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. ì¦‰, ì§€ì •ëœ ë°˜ë³µ íšŸìˆ˜ëŠ” ì‹¤íŒ¨ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ì‹¤í–‰ëœë‹¤.

_ë§Œì•½ @RepeatedTest ë©”ì†Œë“œê°€ ë³‘ë ¬ë¡œ ì‹¤í–‰ëœë‹¤ë©´, ì‹¤íŒ¨ ì„ê³„ê°’ì— ëŒ€í•œ ë³´ì¥ì„ í•  ìˆ˜ ì—†ë‹¤.
It is therefore recommended that a @RepeatedTest method be annotated with @Execution(SAME_THREAD) when parallel execution is configured.
ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë³‘ë ¬ ì‹¤í–‰ì´ ì„¤ì • ëœê²½ìš° @RepeatedTest ë©”ì†Œë“œì—ëŠ” @Execution(SAME_THREAD) ì–´ë…¸í…Œì´ì…˜ì„ ê°™ì´ ì‚¬ìš©í•˜ë„ë¡ ì¶”ì²œí•œë‹¤._ 

ë°˜ë³µíšŸìˆ˜ì™€ ì‹¤íŒ¨ ì„ê³„ê°’ì„ ì„¤ì •í•˜ëŠ”ê²ƒ ì™¸ì—ë„, @RepeatedTest ì–´ë…¸í…Œì´ì…˜ì˜ name ì†ì„±ì„ ì´ìš©í•´ì„œ ê° ë°˜ë³µ ìˆ˜í–‰ì— ê°œë³„ display ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. 
ì¶”ê°€ë¡œ, display ì´ë¦„ì˜ íŒ¨í„´ì€ ì •ì  í…ìŠ¤íŠ¸ì™€ ë™ì  í”Œë ˆì´ìŠ¤ í™€ë”ì˜ ì¡°í•©ìœ¼ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. í˜„ì¬ ì§€ì›í•˜ëŠ” í”Œë ˆì´ìŠ¤ í™€ë”ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.
* {displayName}: @RepeatedTest ë©”ì†Œë“œì˜ display ì´ë¦„
* {currentRepetition}: í˜„ì¬ ë°˜ë³µ ìˆ˜í–‰ íšŸìˆ˜
* {totalRepetitions}: ì „ì²´ ë°˜ë³µ íšŸìˆ˜

ê¸°ë³¸ display ì´ë¦„ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.: "repetition {currentRepetition} of {totalRepetitions}".
ë”°ë¼ì„œ, ì´ì „ì— ë‚˜ì™”ë˜ repeatedTest()í•¨ìˆ˜ì˜ display ì´ë¦„ì€ ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œëœë‹¤.: repetition 1 of 10, repetition 2 of 10

@RepeatedTest ë©”ì†Œë“œì˜ display ì´ë¦„ì— ê° ë°˜ë³µ ìˆ˜í–‰ì˜ display ì´ë¦„ì„ í¬í•¨í•˜ê³  ì‹¶ë‹¤ë©´, ì‚¬ìš©ì ì •ì˜ íŒ¨í„´ ì´ìš©í•˜ê±°ë‚˜, RepeatedTest.LONG_DISPLAY_NAME íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
RepeatedTest.LONG_DISPLAY_NAME íŒ¨í„´ í˜•ì‹ì€ "{displayName} :: repetition {currentRepetition} of {totalRepetitions}" ì™€ ê°™ìœ¼ë©°, ì´ëŠ” repeatedTest() :: repetition 1 of 10, repeatedTest() :: repetition 2 of 10 ì™€ ê°™ì€ ë°˜ë³µ ìˆ˜í–‰ì˜ display ì´ë¦„ì„ ìƒì„±í•œë‹¤.

í˜„ì¬ ë°˜ë³µ ìˆ˜í–‰, ì „ì²´ ë°˜ë³µ íšŸìˆ˜, ì‹¤íŒ¨ íšŸìˆ˜, ì‹¤íŒ¨ ì„ê³„ì¹˜ ë“±ì˜ ì •ë³´ë¥¼ ì•Œê³  ì‹¶ë‹¤ë©´ @RepeatedTest, @BeforeEach, @AfterEach ë©”ì†Œë“œì— RepetitionInfo ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì£¼ì… ë°›ì•„ì„œ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

### 2.15.1. Repeated Test Examples
ì„¹ì…˜ í›„ë°˜ë¶€ì— ìˆëŠ” RepeatedTestDemo í´ë˜ìŠ¤ëŠ” ë°˜ë³µ í…ŒìŠ¤íŠ¸ì˜ ì—¬ëŸ¬ ì˜ˆì œë¥¼ ë³´ì—¬ì¤€ë‹¤.
repeatedTest() ë©”ì†Œë“œëŠ” ì´ì „ ì„¹ì…˜ì˜ ì˜ˆì œì™€ ë™ì¼í•˜ë‹¤. ë°˜ë©´, repeatedTestWithRepetitionInfo()ëŠ” ë°˜ë³µ í…ŒìŠ¤íŠ¸ì˜ ì´ ë°˜ë³µ íšŸìˆ˜ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ RepetitionInfo ì¸ìŠ¤í„´ìŠ¤ë¥¼ í…ŒìŠ¤íŠ¸ì— ì£¼ì…í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤€ë‹¤.

repeatedTestWithFailureThreshold() ë©”ì†Œë“œëŠ” ì‹¤íŒ¨ ì„ê³„ê°’ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ê³ , ë‘ë²ˆì§¸ ì‹œí–‰ì— ì˜ˆìƒì¹˜ ëª»í•œ ì‹¤íŒ¨ë¥¼ ì‹œë®¬ë ˆì´ì…˜ í•œë‹¤.

ì„¹ì…˜ í›„ë°˜ë¶€ì— ConsoleLauncherë¡œ ì‹¤í–‰ í–ˆì„ë•Œì˜ ê²°ê³¼ë¥¼ ì‘ì„± í–ˆë‹¤.

ê·¸ ë‹¤ìŒ ë‘ ë©”ì†Œë“œëŠ” @RepeatedTest ë©”ì†Œë“œ ê° ë°˜ë³µì— display ì´ë¦„ì„ ì‘ì„±í• ë•Œ @DisplayName ì–´ë…¸í…Œì´ì…˜ ê°’ì„ í¬í•¨í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤€ë‹¤. 
customDisplayName() ë©”ì†Œë“œëŠ” ì‚¬ìš©ì ì •ì˜ íŒ¨í„´ìœ¼ë¡œì— ì‚¬ìš©ì ì§€ì • display ì´ë¦„ì„ ì‚¬ìš©í–ˆê³ , TestInfoë¥¼ ì‚¬ìš©í•´ì„œ ìƒì„±ëœ display ì´ë¦„ì˜ í˜•ì‹ì„ ê²€ì¦ í–ˆë‹¤.
@DisplayName ì–´ë…¸í…Œì´ì…˜ì— ì •ì˜ëœ "Repeat!" ë¬¸ìì—´ì€ {displayName}ì— ëŒ€ì‘ë˜ê³ , 1/1ì€ {currentRepetition}/{totalRepetitions}ì— ëŒ€ì‘ëœë‹¤.

ì´ì— ë°˜í•´, customDisplayNameWithLongPattern() ë©”ì†Œë“œëŠ” ë¯¸ë¦¬ ì •ì˜ëœ RepeatedTest.LONG_DISPLAY_NAME íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.

repeatedTestInGerman() ë©”ì†Œë“œëŠ” ë°˜ë³µ ìˆ˜í–‰ í…ŒìŠ¤íŠ¸ì˜ display ì´ë¦„ì„ ì™¸êµ­ì–´ë¡œ ë²ˆì—­í•˜ëŠ” ê¸°ëŠ¥ì„ ë³´ì—¬ì¤€ë‹¤(ì´ ê²½ìš°ëŠ” ë…ì¼ì–´). Wiederholung 1 von 5, Wiederholung 2 von 5 ì™€ ê°™ì€ ë°˜ë³µ ìˆ˜í–‰ì˜ display ì´ë¦„ì´ ìƒì„±ëœë‹¤.

beforeEach() ë©”ì†Œë“œëŠ” @BeforeEach ì–´ë…¸í…Œì´ì…˜ì´ ì‚¬ìš©ë˜ì—ˆê¸° ë•Œë¬¸ì— ê° ë°˜ë³µ í…ŒìŠ¤íŠ¸ì˜ ì‹¤í–‰ ì „ì— ì‹¤í–‰ëœë‹¤.

TestInfoì™€ RepetitionInfoë¥¼ ë©”ì†Œë“œì— ì£¼ì…í•¨ì— ë”°ë¼ í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ ë°˜ë³µ í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.
RepeatedTestsDemoë¥¼ INFO ë¡œê·¸ ë ˆë²¨ë¡œ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.
```text
INFO: About to execute repetition 1 of 10 for repeatedTest
INFO: About to execute repetition 2 of 10 for repeatedTest
INFO: About to execute repetition 3 of 10 for repeatedTest
INFO: About to execute repetition 4 of 10 for repeatedTest
INFO: About to execute repetition 5 of 10 for repeatedTest
INFO: About to execute repetition 6 of 10 for repeatedTest
INFO: About to execute repetition 7 of 10 for repeatedTest
INFO: About to execute repetition 8 of 10 for repeatedTest
INFO: About to execute repetition 9 of 10 for repeatedTest
INFO: About to execute repetition 10 of 10 for repeatedTest
INFO: About to execute repetition 1 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 2 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 3 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 4 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 5 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 1 of 8 for repeatedTestWithFailureThreshold
INFO: About to execute repetition 2 of 8 for repeatedTestWithFailureThreshold
INFO: About to execute repetition 3 of 8 for repeatedTestWithFailureThreshold
INFO: About to execute repetition 4 of 8 for repeatedTestWithFailureThreshold
INFO: About to execute repetition 1 of 1 for customDisplayName
INFO: About to execute repetition 1 of 1 for customDisplayNameWithLongPattern
INFO: About to execute repetition 1 of 5 for repeatedTestInGerman
INFO: About to execute repetition 2 of 5 for repeatedTestInGerman
INFO: About to execute repetition 3 of 5 for repeatedTestInGerman
INFO: About to execute repetition 4 of 5 for repeatedTestInGerman
INFO: About to execute repetition 5 of 5 for repeatedTestInGerman
```

```java
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.fail;

import java.util.logging.Logger;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.RepeatedTest;
import org.junit.jupiter.api.RepetitionInfo;
import org.junit.jupiter.api.TestInfo;

class RepeatedTestsDemo {

    private Logger logger = // ...

    @BeforeEach
    void beforeEach(TestInfo testInfo, RepetitionInfo repetitionInfo) {
        int currentRepetition = repetitionInfo.getCurrentRepetition();
        int totalRepetitions = repetitionInfo.getTotalRepetitions();
        String methodName = testInfo.getTestMethod().get().getName();
        logger.info(String.format("About to execute repetition %d of %d for %s", //
            currentRepetition, totalRepetitions, methodName));
    }

    @RepeatedTest(10)
    void repeatedTest() {
        // ...
    }

    @RepeatedTest(5)
    void repeatedTestWithRepetitionInfo(RepetitionInfo repetitionInfo) {
        assertEquals(5, repetitionInfo.getTotalRepetitions());
    }

    @RepeatedTest(value = 8, failureThreshold = 2)
    void repeatedTestWithFailureThreshold(RepetitionInfo repetitionInfo) {
        // Simulate unexpected failure every second repetition
        if (repetitionInfo.getCurrentRepetition() % 2 == 0) {
            fail("Boom!");
        }
    }

    @RepeatedTest(value = 1, name = "{displayName} {currentRepetition}/{totalRepetitions}")
    @DisplayName("Repeat!")
    void customDisplayName(TestInfo testInfo) {
        assertEquals("Repeat! 1/1", testInfo.getDisplayName());
    }

    @RepeatedTest(value = 1, name = RepeatedTest.LONG_DISPLAY_NAME)
    @DisplayName("Details...")
    void customDisplayNameWithLongPattern(TestInfo testInfo) {
        assertEquals("Details... :: repetition 1 of 1", testInfo.getDisplayName());
    }

    @RepeatedTest(value = 5, name = "Wiederholung {currentRepetition} von {totalRepetitions}")
    void repeatedTestInGerman() {
        // ...
    }

}
```

ìœ ë‹ˆì½”ë“œ í…Œë§ˆê°€ ê°€ëŠ¥í•œ ConsoleLauncherë¥¼ ì‚¬ìš©í•˜ë©´ RepeatedTestsDemoì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
```text
â”œâ”€ RepeatedTestsDemo âœ”
â”‚  â”œâ”€ repeatedTest() âœ”
â”‚  â”‚  â”œâ”€ repetition 1 of 10 âœ”
â”‚  â”‚  â”œâ”€ repetition 2 of 10 âœ”
â”‚  â”‚  â”œâ”€ repetition 3 of 10 âœ”
â”‚  â”‚  â”œâ”€ repetition 4 of 10 âœ”
â”‚  â”‚  â”œâ”€ repetition 5 of 10 âœ”
â”‚  â”‚  â”œâ”€ repetition 6 of 10 âœ”
â”‚  â”‚  â”œâ”€ repetition 7 of 10 âœ”
â”‚  â”‚  â”œâ”€ repetition 8 of 10 âœ”
â”‚  â”‚  â”œâ”€ repetition 9 of 10 âœ”
â”‚  â”‚  â””â”€ repetition 10 of 10 âœ”
â”‚  â”œâ”€ repeatedTestWithRepetitionInfo(RepetitionInfo) âœ”
â”‚  â”‚  â”œâ”€ repetition 1 of 5 âœ”
â”‚  â”‚  â”œâ”€ repetition 2 of 5 âœ”
â”‚  â”‚  â”œâ”€ repetition 3 of 5 âœ”
â”‚  â”‚  â”œâ”€ repetition 4 of 5 âœ”
â”‚  â”‚  â””â”€ repetition 5 of 5 âœ”
â”‚  â”œâ”€ repeatedTestWithFailureThreshold(RepetitionInfo) âœ”
â”‚  â”‚  â”œâ”€ repetition 1 of 8 âœ”
â”‚  â”‚  â”œâ”€ repetition 2 of 8 âœ˜ Boom!
â”‚  â”‚  â”œâ”€ repetition 3 of 8 âœ”
â”‚  â”‚  â”œâ”€ repetition 4 of 8 âœ˜ Boom!
â”‚  â”‚  â”œâ”€ repetition 5 of 8 â†· Failure threshold [2] exceeded
â”‚  â”‚  â”œâ”€ repetition 6 of 8 â†· Failure threshold [2] exceeded
â”‚  â”‚  â”œâ”€ repetition 7 of 8 â†· Failure threshold [2] exceeded
â”‚  â”‚  â””â”€ repetition 8 of 8 â†· Failure threshold [2] exceeded
â”‚  â”œâ”€ Repeat! âœ”
â”‚  â”‚  â””â”€ Repeat! 1/1 âœ”
â”‚  â”œâ”€ Details... âœ”
â”‚  â”‚  â””â”€ Details... :: repetition 1 of 1 âœ”
â”‚  â””â”€ repeatedTestInGerman() âœ”
â”‚     â”œâ”€ Wiederholung 1 von 5 âœ”
â”‚     â”œâ”€ Wiederholung 2 von 5 âœ”
â”‚     â”œâ”€ Wiederholung 3 von 5 âœ”
â”‚     â”œâ”€ Wiederholung 4 von 5 âœ”
â”‚     â””â”€ Wiederholung 5 von 5 âœ”
```


## 2.16. Parameterized Tests
Parameterized í…ŒìŠ¤íŠ¸ëŠ” ë§¤ë²ˆ ë‹¤ë¥¸ ì¸ìë“¤ì„ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ë²ˆ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰ í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
@Test ì–´ë…¸í…Œì´ì…˜ ëŒ€ì‹  @ParameterizedTest ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ê°€ ìˆ˜í–‰ ë  ë•Œë§ˆë‹¤ ì‚¬ìš©ë  í•˜ë‚˜ ì´ìƒì˜ ì†ŒìŠ¤ë¥¼ ì •ì˜ í•˜ë©´, í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì—ì„œ ì¸ìë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.

ì•„ë˜ ì˜ˆëŠ” @ValueSource ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•˜ì—¬ ìŠ¤íŠ¸ë§ ë°°ì—´ì„ ì¸ìì˜ ì†ŒìŠ¤ë¡œ ì‚¬ìš©í•œ parameterized í…ŒìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì¤€ë‹¤.
```java
@ParameterizedTest
@ValueSource(strings = { "racecar", "radar", "able was I ere I saw elba" })
void palindromes(String candidate) {
    assertTrue(StringUtils.isPalindrome(candidate));
}
```
ìœ„ parameterized í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ë©´, ê° ì‹¤í–‰ë“¤ì€ ê°œë³„ë¡œ ê²°ê³¼ê°€ í‘œì‹œëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ConsoleLauncherëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤.
```text
palindromes(String) âœ”
â”œâ”€ [1] candidate=racecar âœ”
â”œâ”€ [2] candidate=radar âœ”
â””â”€ [3] candidate=able was I ere I saw elba âœ”
```

### 2.16.1. Required Setup
parameterized í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” junit-jupiter-params ì˜ì¡´ì„±ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.

10.2. Dependency Metadata ë¥¼ ì°¸ê³  í•˜ì.

### 2.16.2. Consuming Arguments
Parameterized í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì„¤ì •ëœ ì†ŒìŠ¤ë¡œ ë¶€í„° ì¸ìë¥¼ ì§ì ‘ ì‚¬ìš©í•œë‹¤. ì¸ì ì†ŒìŠ¤ì˜ ì¸ë±ìŠ¤ì™€ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ì˜ ì¸ë±ìŠ¤ëŠ” ì„œë¡œ ì¼ëŒ€ì¼ ëŒ€ì‘ì´ë‹¤.
parameterized í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œëŠ” ì†ŒìŠ¤ì˜ ì¸ìë“¤ì„ ì´ìš©í•´ ë‹¨ì¼ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  ì´ë¥¼ ë©”ì†Œë“œì— ì „ë‹¬ í•  ìˆ˜ë„ ìˆë‹¤.
ParameterResolver ë¥¼ í†µí•´ ì¶”ê°€ì ì¸ ì¸ìë¥¼ ì œê³µ í•  ìˆ˜ë„ ìˆë‹¤. (ì˜ˆ, TestInfo, TestReporter)
íŠ¹ë³„íˆ, parameterized í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œëŠ” ë‹¤ìŒ ê·œì¹™ì— ë”°ë¼ íŒŒë¼ë¯¸í„°ë¥¼ ì •ì˜í•´ì•¼ í•œë‹¤.

* 0ê°œ ì´ìƒì˜ ì¸ë±ìŠ¤ëœ ì¸ìë“¤ì´ ë¨¼ì € ì„ ì–¸ë˜ì–´ì•¼ í•œë‹¤.
* 0ê°œ ì´ìƒì˜ aggregatorë“¤ì´ ë‹¤ìŒì— ì„ ì–¸ë˜ì–´ì•¼ í•œë‹¤.
* 0ê°œ ì´ìƒì˜ ParameterResolverì— ì˜í•´ ì œê³µë˜ëŠ” ì¸ìë“¤ì€ ë§ˆì§€ë§‰ì— ì„ ì–¸ë˜ì–´ì•¼ í•œë‹¤.

ì¸ë±ìŠ¤ëœ ì¸ìëŠ” ArgumentsProviderë¡œ ë¶€í„° ì¸ë±ìŠ¤ë¥¼ ë¶€ì—¬ë°›ì€ ì¸ìë“¤ì´ë‹¤. ì¸ë±ìŠ¤ëœ ì¸ìë“¤ì€ ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„° ë¦¬ìŠ¤íŠ¸ì˜ ê°™ì€ ì¸ë±ìŠ¤ì— ìœ„ì¹˜í•œ parameterized ë©”ì†Œë“œì˜ ì¸ìë¡œ ì „ë‹¬ëœë‹¤.(ë§ì´ ì–´ë µë„¤ ì•„ë˜ ë‚´ìš©ë“¤ì„ ë³´ë©´ì„œ ìì„¸íˆ íŒŒì•…í•˜ëŠ”ê²Œ ì¢‹ì•„ë³´ì„)
aggregatorëŠ” ArgumentsAccesor íƒ€ì…ì˜ íŒŒë¼ë¯¸í„°ë‚˜ @AggregateWith ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œ íŒŒë¼ë¯¸í„°ì´ë‹¤.

>_**AutoCloseable arguments**_  
> java.lang.AutoCloseable(ë˜ëŠ” java.lang.AutoCloseableë¥¼ ìƒì†ë°›ì€ java.io.Closeable)ë¥¼ êµ¬í˜„í•œ ì¸ìëŠ” @AfterEach ë©”ì†Œë“œì™€  AfterEachCallbackì´ ì‹¤í–‰ëœ í›„ close ëœë‹¤. 
> ì´ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ”, @ParameterizedTest ì–´ë…¸í…Œì´ì…˜ì˜ autoCloseArguments ì†ì„±ì„ false ë¡œ ì„¤ì •í•˜ë©´ëœë‹¤. íŠ¹ë³„íˆ ë§Œì•½ AutoCloseableì„ êµ¬í˜„í•œ ì¸ìê°€ parameterized í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì˜ ì—¬ëŸ¬ ì‹¤í–‰ì— ì¬ì‚¬ìš©ë˜ë©´, ì¸ìê°€ ì‹¤í–‰ ì‚¬ì´ì— ë‹«íˆì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•´ @ParameterizedTest(autoCloseArguments = false)ë¡œ ë©”ì†Œë“œì— ì–´ë…¸í…Œì´ì…˜ì„ í•´ì•¼ í•œë‹¤.


### 2.16.3. Sources of Arguments
ì—¬ëŸ¬ ì†ŒìŠ¤ ì–´ë…¸í…Œì´ì…˜ë“¤ì´ ì œê³µë˜ê³ , ì•„ë˜ ë‚´ìš©ì„ í†µí•´ ê°ê°ì— ëŒ€í•œ ê°œìš”ì™€ ê°„ë‹¨í•œ ì˜ˆì œë¥¼ ì‚´í´ ë³¼ ìˆ˜ ìˆë‹¤. 
org.junit.jupiter.params.provider íŒ¨í‚¤ì§€ì˜ Javadocì„ í™•ì¸í•˜ì—¬ ì¶”ê°€ ì •ë³´ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

#### @ValueSource  
@ValueSource ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ì†ŒìŠ¤ ì¤‘ í•˜ë‚˜ì´ë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ì€ í…ŒìŠ¤íŠ¸ë‹¹ 1ê°œì˜ ê¸°ë³¸íƒ€ì…ì˜ ê°’ë“¤ë„ ë˜ì–´ìˆëŠ” ë°°ì—´ì´ë‚˜ 1ê°œì˜ ì¸ìë¥¼ ì œê³µí•œë‹¤. 

ì•„ë˜ íƒ€ì…ë“¤ì´ @ValueSource ì–´ë…¸í…Œì´ì…˜ì—ì„œ ì§€ì›í•˜ëŠ” ê¸°ë³¸íƒ€ì… ì´ë‹¤.
* short
* byte
* int
* long
* float
* double
* char
* boolean
* java.lang.String
* java.lang.Class

ì•„ë˜ì˜ ì˜ˆì²˜ëŸ¼ @ParameterizedTest ë©”ì†Œë“œëŠ” ê°ê° 1, 2, 3ì˜ ê°’ì„ ê°€ì§€ê³  ì„¸ë²ˆ ì‹¤í–‰ëœë‹¤.
```java
@ParameterizedTest
@ValueSource(ints = { 1, 2, 3 })
void testWithValueSource(int argument) {
    assertTrue(argument > 0 && argument < 4);
}
```

#### Null and Empty Sources
ì˜ëª»ëœ ê°’ì´ ì…ë ¥ë˜ì—ˆì„ ë•Œë¥¼ í…ŒìŠ¤íŠ¸ í•˜ê¸° ìœ„í•´ parameterized í…ŒìŠ¤íŠ¸ì— ë„ì´ë‚˜ ë¹ˆ ê°’ì„ ì œê³µí•˜ëŠ” ê²ƒì€ ìœ ìš©í•˜ë‹¤. 
ì•„ë˜ ì–´ë…¸í…Œì´ì…˜ë“¤ì„ ì´ìš©í•´ì„œ parameterized í…ŒìŠ¤íŠ¸ì— null ê³¼ ë¹ˆ ê°’ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤.  

* @NullSource: @ParameterizedTest ë©”ì†Œë“œì— í•˜ë‚˜ì˜ null ì¸ìë¥¼ ì œê³µí•œë‹¤.
  * @NullSource ëŠ” ê¸°ë³¸íƒ€ì…(primitive type)ì— ì‚¬ìš© í•  ìˆ˜ ì—†ë‹¤.
* @EmptySource: @ParameterizedTest ë©”ì†Œë“œì— í•˜ë‚˜ì˜ ë¹ˆ ì¸ìë¥¼ ì œê³µí•œë‹¤. 
  * íŒŒë¼ë¯¸í„°ë¡œ ì˜¬ ìˆ˜ ìˆëŠ” íƒ€ì…ì€ ë‹¤ìŒê³¼ ê°™ë‹¤: java.lang.String, java.util.Collection (ê·¸ë¦¬ê³  ê¸°ë³¸(ë§¤ê°œë³€ìˆ˜ ì—†ëŠ”) ìƒì„±ìë¥¼ ê°€ì§„ êµ¬í˜„ì²´ subtype), java.util.List, java.util.Set, java.util.SortedSet, java.util.NavigableSet, java.util.Map (ê·¸ë¦¬ê³  ê¸°ë³¸(ë§¤ê°œë³€ìˆ˜ ì—†ëŠ”) ìƒì„±ìë¥¼ ê°€ì§„ êµ¬í˜„ì²´ subtype), java.util.SortedMap, java.util.NavigableMap, ê¸°ë³¸(primitive) íƒ€ì…ì˜ ë°°ì—´ (e.g., int[], char[][], etc.), object arrays (e.g., String[], Integer[][], etc.).
* @NullAndEmptySource: @NullSource and @EmptySource ì–´ë…¸í…Œì´ì…˜ì˜ ê¸°ëŠ¥ì„ ëª¨ë‘ í¬í•¨í•œë‹¤.

ë¹ˆ ë¬¸ìì—´ì„ í‘œí˜„í•˜ëŠ” ë‹¤ì–‘í•œ íƒ€ì…ë“¤ì„ í…ŒìŠ¤íŠ¸ í•´ì•¼ í•œë‹¤ë©´, @ValueSource(strings = {" ", "   ", "\t", "\n"})ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ ëœë‹¤.
ì•„ë˜ ì˜ˆì œ ì²˜ëŸ¼ @NullSource, @EmptySource ì–´ë…¸í…Œì´ì…˜ê³¼ ê°™ì´ ì‚¬ìš©í•˜ë©´ null ê°’ê³¼ ë¹ˆ ê°’ë„ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ í•˜ë‹¤. 

```java
@ParameterizedTest
@NullSource
@EmptySource
@ValueSource(strings = { " ", "   ", "\t", "\n" })
void nullEmptyAndBlankStrings(String text) {
    assertTrue(text == null || text.trim().isEmpty());
}
```
ìœ„ ì˜ˆì œë¥¼ @NullAndEmptySource ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ ì•„ë˜ì²˜ëŸ¼ ì¡°ê¸ˆë” ê°„ë‹¨í•˜ê²Œ ì‘ì„± í• ìˆ˜ ìˆë‹¤.

```java
@ParameterizedTest
@NullAndEmptySource
@ValueSource(strings = { " ", "   ", "\t", "\n" })
void nullEmptyAndBlankStrings(String text) {
    assertTrue(text == null || text.trim().isEmpty());
}
```
> ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë©´ ëª¨ë‘ null 1ë²ˆ, empty string 1ë²ˆ, ê·¸ë¦¬ê³  @ValueScourceë¡œ ì…ë ¥ë°›ì€ 4ê°œì˜ ìŠ¤íŠ¸ë§ì„ í…ŒìŠ¤íŠ¸ í•˜ê¸° ë•Œë¬¸ì— ì´ 6ë²ˆì˜ í…ŒìŠ¤íŠ¸ê°€ ìˆ˜í–‰ëœë‹¤.

#### @EnumSource
@EnumSource ì–´ë…¸í…Œì´ì…˜ì€ Enum íƒ€ì…ì„ ì œê³µí• ë•Œ í¸ë¦¬í•œ ë°©ë²•ì„ ì œê³µí•œë‹¤.

```java
@ParameterizedTest
@EnumSource(ChronoUnit.class)
void testWithEnumSource(TemporalUnit unit) {
    assertNotNull(unit);
}
```
@EnumSource ì–´ë…¸í…Œì´ì…˜ì˜ value ì†ì„±ì€ ìƒëµ ê°€ëŠ¥í•˜ë‹¤. ìƒëµëœë‹¤ë©´, ë©”ì†Œë“œì˜ ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì˜ íƒ€ì…ì´ ì‚¬ìš©ëœë‹¤. ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„° íƒ€ì…ì´ enum íƒ€ì…ì´ ì•„ë‹ˆë©´ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨ë¡œ ëë‚œë‹¤.
ë”°ë¼ì„œ, ìœ„ ì˜ˆì œì—ì„œëŠ” ë©”ì†Œë“œì˜ ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°ê°€ TemporalUnit(ì¸í„°í˜ì´ìŠ¤ íƒ€ì…)ì´ê¸° ë•Œë¬¸ì— value ì†ì„±ì´ ê¼­ í•„ìš”í•˜ë‹¤.
ë§Œì•½ íŒŒë¼ë¯¸í„° íƒ€ì…ì„ ChronoUnitë¡œ ë³€ê²½í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì–´ë…¸í…Œì´ì…˜ì—ì„œ enum íƒ€ì…ì„ ìƒëµ í•  ìˆ˜ ìˆë‹¤.
```java
@ParameterizedTest
@EnumSource
void testWithEnumSourceWithAutoDetection(ChronoUnit unit) {
    assertNotNull(unit);
}
```
name ì†ì„±ì„ ì„ íƒì ìœ¼ë¡œ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. ì´ ì†ì„±ì€ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  enum ìƒìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ìƒëµí•˜ë©´ ëª¨ë“  ìƒìˆ˜ê°€ ì‚¬ìš©ëœë‹¤.
```java
@ParameterizedTest
@EnumSource(names = { "DAYS", "HOURS" })
void testWithEnumSourceInclude(ChronoUnit unit) {
    assertTrue(EnumSet.of(ChronoUnit.DAYS, ChronoUnit.HOURS).contains(unit));
}
````

mode ì†ì„±ì„ ì„ íƒì ìœ¼ë¡œ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. ì´ ì†ì„±ì€ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì— ì „ë‹¬í•˜ëŠ” ìƒìˆ˜ì˜ ì„¸ë°€í•œ ì œì–´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.
For example, you can exclude names from the enum constant pool or specify regular expressions as in the following examples.
ì˜ˆë¡œ, enum ì—ì„œ ì œì™¸í•  ìƒìˆ˜ë“¤ì„ ì§€ì •í•œë‹¤ê±°ë‚˜, ì•„ë˜ ì˜ˆ ì²˜ëŸ¼ ì •ê·œí‘œí˜„ì‹ì„ ì‚¬ìš© í•  ìˆ˜ë„ ìˆë‹¤.
```java

```java
@ParameterizedTest
@EnumSource(mode = EXCLUDE, names = { "ERAS", "FOREVER" })
void testWithEnumSourceExclude(ChronoUnit unit) {
    assertFalse(EnumSet.of(ChronoUnit.ERAS, ChronoUnit.FOREVER).contains(unit));
}
```
```java
@ParameterizedTest
@EnumSource(mode = MATCH_ALL, names = "^.*DAYS$")
void testWithEnumSourceRegex(ChronoUnit unit) {
    assertTrue(unit.name().endsWith("DAYS"));
}
```

#### @MethodSource
@MethodSourceëŠ” í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë‚˜ ì™¸ë¶€ í´ë˜ìŠ¤ì˜ í•˜ë‚˜ ì´ìƒì˜ íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì°¸ì¡° í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ë‚´ë¶€ì˜ íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ê°€ @TestInstance(Lifecycle.PER_CLASS)ë¡œ ì •ì˜ë˜ì§€ ì•Šì€ ì´ìƒ static ì´ì–´ì•¼ í•œë‹¤. ì™¸ë¶€ í´ë˜ìŠ¤ì˜ íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” ì–¸ì œë‚˜ static ìœ¼ë¡œ ì„ ì–¸ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.

íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” ì¸ìë“¤ì˜ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•´ì•¼í•œë‹¤. ê·¸ë¦¬ê³  ìŠ¤íŠ¸ë¦¼ë‚´ì˜ ê° ì¸ìë“¤ì€ @ParameterizedTest ë©”ì†Œë“œê°€ ì‹¤í–‰ë ë•Œ ì¸ìë¡œ ì‚¬ìš©ëœë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ, ì¸ìì˜ ìŠ¤íŠ¸ë¦¼ì´ë¼ê³  ë§í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ë‹¤ì–‘í•œ íƒ€ì…ì„ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.
ì´ ê¸€ì—ì„œ, "ìŠ¤íŠ¸ë¦¼"ì€ JUnitì´ Streamìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ìˆëŠ” ëª¨ë“ ê²ƒì„ ì˜ë¯¸í•œë‹¤. ì˜ˆë¡œ, Stream, DoubleStream, LongStream, IntStream, Collection, Iterator, Iterable, ê°ì²´ì˜ ë°°ì—´, primitive íƒ€ì…ì˜ ë°°ì—´ ë“±ì´ ìˆë‹¤.
parameterized í…ŒìŠ¤íŠ¸ê°€ ë‹¨ì¼ ì¸ìë§Œ ìˆ˜ìš©í•˜ë„ë¡ ì‘ì„±ë˜ì–´ ìˆë‹¤ë©´ ìŠ¤íŠ¸ë¦¼ ë‚´ì˜ ì¸ìëŠ” objectì˜ ë°°ì—´ê³¼ ê°™ì€ ì¸ìì˜ ê°ì²´ë¥¼ ì œê³µ í•  ìˆ˜ ìˆë‹¤.

ë‹¨ì¼ íŒŒë¼ë¯¸í„°ë§Œ í•„ìš”í•˜ë‹¤ë©´ ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ íŒŒë¼ë¯¸í„° íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ ìŠ¤íŠ¸ë¦¼ì„ ë°˜í™˜ í•  ìˆ˜ ìˆë‹¤.
```java
@ParameterizedTest
@MethodSource("stringProvider")
void testWithExplicitLocalMethodSource(String argument) {
    assertNotNull(argument);
}

static Stream<String> stringProvider() {
    return Stream.of("apple", "banana");
}
```

@MethodSource ì–´ë…¸í…Œì´ì…˜ì— íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, JUnitì€ @ParameterizedTest ë©”ì†Œë“œëª…ê³¼ ë˜‘ê°™ì€ ì´ë¦„ì˜ íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì°¾ëŠ”ë‹¤. ì•„ë˜ ì˜ˆì œë¥¼ ë³´ì.
```java
@ParameterizedTest
@MethodSource
void testWithDefaultLocalMethodSource(String argument) {
    assertNotNull(argument);
}

static Stream<String> testWithDefaultLocalMethodSource() {
    return Stream.of("apple", "banana");
}
```
ì•„ë˜ ì˜ˆ ê²ƒ ì²˜ëŸ¼ primitive íƒ€ì… ìŠ¤íŠ¸ë¦¼ë“¤ë„ ì§€ì›í•œë‹¤.
```java
@ParameterizedTest
@MethodSource("range")
void testWithRangeMethodSource(int argument) {
    assertNotEquals(9, argument);
}

static IntStream range() {
    return IntStream.range(0, 20).skip(10);
}
```
ë§Œì•½ parameterized í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì— ì—¬ëŸ¬ê°œì˜ íŒŒë¼ë¯¸í„°ê°€ í•„ìš”í•˜ë‹¤ë©´, Arguments ì¸ìŠ¤í„´ìŠ¤ì˜ collection, stream, ë°°ì—´ì„ ë°˜í™˜í•˜ê±°ë‚˜, ì•„ë˜ ì˜ˆì œ ì²˜ëŸ¼ ì˜¤ë¸Œì íŠ¸ ë°°ì—´ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤. (ë” ë‹¤ì–‘í•œ ë¦¬í„´íƒ€ì…ì´ ê¶ê¸ˆí•˜ë‹¤ë©´, @MethodSource Javadocì„ ë³´ì)

Note that arguments is a static factory method defined in the Arguments interface.
ì•„ë˜ ì˜ˆì œì—ì„œ arguments(Object...)ëŠ” Arguments ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜ëœ static factory ë©”ì†Œë“œì´ë‹¤.
arguments(Object...) ëŒ€ì‹ ì— Arguments.of(Objectâ€¦)ë¥¼ ì‚¬ìš© í•  ìˆ˜ë„ ìˆë‹¤.
```java
@ParameterizedTest
@MethodSource("stringIntAndListProvider")
void testWithMultiArgMethodSource(String str, int num, List<String> list) {
    assertEquals(5, str.length());
    assertTrue(num >=1 && num <=2);
    assertEquals(2, list.size());
}

static Stream<Arguments> stringIntAndListProvider() {
    return Stream.of(
        arguments("apple", 1, Arrays.asList("a", "b")),
        arguments("lemon", 2, Arrays.asList("x", "y"))
    );
}
```
An external, static factory method can be referenced by providing its fully qualified method name as demonstrated in the following example.
ì™¸ë¶€ static íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ ì „ì²´ ë©”ì†Œë“œ ì´ë¦„ì„ ì§€ì •í•´ì„œ ì°¸ì¡° í•  ìˆ˜ ìˆë‹¤.
```java
package example;

import java.util.stream.Stream;

import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.MethodSource;

class ExternalMethodSourceDemo {

    @ParameterizedTest
    @MethodSource("example.StringsProviders#tinyStrings")
    void testWithExternalMethodSource(String tinyString) {
        // test with tiny string
    }
}

class StringsProviders {

    static Stream<String> tinyStrings() {
        return Stream.of(".", "oo", "OOO");
    }
}
```
íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆê³ , ì´ íŒŒë¼ë¯¸í„°ëŠ” ParameterResolver í™•ì¥ API ë¥¼ êµ¬í˜„í•œ êµ¬í˜„ì²´ë¥¼ ë“±ë¡í•˜ê³ , ì´ë¡œë¶€í„° ì œê³µ ë°›ì„ ìˆ˜ ìˆë‹¤. 
ì•„ë˜ ì˜ˆì—ì„œ, íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— í•˜ë‚˜ë§Œ ìˆê¸° ë•Œë¬¸ì— ì´ë¦„ìœ¼ë¡œ ì°¸ì¡°ëœë‹¤.
ë§Œì•½ ì´ë¦„ì´ ê°™ì€ ë¡œì»¬ ë©”ì†Œë“œë“¤ì´ ì—¬ëŸ¬ê°œ ìˆë‹¤ë©´, @MethodSource("factoryMethod()"), @MethodSource("factoryMethod(java.lang.String)") ì™€ ê°™ì´ íŒŒë¼ë¯¸í„°ë¡œ êµ¬ë¶„ í•  ìˆ˜ ìˆë‹¤.
@MethodSource("example.MyTests#factoryMethod(java.lang.String)") ì™€ ê°™ì´ ì „ì²´ ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œë„ ì°¸ì¡° í•  ìˆ˜ ìˆë‹¤.
```java
@RegisterExtension
static final IntegerResolver integerResolver = new IntegerResolver();

@ParameterizedTest
@MethodSource("factoryMethodWithArguments")
void testWithFactoryMethodWithArguments(String argument) {
    assertTrue(argument.startsWith("2"));
}

static Stream<Arguments> factoryMethodWithArguments(int quantity) {
    return Stream.of(
            arguments(quantity + " apples"),
            arguments(quantity + " lemons")
    );
}

static class IntegerResolver implements ParameterResolver {

    @Override
    public boolean supportsParameter(ParameterContext parameterContext,
            ExtensionContext extensionContext) {

        return parameterContext.getParameter().getType() == int.class;
    }

    @Override
    public Object resolveParameter(ParameterContext parameterContext,
            ExtensionContext extensionContext) {

        return 2;
    }

}
```

#### @CsvSource
@CsvSourceëŠ” ì‰¼í‘œë¡œ êµ¬ë¶„ëœ ê°’ë“¤ì˜ ëª©ë¡ì„ í‘œí˜„ í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. (ì˜ˆ, CSV ë¬¸ìì—´ ë¦¬í„°ëŸ´)
@CsvSourceì˜ ì†ì„±ìœ¼ë¡œ ì‘ì„±í•œ ê° ë¬¸ìì—´ì€ CSV ë ˆì½”ë“œ í˜•íƒœë¡œ ì‘ì„±ë˜ê³ , parameterized í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë  ë•Œ ì‚¬ìš©ëœë‹¤.
useHeadersInDisplayName ì†ì„±ê°’ì„ í†µí•´ì„œ ì²«ë²ˆì§¸ í–‰ì€ í—¤ë”ë¡œ ì‚¬ìš©í•  ìˆ˜ ë„ ìˆë‹¤. (ì„¸ë¶€ì‚¬í•­ê³¼ ì˜ˆì œëŠ” Javadocì˜ useHeadersInDisplayName ì†ì„±ì„ ì°¸ê³ í•˜ì)
```java
@ParameterizedTest
@CsvSource({
    "apple,         1",
    "banana,        2",
    "'lemon, lime', 0xF1",
    "strawberry,    700_000"
})
void testWithCsvSource(String fruit, int rank) {
    assertNotNull(fruit);
    assertNotEquals(0, rank);
}
```

ê¸°ë³¸ êµ¬ë¶„ ë¬¸ìëŠ” ì‰¼í¬ ì´ë‹¤. í•˜ì§€ë§Œ ë‹¤ë¥¸ ë¬¸ìë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ delimiter ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
delimiterString ì†ì„±ì„ ì´ìš©í•˜ì—¬ ë‹¨ì¼ ë¬¸ì ëŒ€ì‹  ë¬¸ìì—´ì„ êµ¬ë¶„ìë¡œ ì‚¬ìš© í•  ìˆ˜ë„ ìˆë‹¤. ê·¸ëŸ¬ë‚˜, ë™ì‹œì— ë‘ì¢…ë¥˜ë¥¼ ì‚¬ìš© í• ìˆ˜ëŠ” ì—†ë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ @CsvSourceëŠ” ì‘ì€ ë”°ì˜´í‘œ(')ë¥¼ ë¬¸ìì—´ì„ ë¬¶ëŠ” ë”°ì˜´í‘œë¡œ ì‚¬ìš©í•œë‹¤. í•˜ì§€ë§Œ quoteCharacter ì†ì„±ì„ ì´ìš©í•˜ì—¬ ë³€ê²½ í•  ìˆ˜ ìˆë‹¤. (ìœ„ ì˜ˆì œë‚˜ ì•„ë˜ í…Œì´ë¸”ì—ì„œ 'lemon, lime')
ë¹ˆ ê°’ ('')ì€ emptyValue ì†ì„±ì´ ì„¤ì •ë˜ì§€ ì•Šì€ í•œ ë¹ˆ ë¬¸ìì—´ë¡œ í•´ì„ëœë‹¤. ë°˜ë©´, ì™„ì „íˆ ë¹„ì–´ìˆëŠ” ê°’ì€ null ì°¸ì¡°ë¡œ ì¸ì‹ ëœë‹¤.
í•˜ë‚˜ ì´ìƒì˜ nullValuesë¥¼ íŠ¹ì •í•˜ë©´, í•´ë‹¹ ê°’ì€ null ë¡œ ì¸ì‹ ëœë‹¤. (ì•„ë˜ í‘œì— NIL ì˜ˆì œë¥¼ ë³´ë¼)
nullì´ ê¸°ë³¸(primitive) íƒ€ì…ì— ì‚¬ìš©ëœë‹¤ë©´ ArgumentConversionExceptionì´ ë°œìƒí•œë‹¤.

> nullValues ì†ì„±ì— ì–´ë–¤ ê°’ì´ ì§€ì •ë˜ì—ˆë‹¤ í•˜ë”ë¼ë„, ë”°ì˜´í‘œê°€ ì—†ì´ ë¹ˆ ê°’ì€ ì–¸ì œë‚˜ null ê°’ìœ¼ë¡œ ë³€ê²½ëœë‹¤.

ë”°ì˜´í¬ ë‚´ë¶€ì—ì„œ ì²˜ìŒì´ë‚˜ ë§ˆì§€ë§‰ì— ë¹ˆ ê³µë°±ì´ ì…ë ¥ë˜ë©´ ìë™ìœ¼ë¡œ ê³µë°±ì´ ì œê±°(trim)ëœë‹¤. ignoreLeadingAndTrailingWhitespace ì†ì„±ê°’ì„ í†µí•´ì„œ ì´ ë™ì‘ì„ ë³€ê²½ í•  ìˆ˜ ìˆë‹¤.

| Example Input                                                                         | Resulting Argument List |
|---------------------------------------------------------------------------------------|-------------------------|
| @CsvSource({ "apple, banana" })                                                       | "apple", "banana"       |
| @CsvSource({ "apple, 'lemon, lime'" })                                                | "apple", "lemon, lime"  |
| @CsvSource({ "apple, ''" })                                                           | "apple", ""             |
| @CsvSource({ "apple, " })                                                             | "apple", null           |
| @CsvSource(value = { "apple, banana, NIL" }, nullValues = "NIL")                      | "apple", "banana", null |
| @CsvSource(value = { " apple , banana" }, ignoreLeadingAndTrailingWhitespace = false) | " apple ", " banana"    |

í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œ í…ìŠ¤íŠ¸ ë¸”ë¡(Java 15 ì´ìƒ)ì„ ì§€ì›í•˜ëŠ” ê²½ìš°, @CsvSourceì˜ textBlock ì†ì„±ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.
í…ìŠ¤íŠ¸ ë¸”ë¡ì˜ ê° í–‰ì€ CSV ë ˆì½”ë“œë¥¼ ë‚˜íƒ€ë‚´ê³ , parameterized í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë  ë•Œ ì‚¬ìš©ëœë‹¤.
ì•„ë˜ ì˜ˆ ì²˜ëŸ¼ useHeadersInDisplayName ì†ì„±ê°’ì„ trueë¡œ ë¡œ ì„¤ì •í•˜ì—¬ ì²«ë²ˆì§¸ í–‰ì„ í—¤ë”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

í…ìŠ¤íŠ¸ ë¸”ë¡ì„ ì´ìš©í•˜ì—¬ ìœ„ ì˜ˆì œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„ í•  ìˆ˜ë„ ìˆë‹¤.
```java
@ParameterizedTest(name = "[{index}] {arguments}")
@CsvSource(useHeadersInDisplayName = true, textBlock = """
    FRUIT,         RANK
    apple,         1
    banana,        2
    'lemon, lime', 0xF1
    strawberry,    700_000
    """)
void testWithCsvSource(String fruit, int rank) {
    // ...
}
```
ìœ„ ì˜ˆì œì˜ CSV í—¤ë”ë¥¼ í¬í•¨í•œ display ì´ë¦„ì€ ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±ëœë‹¤.
```text
[1] FRUIT = apple, RANK = 1
[2] FRUIT = banana, RANK = 2
[3] FRUIT = lemon, lime, RANK = 0xF1
[4] FRUIT = strawberry, RANK = 700_000
```
CSV ë ˆì½”ë“œë¥¼ value ì†ì„±ìœ¼ë¡œ ì œê³µí•˜ëŠ” ê²½ìš°ì™€ ë‹¬ë¦¬ í…ìŠ¤íŠ¸ ë¸”ë¡ì€ ì£¼ì„ì„ í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆë‹¤. 
"#" ê¸°í˜¸ë¡œ ì‹œì‘í•˜ëŠ” ì¤„ì€ ì£¼ì„ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ ë¬´ì‹œ ëœë‹¤. "#"ê¸°í˜¸ëŠ” ì¤„ì˜ ì²«ë²ˆì§¸ ë¬¸ì ì´ì–´ì•¼ í•˜ë©° ê·¸ ì•ì— ì–´ë– í•œ ê³µë°±ë„ ìˆì–´ì„œëŠ” ì•ˆëœë‹¤.
ë¸”ë¡ ë¬¸ì„ ë‹«ëŠ” ê¸°í˜¸(""")ëŠ” ë§ˆì§€ë§‰ ë¼ì¸ì˜ ëì— ì‘ì„±í•˜ê±°ë‚˜ ê·¸ ë‹¤ìŒë¼ì¸ì— ì™¼ìª½ ì •ë ¬í•˜ì—¬ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. (ì•„ë˜ ì˜ˆì œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´ í…Œì´ë¸”ê³¼ ë¹„ìŠ·í•œ í˜•ì‹ìœ¼ë¡œ í¬ë§·íŒ…ì„ ë³´ì—¬ì¤€ë‹¤.) 
```java
@ParameterizedTest
@CsvSource(delimiter = '|', quoteCharacter = '"', textBlock = """
    #-----------------------------
    #    FRUIT     |     RANK
    #-----------------------------
         apple     |      1
    #-----------------------------
         banana    |      2
    #-----------------------------
      "lemon lime" |     0xF1
    #-----------------------------
       strawberry  |    700_000
    #-----------------------------
    """)
void testWithCsvSource(String fruit, int rank) {
    // ...
}
```

> Javaì˜ í…ìŠ¤íŠ¸ ë¸”ëŸ­ ê¸°ëŠ¥ì€ ì»´íŒŒì¼ ì‹œ ìë™ìœ¼ë¡œ ì˜ë„í•˜ì§€ ì•Šì€ ê³µë°±ì„ ì œê±°í•œë‹¤.
> í•˜ì§€ë§Œ Groovyë‚˜ Kotlinê³¼ ê°™ì€ ë‹¤ë¥¸ JVM ì–¸ì–´ëŠ” ìë™ìœ¼ë¡œ ê³µë°±ì„ ì œê±°í•˜ì§€ ì•ŠëŠ”ë‹¤.
> ë”°ë¼ì„œ, ë§Œì•½ Javaê°€ ì•„ë‹Œ ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´, ë¸”ëŸ­ ë¬¸ìì—´ì„ ì‘ì„±í• ë•Œ ë¬¸ìì—´ ì•ì— ê³µë°±ì´ ì˜¤ì§€ ì•Šê²Œ ì£¼ì˜ í•´ì•¼ í•œë‹¤. 

#### @CsvFileSource
@CsvFileSource ì–´ë…¸í…Œì´ì…˜ì€ í´ë˜ìŠ¤ íŒ¨ìŠ¤ë‚˜ ë¡œì»¬ íŒŒì¼ ì‹œìŠ¤í…œì˜ CSV íŒŒì¼ì„ ì‚¬ìš© í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.
CSV íŒŒì¼ì˜ ê° í–‰ë“¤ì€ parameterized í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë  ë•Œ ì‚¬ìš©ëœë‹¤.
ì²«ë²ˆì§¸ ë ˆì½”ë“œëŠ” í—¤ë”ë¡œ ì‚¬ìš© ë  ìˆ˜ë„ ìˆë‹¤. numLinesToSkip ì†ì„±ì„ í†µí•´ í—¤ë”ë¼ì¸ì„ ë¬´ì‹œí•  ìˆ˜ ìˆë‹¤.
í—¤ë”ë¥¼ display ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´, useHeadersInDisplayName ì†ì„±ì„ trueë¡œ ì„¤ì • í•´ì•¼ í•œë‹¤.
ì•„ë˜ ì˜ˆì œëŠ” numLinesToSkip ì™€ useHeadersInDisplayNameì˜ ì‚¬ìš©ë²•ì„ ë³´ì—¬ì¤€ë‹¤.

The default delimiter is a comma (,), but you can use another character by setting the delimiter attribute.
ê¸°ë³¸ êµ¬ë¶„ ë¬¸ìëŠ” ì‰¼í¬ ì´ì§€ë§Œ delimiter ì†ì„±ì„ í†µí•´ ë‹¤ë¥¸ ë¬¸ìë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤. ë‹¨ì¼ ë¬¸ì ë¿ë§Œ ì•„ë‹ˆë¼ delimiterString ì†ì„±ì„ í†µí•´ ë¬¸ìì—´ì„ êµ¬ë¶„ìë¡œ ì‚¬ìš© í•  ìˆ˜ë„ ìˆë‹¤.
delimiter ì†ì„±ê³¼ delimiterString ì†ì„±ì€ ë™ì‹œì— ì‚¬ìš© í•  ìˆ˜ ì—†ë‹¤.
> _Comments in CSV files_  
> ë¼ì¸ì´ #ìœ¼ë¡œ ì‹œì‘í•˜ë©´ ì£¼ì„ìœ¼ë¡œ ì¸ì‹ ë˜ì–´ ë¬´ì‹œëœë‹¤.

```java
@ParameterizedTest
@CsvFileSource(resources = "/two-column.csv", numLinesToSkip = 1)
void testWithCsvFileSourceFromClasspath(String country, int reference) {
    assertNotNull(country);
    assertNotEquals(0, reference);
}

@ParameterizedTest
@CsvFileSource(files = "src/test/resources/two-column.csv", numLinesToSkip = 1)
void testWithCsvFileSourceFromFile(String country, int reference) {
    assertNotNull(country);
    assertNotEquals(0, reference);
}

@ParameterizedTest(name = "[{index}] {arguments}")
@CsvFileSource(resources = "/two-column.csv", useHeadersInDisplayName = true)
void testWithCsvFileSourceAndHeaders(String country, int reference) {
    assertNotNull(country);
    assertNotEquals(0, reference);
}
```
_two-column.csv_
```text
COUNTRY, REFERENCE
Sweden, 1
Poland, 2
"United States of America", 3
France, 700_000
```

ì•„ë˜ ê²°ê³¼ëŠ” ì²«ë²ˆì§¸ ë‘ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì˜ display ì´ë¦„ì„ ë³´ì—¬ì¤€ë‹¤.
```text
[1] country=Sweden, reference=1
[2] country=Poland, reference=2
[3] country=United States of America, reference=3
[4] country=France, reference=700_000
```

ì•„ë˜ ì˜ˆì œëŠ” CSV í—¤ë” ì´ë¦„ì„ ì‚¬ìš©í•˜ëŠ” ë§ˆì§€ë§‰ parameterized í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì˜ ìƒì„±ëœ display ì´ë¦„ì„ ë³´ì—¬ì¤€ë‹¤.
```text
[1] COUNTRY = Sweden, REFERENCE = 1
[2] COUNTRY = Poland, REFERENCE = 2
[3] COUNTRY = United States of America, REFERENCE = 3
[4] COUNTRY = France, REFERENCE = 700_000
```
@CsvSource ì–´ë…¸í…Œì´ì…˜ê³¼ëŠ” ë‹¤ë¥´ê²Œ @CsvFileSource ì–´ë…¸í…Œì´ì…˜ì—ëŠ” ìŒë”°ì˜´í‘œ(")ê°€ ë¬¸ìì—´ì„ í‘œì‹œí•˜ëŠ” ë¬¸ìì´ë‹¤. ì´ ì—­ì‹œ quoteCharacter ì†ì„±ì„ í†µí•´ ë³€ê²½ í•  ìˆ˜ ìˆë‹¤. ìœ„ ì˜ˆì—ì„œ "United States of America" ë¥¼ ë³´ì.
ë¹„ì–´ìˆëŠ” ë”°ì˜´í‘œ ê°’("") ì€ emptyValue ì†ì„±ì´ ì„¤ì •ë˜ì§€ ì•Šì€ í•œ ë¹ˆ ë¬¸ìì—´ë¡œ í•´ì„ëœë‹¤. ë°˜ë©´, ì™„ì „íˆ ë¹„ì–´ìˆëŠ” ê°’ì€ null ê°’ìœ¼ë¡œ í•´ì„ ëœë‹¤.
í•˜ë‚˜ ì´ìƒì˜ nullValues ê°’ì„ ì§€ì •í•˜ë©´ ì§€ì •í•œ ê°’ì´ null ë¡œ ì¸ì‹ ëœë‹¤. nullValuesì— ê¸°ë³¸(primitive)íƒ€ì…ì´ ì‚¬ìš©ëœë‹¤ë©´ ArgumentConversionExceptionì´ ë°œìƒí•œë‹¤.

> ë”°ì˜´í‘œ ì—†ì´ ë¹ˆ ê°’ì€ nullValues ì†ì„±ê°’ê³¼ ê´€ê³„ ì—†ì´ ì–¸ì œë‚˜ null ë¡œ ì¸ì‹ëœë‹¤.

ë”°ì˜´í¬ ë‚´ë¶€ì—ì„œ ì²˜ìŒì´ë‚˜ ë§ˆì§€ë§‰ì— ë¹ˆ ê³µë°±ì´ ì…ë ¥ë˜ë©´ ìë™ìœ¼ë¡œ ê³µë°±ì´ ì œê±°(trim)ëœë‹¤. ignoreLeadingAndTrailingWhitespace ì†ì„±ê°’ì„ í†µí•´ì„œ ì´ ë™ì‘ì„ ë³€ê²½ í•  ìˆ˜ ìˆë‹¤.

#### @ArgumentsSource
@ArgumentsSource ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ArgumentsProviderë¥¼ íŠ¹ì • í•  ìˆ˜ ìˆë‹¤.
ArgumentsProviderì˜ êµ¬í˜„ì²´ëŠ” top-level í´ë˜ìŠ¤ ë˜ëŠ” static nested í´ë˜ìŠ¤ë¡œ ì„ ì–¸ë˜ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì£¼ì˜í•˜ì.

```java
@ParameterizedTest
@ArgumentsSource(MyArgumentsProvider.class)
void testWithArgumentsSource(String argument) {
    assertNotNull(argument);
}
```
```java
public class MyArgumentsProvider implements ArgumentsProvider {

    @Override
    public Stream<? extends Arguments> provideArguments(ExtensionContext context) {
        return Stream.of("apple", "banana").map(Arguments::of);
    }
}
```
ValueArgumentsProvider ë‚˜ CsvArgumentsProviderì™€ ê°™ì´ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ArgumentsProviderë¥¼ êµ¬í˜„í•˜ê³  ì‹¶ë‹¤ë©´, AnnotationBasedArgumentsProvider í´ë˜ìŠ¤ë¥¼ í™•ì¥ í•´ì•¼ í•œë‹¤.

### 2.16.4. Argument Conversion
#### Widening Conversion
JUnit Jupiterì€ í™•ì¥ ê¸°ë³¸ íƒ€ì… ì¸ìë¥¼ ì œê³µí•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ì„ ì œê³µ í•œë‹¤. @ValueSource(ints = { 1, 2, 3 }) ì™€ ê°™ì´ ì‘ì„±í•œë‹¤ë©´, int ë¿ ì•„ë‹ˆë¼ long, float, double íƒ€ì…ì˜ ì¸ìë„ ë°›ì„ ìˆ˜ ìˆë‹¤.

#### Implicit Conversion
@CsvSourceì™€ ê°™ì€ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´, JUnit JupiterëŠ” ëª‡ê°€ì§€ ë‚´ì¥ëœ ì•”ì‹œì  íƒ€ì… ì»¨ë²„í„°ë¥¼ ì œê³µí•œë‹¤. ë³€í™˜ ë°©ë²•ì€ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ì˜ ì„ ì–¸ëœ íƒ€ì…ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.
@ParameterizedTest ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ê°€ TimeUnitìœ¼ë¡œ ì„ ì–¸ë˜ì–´ ìˆê³ , ì‹¤ì œë¡œëŠ” String íƒ€ì…ì˜ ì¸ìê°€ ì œê³µëœë‹¤ë©´, Stringì€ ìë™ìœ¼ë¡œ TimeUnit enum ìƒìˆ˜ë¡œ ë³€í™˜ëœë‹¤.  
```java
@ParameterizedTest
@ValueSource(strings = "SECONDS")
void testWithImplicitArgumentConversion(ChronoUnit argument) {
assertNotNull(argument.name());
}
```
String ê°ì²´ëŠ” ì•„ë˜ í‘œì— ë³´ì´ëŠ” ê²ƒ ì²˜ëŸ¼ ì•”ì‹œì ìœ¼ë¡œ í˜• ë³€í™˜ëœë‹¤.
> Decimal, 16ì§„ìˆ˜, 8ì§„ìˆ˜ ë¬¸ìì—´ì€ byte, short, int, long, ê·¸ë¦¬ê³  ê·¸ ë°•ì‹±ëœ íƒ€ì…ìœ¼ë¡œ ë³€í™˜ëœë‹¤.

| Target Type              | Example                                                                                                 |
|--------------------------|---------------------------------------------------------------------------------------------------------|
| boolean/Boolean          | "true" â†’ true (only accepts values 'true' or 'false', case-insensitive)                                 |
| byte/Byte                | "15", "0xF", or "017" â†’ (byte) 15                                                                       |
| char/Character           | "o" â†’ 'o'                                                                                               |
| short/Short              | "15", "0xF", or "017" â†’ (short) 15                                                                      |
| int/Integer              | "15", "0xF", or "017" â†’ 15                                                                              |
| long/Long                | "15", "0xF", or "017" â†’ 15L                                                                             |
| float/Float              | "1.0" â†’ 1.0f                                                                                            |
| double/Double            | "1.0" â†’ 1.0d                                                                                            |
| Enum subclass            | "SECONDS" â†’ TimeUnit.SECONDS                                                                            |
| java.io.File             | "/path/to/file" â†’ new File("/path/to/file")                                                             |
| java.lang.Class          | "java.lang.Integer" â†’ java.lang.Integer.class (use $ for nested classes, e.g. "java.lang.Thread$State") |
| java.lang.Class          | "byte" â†’ byte.class (primitive types are supported)                                                     |
| java.lang.Class          | "char[]" â†’ char[].class (array types are supported)                                                     |
| java.math.BigDecimal     | "123.456e789" â†’ new BigDecimal("123.456e789")                                                           |
| java.math.BigInteger     | "1234567890123456789" â†’ new BigInteger("1234567890123456789")                                           |
| java.net.URI             | "https://junit.org/" â†’ URI.create("https://junit.org/")                                                 |
| java.net.URL             | "https://junit.org/" â†’ URI.create("https://junit.org/").toURL()                                         |
| java.nio.charset.Charset | "UTF-8" â†’ Charset.forName("UTF-8")                                                                      |
| java.nio.file.Path       | "/path/to/file" â†’ Paths.get("/path/to/file")                                                            |
| java.time.Duration       | "PT3S" â†’ Duration.ofSeconds(3)                                                                          |
| java.time.Instant        | "1970-01-01T00:00:00Z" â†’ Instant.ofEpochMilli(0)                                                        |
| java.time.LocalDateTime  | "2017-03-14T12:34:56.789" â†’ LocalDateTime.of(2017, 3, 14, 12, 34, 56, 789_000_000)                      |
| java.time.LocalDate      | "2017-03-14" â†’ LocalDate.of(2017, 3, 14)                                                                |
| java.time.LocalTime      | "12:34:56.789" â†’ LocalTime.of(12, 34, 56, 789_000_000)                                                  |
| java.time.MonthDay       | "--03-14" â†’ MonthDay.of(3, 14)                                                                          |
| java.time.OffsetDateTime | "2017-03-14T12:34:56.789Z" â†’ OffsetDateTime.of(2017, 3, 14, 12, 34, 56, 789_000_000, ZoneOffset.UTC)    |
| java.time.OffsetTime     | "12:34:56.789Z" â†’ OffsetTime.of(12, 34, 56, 789_000_000, ZoneOffset.UTC)                                |
| java.time.Period         | "P2M6D" â†’ Period.of(0, 2, 6)                                                                            |
| java.time.YearMonth      | "2017-03" â†’ YearMonth.of(2017, 3)                                                                       |
| java.time.Year           | "2017" â†’ Year.of(2017)                                                                                  |
| java.time.ZonedDateTime  | "2017-03-14T12:34:56.789Z" â†’ ZonedDateTime.of(2017, 3, 14, 12, 34, 56, 789_000_000, ZoneOffset.UTC)     |
| java.time.ZoneId         | "Europe/Berlin" â†’ ZoneId.of("Europe/Berlin")                                                            |
| java.time.ZoneOffset     | "+02:30" â†’ ZoneOffset.ofHoursMinutes(2, 30)                                                             |
| java.util.Currency       | "JPY" â†’ Currency.getInstance("JPY")                                                                     |
| java.util.Locale         | "en" â†’ new Locale("en")                                                                                 |
| java.util.UUID           | "d043e930-7b3b-48e3-bdbe-5a3ccfb833db" â†’ UUID.fromString("d043e930-7b3b-48e3-bdbe-5a3ccfb833db")        |

#### Fallback String-to-Object Conversion
ìŠ¤íŠ¸ë§ì—ì„œ ìœ„ í‘œì— ì—´ê±°ëœ ëŒ€ìƒ íƒ€ì…ìœ¼ë¡œ ì•”ì‹œì  í˜•ë³€í™˜ ì™¸ì—ë„, ëª…ì‹œì  í˜• ë³€í™˜ì„ ìœ„í•œ íŒ©í† ë¦¬ ë©”ì†Œë“œë‚˜ íŒ©í† ë¦¬ ìƒì„±ìê°€ ì •ì˜ ëœ ê²½ìš°, ìŠ¤íŠ¸ë§ì—ì„œ ëŒ€ìƒ íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜ í•˜ëŠ” ëŒ€ì²´ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•œë‹¤.
* íŒ©í† ë¦¬ ë©”ì†Œë“œ: private ì´ ì•„ë‹Œ static ë©”ì†Œë“œë¡œ ì„ ì–¸ë˜ì–´ ìˆê³ , ë‹¨ì¼ String íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ ëŒ€ìƒ íƒ€ì… ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤. ë©”ì†Œë“œ ëª…ì€ ì„ì˜ë¡œ ì§€ì • í•  ìˆ˜ ìˆìœ¼ë©°, ë”°ë¼ì•¼ í•˜ëŠ” ë‹¤ë¥¸ ê·œì¹™ì€ ì—†ë‹¤.
* íŒ©í† ë¦¬ ìƒì„±ì: ëŒ€ìƒ íƒ€ì…ì˜ private ìƒì„±ìì—¬ì„œëŠ” ì•ˆë˜ê³ , ë‹¨ì¼ String ì¸ìë¥¼ ë°›ì•„ì•¼ í•œë‹¤. ëŒ€ìƒ íƒ€ì…ì€ ë°˜ë“œì‹œ top-level í´ë˜ìŠ¤ ë˜ëŠ” static nested í´ë˜ìŠ¤ë¡œ ì„ ì–¸ë˜ì–´ì•¼ í•œë‹¤. 

> ì—¬ëŸ¬ê°œì˜ íŒ©í† ë¦¬ ë©”ì†Œë“œê°€ ë°œê²¬ë˜ë©´ ëª¨ë‘ ë¬´ì‹œëœë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œì™€ íŒ©í† ë¦¬ ìƒì„±ìê°€ í•˜ë‚˜ì”© ìˆë‹¤ë©´, íŒ©í† ë¦¬ ë©”ì†Œë“œê°€ ìƒì„±ì ëŒ€ì‹  ì‚¬ìš©ëœë‹¤.

ì•„ë˜ì˜ @ParameterizedTest ë©”ì†Œë“œì—ì„œ Book ì¸ìëŠ” Book.fromTitle(String) íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ "42 Cats"ë¥¼ ì±…ì˜ ì œëª©ìœ¼ë¡œ ì „ë‹¬í•˜ì—¬ ìƒì„±ëœë‹¤.
```java
@ParameterizedTest
@ValueSource(strings = "42 Cats")
void testWithImplicitFallbackArgumentConversion(Book book) {
    assertEquals("42 Cats", book.getTitle());
}
```
```java
public class Book {

    private final String title;

    private Book(String title) {
        this.title = title;
    }

    public static Book fromTitle(String title) {
        return new Book(title);
    }

    public String getTitle() {
        return this.title;
    }
}
```

#### Explicit Conversion
ì•”ì‹œì  í˜•ë³€í™˜ ì™¸ì—ë„ @ConvertWith ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ëª…ì‹œì ìœ¼ë¡œ ArgumentConverterë¥¼ ì§€ì • í•  ìˆ˜ ìˆë‹¤.
ArgumentConverterì˜ êµ¬í˜„ì²´ëŠ” ìµœìƒìœ„ í´ë˜ìŠ¤ë‚˜ static nested í´ë˜ìŠ¤ë¡œ ì„ ì–¸ë˜ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì£¼ì˜í•˜ì.
```java
@ParameterizedTest
@EnumSource(ChronoUnit.class)
void testWithExplicitArgumentConversion(
@ConvertWith(ToStringArgumentConverter.class) String argument) {

    assertNotNull(ChronoUnit.valueOf(argument));
}
```
```java
public class ToStringArgumentConverter extends SimpleArgumentConverter {

    @Override
    protected Object convert(Object source, Class<?> targetType) {
        assertEquals(String.class, targetType, "Can only convert to String");
        if (source instanceof Enum<?>) {
            return ((Enum<?>) source).name();
        }
        return String.valueOf(source);
    }
}
```
ì»¨ë²„í„°ê°€ ë‹¨ì¼ íƒ€ì…ë§Œì„ ë‹¤ë£¬ë‹¤ë©´, TypedArgumentConverterë¥¼ ìƒì†í•˜ì—¬ ë³€í™˜í•˜ë ¤ëŠ” íƒ€ì…ì„ íŠ¹ì •í•  ìˆ˜ ìˆë‹¤.
```java
public class ToLengthArgumentConverter extends TypedArgumentConverter<String, Integer> {

    protected ToLengthArgumentConverter() {
        super(String.class, Integer.class);
    }

    @Override
    protected Integer convert(String source) {
        return (source != null ? source.length() : 0);
    }

}
```
Explicit argument converters are meant to be implemented by test and extension authors.
ëª…ì‹œì  ì¸ì ì»¨ë²„í„°ëŠ” í…ŒìŠ¤íŠ¸ì™€ í™•ì¥ ì‘ì„±ìê°€ êµ¬í˜„í•˜ëŠ” ê²ƒì„ ëª©ì ìœ¼ë¡œ í•œë‹¤.
ë”°ë¼ì„œ junit-jupiter-paramsëŠ” ì°¸ì¡° êµ¬í˜„ìœ¼ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‹¨ì¼ ëª…ì‹œì  ì¸ìˆ˜ ë³€í™˜ê¸°ì¸ JavaTimeArgumentConverterë§Œ ì œê³µí•©ë‹ˆë‹¤.
ì´ëŠ” JavaTimeConversionPattern ì´ë¼ëŠ” ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ì‚¬ìš©ëœë‹¤.

```java
@ParameterizedTest
@ValueSource(strings = { "01.01.2017", "31.12.2017" })
void testWithExplicitJavaTimeConverter(
@JavaTimeConversionPattern("dd.MM.yyyy") LocalDate argument) {

    assertEquals(2017, argument.getYear());
}
```
JavaTimeArgumentConverterì™€ ê°™ì´ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì ìš©ê°€ëŠ¥í•œ ì‚¬ìš©ì ì •ì˜ ArgumentConverterë¥¼ êµ¬í˜„í•˜ê³  ì‹¶ë‹¤ë©´, AnnotationBasedArgumentConverterë¥¼ ìƒì†ë°›ì•„ì„œ êµ¬í˜„í•˜ë©´ ëœë‹¤.


### 2.16.5. Argument Aggregation
ê¸°ë³¸ì ìœ¼ë¡œ, @ParameterizedTest ë©”ì„œë“œì— ì œê³µëœ ê° ì¸ìˆ˜ëŠ” ë‹¨ì¼ ë©”ì„œë“œ ë§¤ê°œ ë³€ìˆ˜ì— í•´ë‹¹í•©ë‹ˆë‹¤.
Consequently, argument sources which are expected to supply a large number of arguments can lead to large method signatures.
ê²°ê³¼ì ìœ¼ë¡œ, ë§ì€ ìˆ˜ì˜ ì¸ìê°€ ì œê³µë˜ëŠ” ì¸ì ë“¤ì€ í° ë©”ì†Œë“œ ì‹œê·¸ë‹ˆì²˜(?)ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆë‹¤.
ê·¸ëŸ° ê²½ìš°, ë‹¤ì¤‘ íŒŒë¼ë¯¸í„° ëŒ€ì‹  ArgumentsAccessorë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.
ì´ APIë¥¼ ì‚¬ìš©í•˜ë©´ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì— ì „ë‹¬ëœ ë‹¨ì¼ ì¸ìë¥¼ í†µí•´ ì œê³µëœ ì¸ìì— ì ‘ê·¼ í•  ìˆ˜ ìˆë‹¤. ë˜í•œ ì•”ì‹œì  í˜• ë³€í™˜ë„ ì§€ì›í•œë‹¤.

ê²Œë‹¤ê°€, ArgumentsAccessor.getInvocationIndex()ë¥¼ í†µí•´ í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì‹¤í–‰ ìˆœë²ˆ(index)ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

```java
@ParameterizedTest
@CsvSource({
"Jane, Doe, F, 1990-05-20",
"John, Doe, M, 1990-10-22"
})
void testWithArgumentsAccessor(ArgumentsAccessor arguments) {
    Person person = new Person(arguments.getString(0),
                              arguments.getString(1),
                              arguments.get(2, Gender.class),
                              arguments.get(3, LocalDate.class));

    if (person.getFirstName().equals("Jane")) {
        assertEquals(Gender.F, person.getGender());
    }
    else {
        assertEquals(Gender.M, person.getGender());
    }
    assertEquals("Doe", person.getLastName());
    assertEquals(1990, person.getDateOfBirth().getYear());
}
```
ArgumentsAccessor ì¸ìŠ¤í„´ìŠ¤ëŠ” ArgumentsAccessor íƒ€ì…ì˜ íŒŒë¼ë¯¸í„°ì— ìë™ìœ¼ë¡œ ì£¼ì…ëœë‹¤.

#### Custom Aggregators
ì‚¬ìš©ìì •ì˜ aggregatorë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ArgumentsAggregator ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•˜ë©° @AggregateWith ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ì´ë¥¼ @ParameterizedTest ë©”ì†Œë“œì˜ í˜¸í™˜ë˜ëŠ” íŒŒë¼ë¯¸í„°ì— ë“±ë¡í•´ì•¼ í•œë‹¤.
aggregationì˜ ê²°ê³¼ëŠ” parameterized í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ ë ë•Œ í•´ë‹¹ í…ŒìŠ¤íŠ¸ì˜ ì¸ìë¡œ ì‚¬ìš©ëœë‹¤.
ArgumentsAggregatorì˜ êµ¬í˜„ì²´ëŠ” ìµœìƒìœ„ í´ë˜ìŠ¤ ë˜ëŠ” static nested í´ë˜ìŠ¤ë¡œ ì„ ì–¸ë˜ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì£¼ì˜í•˜ì.

```java
@ParameterizedTest
@CsvSource({
    "Jane, Doe, F, 1990-05-20",
    "John, Doe, M, 1990-10-22"
})
void testWithArgumentsAggregator(@AggregateWith(PersonAggregator.class) Person person) {
    // perform assertions against person
}
```
```java
public class PersonAggregator implements ArgumentsAggregator {
    @Override
    public Person aggregateArguments(ArgumentsAccessor arguments, ParameterContext context) {
        return new Person(arguments.getString(0),
                        arguments.getString(1),
                        arguments.get(2, Gender.class),
                        arguments.get(3, LocalDate.class));
    }
}
```
ë§Œì•½ ë°˜ë³µì ìœ¼ë¡œ @AggregateWith(MyTypeAggregator.class) ì½”ë“œë¥¼ ì‚¬ìš©í•œë‹¤ë©´, @CsvToMyTypeê³¼ ê°™ì€ ì‚¬ìš©ì ì •ì˜ ì–´ë…¸í…Œì´ì…˜ì„ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. 
ë‹¤ìŒ ì˜ˆì œëŠ” ì‚¬ìš©ì ì •ì˜ @CsvToPerson ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ì˜ˆì œì´ë‹¤.
```java
@ParameterizedTest
@CsvSource({
    "Jane, Doe, F, 1990-05-20",
    "John, Doe, M, 1990-10-22"
})
void testWithCustomAggregatorAnnotation(@CsvToPerson Person person) {
    // perform assertions against person
}
```
```java
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.PARAMETER)
@AggregateWith(PersonAggregator.class)
public @interface CsvToPerson {
}
```

### 2.16.6. Customizing Display Names
ê¸°ë³¸ì ìœ¼ë¡œ parameterized í…ŒìŠ¤íŠ¸ì˜ display ì´ë¦„ì—ëŠ” ê° ì‹¤í–‰ì— ëŒ€í•œ ì‹¤í–‰ ìˆœë²ˆê³¼ í•´ë‹¹ ì‹¤í–‰ì— ëŒ€í•œ ëª¨ë“  ì¸ìê°€ í¬í•¨ëœë‹¤. 
ê°ê°ì˜ display ì´ë¦„ì€ íŒŒë¼ë¯¸í„° ì´ë¦„ìœ¼ë¡œ ì‹œì‘ëœë‹¤. (ArgumentsAccessor ë˜ëŠ” ArgumentAggregatorë¥¼ í†µí•´ì„œë§Œ ì¸ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²½ìš°ë¥¼ ì œì™¸í•˜ê³ )
@ParameterizedTest ì–´ë…¸í…Œì´ì…˜ì˜ name ì†ì„±ê°’ì„ í†µí•´ display ì´ë¦„ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•  ìˆ˜ ìˆë‹¤.

```java
@DisplayName("Display name of container")
@ParameterizedTest(name = "{index} ==> the rank of ''{0}'' is {1}")
@CsvSource({ "apple, 1", "banana, 2", "'lemon, lime', 3" })
void testWithCustomDisplayNames(String fruit, int rank) {
}
```
ConsoleLauncherë¡œ ìœ„ ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ë³¼ ê²ƒì´ë‹¤.
```text
Display name of container âœ”
â”œâ”€ 1 ==> the rank of 'apple' is 1 âœ”
â”œâ”€ 2 ==> the rank of 'banana' is 2 âœ”
â””â”€ 3 ==> the rank of 'lemon, lime' is 3 âœ”
```
nameì€ MessageFormat íŒ¨í„´ì„ ë”°ë¥¸ë‹¤. ë”°ë¼ì„œ í™‘ë”°ì˜´í‘œ(')ëŠ” ë‘ê°œì˜ í™‘ë”°ì˜´í‘œ('')ë¡œ í‘œí˜„ë˜ì–´ì•¼ í•œë‹¤.
ì•„ë˜ placeholder ë“¤ì„ display ì´ë¦„ì— ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.

| Placeholder          | Description                                                       |
|----------------------|-------------------------------------------------------------------|
| {displayName}        | the display name of the method                                    |
| {index}              | the current invocation index (1-based)                            |
| {arguments}          | the complete, comma-separated arguments list                      |
| {argumentsWithNames} | the complete, comma-separated arguments list with parameter names |
| {0}, {1}, â€¦          | an individual argument                                            |

> display ì´ë¦„ì— ì¸ìë“¤ì„ í¬í•¨ì‹œì¼°ì„ë•Œ í‘œí˜„ë˜ëŠ” ë¬¸ìì—´ì´ ì„¤ì •ëœ ìµœëŒ€ ê¸¸ì´ë¥¼ ì´ˆê³¼í•˜ë©´ ë¬¸ìì—´ì´ ì˜ë¦°ë‹¤. 
> ìµœëŒ€ ê¸¸ì´ëŠ” ì„¤ì • íŒŒë¼ë¯¸í„°(junit.jupiter.params.displayname.argument.maxlength) ë¡œ ì„¤ì • í•  ìˆ˜ ìˆìœ¼ë©° ê¸°ë³¸ê°’ì€ 512 ì´ë‹¤.

@MethodSourceë‚˜ @ArgumentsSourceë¥¼ ì‚¬ìš©í• ë•Œ, Named APIë¥¼ ì´ìš©í•´ì„œ ì¸ìë“¤ì— ëŒ€í•œ ì‚¬ìš©ì ì •ì˜ ì´ë¦„ì„ ì œê³µ í•  ìˆ˜ ìˆë‹¤.
ì•„ë˜ ì˜ˆì œì™€ ê°™ì´ ì¸ìê°€ ì‹¤í–‰ì— ì‚¬ìš©ë  ë•Œ ì‚¬ìš©ì ì •ì˜ ì´ë¦„ì´ ì ìš©ëœë‹¤.

```java
@DisplayName("A parameterized test with named arguments")
@ParameterizedTest(name = "{index}: {0}")
@MethodSource("namedArguments")
void testWithNamedArguments(File file) {
}

static Stream<Arguments> namedArguments() {
    return Stream.of(
        arguments(named("An important file", new File("path1"))),
        arguments(named("Another file", new File("path2")))
    );
}
```
```text
A parameterized test with named arguments âœ”
â”œâ”€ 1: An important file âœ”
â””â”€ 2: Another file âœ”
```

í”„ë¡œì íŠ¸ì˜ ëª¨ë“  parameterized í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ê¸°ë³¸ ì´ë¦„ íŒ¨í„´ì„ ì„¤ì •í•˜ê³  ì‹¶ë‹¤ë©´, junit-platform.properties íŒŒì¼ì— junit.jupiter.params.displayname.default ì„¤ì • íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.
```properties
junit.jupiter.params.displayname.default = {index}
```

parameterized í…ŒìŠ¤íŠ¸ì˜ display ì´ë¦„ì€ ì•„ë˜ ìš°ì„ ìˆœìœ„ ê·œì¹™ì— ë”°ë¼ ê²°ì •ëœë‹¤.
1. @ParameterizedTestì˜ name ì†ì„±
2. ì„¤ì • íŒŒë¼ë¯¸í„° junit.jupiter.params.displayname.default ì˜ ê°’
3. @ParameterizedTest ì— ì •ì˜ ëœ DEFAULT_DISPLAY_NAME ìƒìˆ˜ ê°’


### 2.16.7. Lifecycle and Interoperability
parameterizedí…ŒìŠ¤íŠ¸ì˜ ê° ì‹¤í–‰ì€ ì¼ë°˜ì ì¸ @Test ë©”ì†Œë“œì˜ ë¼ì´í”„ ì‚¬ì´í´ê³¼ ë™ì¼í•˜ë‹¤. 
ì˜ˆë¥¼ ë“¤ì–´, @BeforeEach ë©”ì†Œë“œëŠ” ê° ì‹¤í–‰ ì „ì— ì‹¤í–‰ëœë‹¤. 
Dynamic Tests ì²˜ëŸ¼ ì‹¤í–‰ë“¤ì´ IDEì˜ í…ŒìŠ¤íŠ¸ íŠ¸ë¦¬ì— í•˜ë‚˜ì”© í‘œì‹œëœë‹¤.
ì¼ë°˜ @Test ë©”ì†Œë“œì™€ @ParameterizedTest ë©”ì†Œë“œë¥¼ ë™ì¼í•œ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— ì„ì–´ì„œ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.

@ParameterizedTest ë©”ì†Œë“œì— ParameterResolver í™•ì¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
ì¸ì ì†ŒìŠ¤ì— ì˜í•´ ì œê³µë˜ëŠ” ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ëŠ” ì¸ì ë¦¬ìŠ¤íŠ¸ì˜ ì²«ë²ˆì§¸ì— ì™€ì•¼ í•œë‹¤.
í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ëŠ” ì¼ë°˜ í…ŒìŠ¤íŠ¸ì™€ ë‹¤ë¥¸ íŒŒë¼ë¯¸í„° ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì§„ parameterized í…ŒìŠ¤íŠ¸ê°€ í¬í•¨ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì¸ì ì†ŒìŠ¤ì—ì„œ ì œê³µë˜ëŠ” ê°’ì€ ë¼ì´í”„ ì‚¬ì´í´ ë©”ì†Œë“œ(@BeforeEach)ì™€ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ìƒì„±ìì—ì„œëŠ” í•´ê²°ë˜ì§€ ì•ŠëŠ”ë‹¤.

```java
@BeforeEach
void beforeEach(TestInfo testInfo) {
    // ...
}

@ParameterizedTest
@ValueSource(strings = "apple")
void testWithRegularParameterResolver(String argument, TestReporter testReporter) {
    testReporter.publishEntry("argument", argument);
}

@AfterEach
void afterEach(TestInfo testInfo) {
    // ...
}
```


## 2.17. Test Templates
@TestTemplate ë©”ì†Œë“œëŠ” ì¼ë°˜ì ì¸ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì•„ë‹ˆë¼ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ í…œí”Œë¦¿ì´ë‹¤.
ì´ê²ƒì€ ë“±ë¡ëœ providerì— ì˜í•´ ì œê³µë˜ëŠ” ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ ìˆ˜ì— ë”°ë¼ ì—¬ëŸ¬ë²ˆ ì‹¤í–‰ë˜ë„ë¡ ì„¤ê³„ë˜ì—ˆë‹¤. ë”°ë¼ì„œ, ë“±ë¡ëœ TestTemplateInvocationContextProviderì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ì•¼ í•œë‹¤.
í…ŒìŠ¤íŠ¸ í…œí”Œë¦¿ ë©”ì†Œë“œì˜ ê° ì‹¤í–‰ì€ ì¼ë°˜ @Test ë©”ì†Œë“œì˜ ì‹¤í–‰ê³¼ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ë©°, ë™ì¼í•œ ë¼ì´í”„ ì‚¬ì´í´ ì½œë°±ê³¼ í™•ì¥ì„ ì§€ì›í•œë‹¤.
ì‚¬ìš©ë²•ì„ í™•ì¸ í•˜ê¸° ìœ„í•´ Test Templates ì„ ìœ„í•œ Providing Invocation Contexts ë¶€ë¶„ì„ ì°¸ê³ í•˜ì‹œë¼

> Repeated í…ŒìŠ¤íŠ¸ ì™€ Parameterized í…ŒìŠ¤íŠ¸ëŠ” í…ŒìŠ¤íŠ¸ í…œí”Œë¦¿ì˜ ë‚´ì¥ëœ íŠ¹ìˆ˜í™”ëœ êµ¬í˜„ì²´ì´ë‹¤.



## 2.18. Dynamic Tests
JUnit Jupiter ì—ì„œ í‘œì¤€ @Test ì–´ë…¸í…Œì´ì…˜ì€ JUnit 4ì˜ @Test ì–´ë…¸í…Œì´ì…˜ê³¼ ë§¤ìš° ìœ ì‚¬í•˜ë‹¤.
ë‘˜ë‹¤ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë©”ì†Œë“œë¥¼ ì •ì˜ í•œë‹¤.
ì´ëŸ¬í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì»´íŒŒì¼ ì‹œì ì— ì™„ì „íˆ êµ¬ì²´í™” ë˜ì–´ ìˆìœ¼ë©°, ëŸ°íƒ€ì„ì— ë°œìƒí•˜ëŠ” ëª¨ë“  ê²ƒìœ¼ë¡œ ì¸í•´ ë™ì‘ì´ ë³€ê²½ ë  ìˆ˜ ì—†ë‹¤ëŠ” ì˜ë¯¸ì—ì„œ ì •ì ì´ë‹¤.
AssumptionsëŠ” ë™ì  ë™ì‘ì˜ ê¸°ë³¸ í˜•íƒœë¥¼ ì œê³µí•˜ì§€ë§Œ ì˜ë„ì ìœ¼ë¡œ í‘œí˜„ë ¥ì´ ì œí•œë˜ì–´ ìˆë‹¤. (ë­”ì†Œë¦¬ì•¼)

ì¶”ê°€ì ìœ¼ë¡œ ì™„ì „íˆ ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì´ JUnit Jupiter ì—ì„œ ì†Œê°œë˜ì—ˆë‹¤.
ì´ë ‡ê²Œ ìƒˆë¡œìš´ ì¢…ë¥˜ì˜ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ë¡œ, @TestFactory ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì •ì˜ëœ íŒ©í† ë¦¬ ë©”ì†Œë“œì— ì˜í•´ ëŸ°íƒ€ì„ì— ìƒì„±ëœë‹¤.

@Test ë©”ì†Œë“œì™€ ë‹¬ë¦¬, @TestFactory ë©”ì†Œë“œëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìì²´ê°€ ì•„ë‹ˆë¼ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ íŒ©í† ë¦¬ ë©”ì†Œë“œì´ë‹¤. ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ëŠ” ì´ íŒ©í† ë ˆ ë©”ì†Œë“œì˜ ìƒì‚° ë¬¼ ì´ë‹¤.
@TestFactoryë©”ì†Œë“œëŠ” ë°˜ë“œì‹œ ë‹¨ì¼ DynamicNode ë˜ëŠ” Stream, Collection, Iterable, Iterator, DynamicNodeì˜ ë°°ì—´ì„ ë°˜í™˜ í•´ì•¼í•œë‹¤.
DynamicNodeì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” DynamicContainerì™€ DynamicTestì´ë‹¤.

DynamicContainer ê°ì²´ëŠ” display ì´ë¦„ê³¼ ë‹¤ì´ë‚˜ë¯¹ ìì‹ ë…¸ë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆê³ , ë‹¤ì´ë‚˜ë¯¹ ë…¸ë“œë“¤ì„ ì„ì˜ë¡œ ì¤‘ì²©ëœ ê³„ì¸µ êµ¬ì¡°ë¥¼ ìƒì„± í•  ìˆ˜ ìˆë‹¤.
DynamicTest ê°ì²´ëŠ” ì§€ì—° ì‹¤í–‰ ë  ê²ƒì´ê³ , ë¹„ ê²°ì •ì  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìƒì„±ì„ ë™ì ìœ¼ë¡œ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤. 

@TestFactoryì— ì˜í•´ ì œê³µëœ Streamì€ stream.close()ë¥¼ í˜¸ì¶œí•˜ì—¬ ë‹«ê±°ë‚˜, Files.lines() ê°™ì€ ë©”ì†Œë“œë¥¼ ì´ìš©í•´ì„œ ìì›ì„ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

@Test ë©”ì†Œë“œì™€ @TestFactory ë©”ì†Œë“œëŠ” private ë˜ëŠ” static ì´ë©´ ì•ˆë˜ë©°, ParameterResolverì— ì˜í•´ ì œê³µë˜ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ì„ ì–¸ í•  ìˆ˜ë„ ìˆë‹¤.

DynamicTestëŠ” ëŸ°íƒ€ì„ì— ìƒì„±ë˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì´ë‹¤. DynamicTestëŠ” display ì´ë¦„ê³¼ Executableë¡œ êµ¬ì„±ëœë‹¤.
Executableì€ @FunctionalInterface ì´ë‹¤. ì´ê²ƒì€ ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ì˜ êµ¬í˜„ì€ ëŒë‹¤ í‘œí˜„ì‹ì´ë‚˜ ë©”ì†Œë“œ ì°¸ì¡°ë¥¼ í†µí•´ì„œ ì œê³µ ë  ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì´ë‹¤.

> _**Dynamic Test Lifecycle**_
> ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ì˜ ì‹¤í–‰ ë¼ì´í”„ ì‚¬ì´í´ì€ í‘œì¤€ @Test ì¼€ì´ìŠ¤ì™€ëŠ” ë§¤ìš° ë‹¤ë¥´ë‹¤. íŠ¹íˆ, ê°œë³„ ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ë¼ì´í”„ ì‚¬ì´í´ ì½œë°±ì€ ì—†ë‹¤.
> ì´ë§ì€, @BeforeEach ì™€ @AfterEach ë©”ì†Œë“œ ê·¸ë¦¬ê³  ê·¸ì— ëŒ€ì‘ë˜ëŠ” í™•ì¥ ì½œë°±ì€ @TestFactory ë©”ì†Œë“œì— ëŒ€í•´ì„œëŠ” ì‹¤í–‰ë˜ì§€ë§Œ, ê° ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ì— ëŒ€í•´ì„œëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.
> ë‹¤ë¥¸ë§ë¡œ í•˜ë©´, ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ì˜ ëŒë‹¤ í‘œí˜„ì‹ ë‚´ë¶€ì— ì‘ì„±ëœ í…ŒìŠ¤íŠ¸ ê°ì²´ì˜ í•„ë“œì— ì ‘ê·¼í• ë•Œ, ì´ í•„ë“œë“¤ì€ ì½œë°± ë©”ì†Œë“œë‚˜ ê°™ì€ @TestFactory ë©”ì†Œë“œì— ì˜í•´ ìƒì„±ëœ ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ì˜ ê°œë³„ ì‹¤í–‰ ë§ˆë‹¤ ì´ˆê¸°í™” ë˜ì§€ ì•ŠëŠ”ë‹¤. 

JUnit Jupiter 5.10.0 ë¶€í„°, ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ëŠ” ë°˜ë“œì‹œ íŒ©í† ë¦¬ ë©”ì†Œë“œì— ì˜í•´ ìƒì„±ë˜ì–´ì•¼ í•œë‹¤. í•˜ì§€ë§Œ, ì´ê²ƒì€ ì´í›„ ë¦´ë¦¬ì¦ˆì—ì„œ ë“±ë¡ ê¸°ëŠ¥ìœ¼ë¡œ ë³´ì™„ ë  ìˆ˜ ìˆë‹¤.


### 2.18.1. Dynamic Test Examples
ì´ì–´ì„œ ë‚˜ì˜¬ DynamicTestsDemo í´ë˜ìŠ¤ëŠ” í…ŒìŠ¤íŠ¸ íŒ©í† ë¦¬ì™€ ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ì˜ ë‹¤ì–‘í•œ ì˜ˆì œë¥¼ ë³´ì—¬ì¤€ë‹¤.

ì²«ë²ˆì§¸ ë©”ì†Œë“œëŠ” ìœ íš¨í•˜ì§€ ì•Šì€ ë¦¬í„´ íƒ€ì…ì„ ë°˜í™˜í•œë‹¤.
ë¦¬í„´íƒ€ì…ì´ ìœ íš¨í•˜ì§€ ì•Šì€ê²ƒì€ ì»´íŒŒì¼ì‹œ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ëŸ°íƒ€ì„ì— ê°ì§€ë˜ë©´ JUnitExceptionì´ ë°œìƒí•œë‹¤.

ë‹¤ìŒ 6ê°œì˜ ë©”ì†Œë“œëŠ” ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤ì˜ Collection, Iterable, Iterator, array, ë˜ëŠ” Streamì„ ìƒì„±í•˜ëŠ” ê²ƒì„ ë³´ì—¬ì¤€ë‹¤.
ëŒ€ë¶€ë¶„ì˜ ì˜ˆì œëŠ” ì‹¤ì œë¡œ ë™ì  ë™ì‘ì„ ë³´ì—¬ì£¼ì§€ ì•Šì§€ë§Œ, ì›ì¹™ì ìœ¼ë¡œ ì§€ì›ë˜ëŠ” ë¦¬í„´ íƒ€ì…ì„ ë³´ì—¬ì¤€ë‹¤.
dynamicTestsFromStream()ê³¼ dynamicTestsFromIntStream()ëŠ” ì£¼ì–´ì§„ ë¬¸ìì—´ ì§‘í•© ë˜ëŠ” ì…ë ¥ ìˆ«ì ë²”ìœ„ì— ëŒ€í•œ ë™ì  í…ŒìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤€ë‹¤.

ê·¸ ë‹¤ìŒ ë©”ì†Œë“œëŠ” ì§„ì§œ ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ì´ë‹¤.
generateRandomNumberOfTests()ëŠ” ëœë¤ ìˆ«ìë¥¼ ìƒì„±í•˜ëŠ” Iterator, display ì´ë¦„ ìƒì„±ê¸°, í…ŒìŠ¤íŠ¸ ì‹¤í–‰ê¸°ë¥¼ êµ¬í˜„í•˜ê³ , ì´ ì„¸ê°€ì§€ë¥¼ DynamicTest.stream()ì— ì œê³µí•œë‹¤.
generateRandomNumberOfTests()ì˜ ë¹„ ê²°ì •ì  ë™ì‘ì€ í…ŒìŠ¤íŠ¸ ë°˜ë³µì„±ê³¼ ì¶©ëŒí•˜ê¸° ë•Œë¬¸ì— ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•´ì•¼ í•˜ì§€ë§Œ, ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ì˜ í‘œí˜„ë ¥ê³¼ ê°•ë ¥í•¨ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.

ê·¸ ë‹¤ìŒ ë©”ì†Œë“œëŠ” ìœ ì—°ì„± ì¸¡ë©´ì—ì„œ generateRandomNumberOfTests()ì™€ ìœ ì‚¬í•˜ë‹¤.
ê·¸ëŸ¬ë‚˜, dynamicTestsFromStreamFactoryMethod()ëŠ” DynamicTest.stream() íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ í†µí•´ ê¸°ì¡´ Streamìœ¼ë¡œë¶€í„° ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ì˜ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•œë‹¤.

ì‹œì—° ëª©ì ìƒ, dynamicNodeSingleTest() ë©”ì†Œë“œëŠ” ìŠ¤íŠ¸ë¦¼ ëŒ€ì‹  ë‹¨ì¼ DynamicTestë¥¼ ìƒì„±í•˜ê³ , dynamicNodeSingleContainer() ë©”ì†Œë“œëŠ” DynamicContainerë¥¼ í™œìš©í•˜ì—¬ ë‹¤ì´ë‚˜ë¯¹ í…ŒìŠ¤íŠ¸ì˜ ì¤‘ì²©ëœ ê³„ì¸µ êµ¬ì¡°ë¥¼ ìƒì„±í•œë‹¤.

```java
import static example.util.StringUtils.isPalindrome;
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertFalse;
import static org.junit.jupiter.api.Assertions.assertNotNull;
import static org.junit.jupiter.api.Assertions.assertTrue;
import static org.junit.jupiter.api.DynamicContainer.dynamicContainer;
import static org.junit.jupiter.api.DynamicTest.dynamicTest;
import static org.junit.jupiter.api.Named.named;

import java.util.Arrays;
import java.util.Collection;
import java.util.Iterator;
import java.util.List;
import java.util.Random;
import java.util.function.Function;
import java.util.stream.IntStream;
import java.util.stream.Stream;

import example.util.Calculator;

import org.junit.jupiter.api.DynamicNode;
import org.junit.jupiter.api.DynamicTest;
import org.junit.jupiter.api.Named;
import org.junit.jupiter.api.Tag;
import org.junit.jupiter.api.TestFactory;
import org.junit.jupiter.api.function.ThrowingConsumer;

class DynamicTestsDemo {

    private final Calculator calculator = new Calculator();

    // This will result in a JUnitException!
    @TestFactory
    List<String> dynamicTestsWithInvalidReturnType() {
        return Arrays.asList("Hello");
    }

    @TestFactory
    Collection<DynamicTest> dynamicTestsFromCollection() {
        return Arrays.asList(
            dynamicTest("1st dynamic test", () -> assertTrue(isPalindrome("madam"))),
            dynamicTest("2nd dynamic test", () -> assertEquals(4, calculator.multiply(2, 2)))
        );
    }

    @TestFactory
    Iterable<DynamicTest> dynamicTestsFromIterable() {
        return Arrays.asList(
            dynamicTest("3rd dynamic test", () -> assertTrue(isPalindrome("madam"))),
            dynamicTest("4th dynamic test", () -> assertEquals(4, calculator.multiply(2, 2)))
        );
    }

    @TestFactory
    Iterator<DynamicTest> dynamicTestsFromIterator() {
        return Arrays.asList(
            dynamicTest("5th dynamic test", () -> assertTrue(isPalindrome("madam"))),
            dynamicTest("6th dynamic test", () -> assertEquals(4, calculator.multiply(2, 2)))
        ).iterator();
    }

    @TestFactory
    DynamicTest[] dynamicTestsFromArray() {
        return new DynamicTest[] {
            dynamicTest("7th dynamic test", () -> assertTrue(isPalindrome("madam"))),
            dynamicTest("8th dynamic test", () -> assertEquals(4, calculator.multiply(2, 2)))
        };
    }

    @TestFactory
    Stream<DynamicTest> dynamicTestsFromStream() {
        return Stream.of("racecar", "radar", "mom", "dad")
            .map(text -> dynamicTest(text, () -> assertTrue(isPalindrome(text))));
    }

    @TestFactory
    Stream<DynamicTest> dynamicTestsFromIntStream() {
        // Generates tests for the first 10 even integers.
        return IntStream.iterate(0, n -> n + 2).limit(10)
            .mapToObj(n -> dynamicTest("test" + n, () -> assertTrue(n % 2 == 0)));
    }

    @TestFactory
    Stream<DynamicTest> generateRandomNumberOfTestsFromIterator() {

        // Generates random positive integers between 0 and 100 until
        // a number evenly divisible by 7 is encountered.
        Iterator<Integer> inputGenerator = new Iterator<Integer>() {

            Random random = new Random();
            int current;

            @Override
            public boolean hasNext() {
                current = random.nextInt(100);
                return current % 7 != 0;
            }

            @Override
            public Integer next() {
                return current;
            }
        };

        // Generates display names like: input:5, input:37, input:85, etc.
        Function<Integer, String> displayNameGenerator = (input) -> "input:" + input;

        // Executes tests based on the current input value.
        ThrowingConsumer<Integer> testExecutor = (input) -> assertTrue(input % 7 != 0);

        // Returns a stream of dynamic tests.
        return DynamicTest.stream(inputGenerator, displayNameGenerator, testExecutor);
    }

    @TestFactory
    Stream<DynamicTest> dynamicTestsFromStreamFactoryMethod() {
        // Stream of palindromes to check
        Stream<String> inputStream = Stream.of("racecar", "radar", "mom", "dad");

        // Generates display names like: racecar is a palindrome
        Function<String, String> displayNameGenerator = text -> text + " is a palindrome";

        // Executes tests based on the current input value.
        ThrowingConsumer<String> testExecutor = text -> assertTrue(isPalindrome(text));

        // Returns a stream of dynamic tests.
        return DynamicTest.stream(inputStream, displayNameGenerator, testExecutor);
    }

    @TestFactory
    Stream<DynamicTest> dynamicTestsFromStreamFactoryMethodWithNames() {
        // Stream of palindromes to check
        Stream<Named<String>> inputStream = Stream.of(
                named("racecar is a palindrome", "racecar"),
                named("radar is also a palindrome", "radar"),
                named("mom also seems to be a palindrome", "mom"),
                named("dad is yet another palindrome", "dad")
            );

        // Returns a stream of dynamic tests.
        return DynamicTest.stream(inputStream,
            text -> assertTrue(isPalindrome(text)));
    }

    @TestFactory
    Stream<DynamicNode> dynamicTestsWithContainers() {
        return Stream.of("A", "B", "C")
            .map(input -> dynamicContainer("Container " + input, Stream.of(
                dynamicTest("not null", () -> assertNotNull(input)),
                dynamicContainer("properties", Stream.of(
                    dynamicTest("length > 0", () -> assertTrue(input.length() > 0)),
                    dynamicTest("not empty", () -> assertFalse(input.isEmpty()))
                ))
            )));
    }

    @TestFactory
    DynamicNode dynamicNodeSingleTest() {
        return dynamicTest("'pop' is a palindrome", () -> assertTrue(isPalindrome("pop")));
    }

    @TestFactory
    DynamicNode dynamicNodeSingleContainer() {
        return dynamicContainer("palindromes",
            Stream.of("racecar", "radar", "mom", "dad")
                .map(text -> dynamicTest(text, () -> assertTrue(isPalindrome(text)))
        ));
    }

}
```

### 2.18.2. URI Test Sources for Dynamic Tests
JUnit í”Œë«í¼ì€ IDE ë° ë¹Œë“œ ë„êµ¬ë¥¼ í†µí•´ í•´ë‹¹ ìœ„ì¹˜ë¥¼ íƒìƒ‰í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë˜ëŠ” ì»¨í…Œì´ë„ˆì˜ ì†ŒìŠ¤ë¥¼ í‘œí˜„í•˜ëŠ” TestSourceë¥¼ ì œê³µí•©ë‹ˆë‹¤.

java.net.URIê¸°ë°˜ì˜ TestSourceëŠ” DynamicTest.dynamicTest(String, URI, Executable)ì´ë‚˜ DynamicContainer.dynamicContainer(String, URI, Stream) íŒ©í† ë¦¬ ë©”ì†Œë“œì— ì‚¬ìš© ë  ìˆ˜ ìˆë‹¤.

URIëŠ” ë‹¤ìŒì˜ TestSource êµ¬í˜„ì²´ë¡œ ë³€í™˜ëœë‹¤.

**ClasspathResourceSource**  
URIê°€ classpath scheme(classpath:/test/foo.xml?line=20,column=2)ì„ í¬í•¨í•˜ëŠ” ê²½ìš°

**DirectorySource**  
URIê°€ íŒŒì¼ ì‹œìŠ¤í…œì˜ ë””ë ‰í† ë¦¬ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê²½ìš°

**FileSource**  
URIê°€ íŒŒì¼ ì‹œìŠ¤í…œì˜ íŒŒì¼ì„ ë‚˜íƒ€ë‚´ëŠ” ê²½ìš°

**MethodSource**  
URI ê°€ method schemeì„ í¬í•¨í•˜ê³  FQMNì„ í¬í•¨í•˜ëŠ” ê²½ìš° - method:org.junit.Foo#bar(java.lang.String, java.lang.String[])
FQMN(Fully Qualified Method Name)í˜•ì‹ê³¼ ê´€ë ¨í•´ì„œëŠ” DiscoverySelectors.selectMethod(String) Javadocì„ ì°¸ê³ . 

**ClassSource**  
URI ê°€ class schemeì„ í¬í•¨í•˜ê³  FQCN(class:org.junit.Foo?line=42)ì„ í¬í•¨í•˜ëŠ” ê²½ìš°

**UriSource**  
ìœ„ì˜ ëª¨ë“  ì¡°ê±´ì— í•´ë‹¹ í•˜ì§€ ì•ŠëŠ” ê²½ìš° 



## 2.19. Timeouts
@Timeout ì–´ë…¸í…Œì´ì…˜ì€ í…ŒìŠ¤íŠ¸, í…ŒìŠ¤íŠ¸ íŒ©í† ë¦¬, í…ŒìŠ¤íŠ¸ í…œí”Œë¦¿, ë¼ì´í”„ ì‚¬ì´í´ ë©”ì†Œë“œê°€ ì‹¤í–‰ì‹œ ì£¼ì–´ì§„ ì‹œê°„ì„ ì´ˆê³¼í•˜ë©´ ì‹¤íŒ¨ í•˜ë„ë¡ ì •ì˜ í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ ì‹œê°„ ë‹¨ìœ„ëŠ” "ì´ˆ" ì´ê³  ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤.

ì•„ë˜ ì˜ˆì œëŠ” @Timeoutì´ ë¼ì´í”„ ì‚¬ì´í´ê³¼ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì— ì–´ë–»ê²Œ ì ìš©ë˜ëŠ”ì§€ ë³´ì—¬ì¤€ë‹¤.
```java
class TimeoutDemo {

  @BeforeEach
  @Timeout(5)
  void setUp() {
    // fails if execution time exceeds 5 seconds
  }

  @Test
  @Timeout(value = 500, unit = TimeUnit.MILLISECONDS)
  void failsIfExecutionTimeExceeds500Milliseconds() {
    // fails if execution time exceeds 500 milliseconds
  }

  @Test
  @Timeout(value = 500, unit = TimeUnit.MILLISECONDS, threadMode = ThreadMode.SEPARATE_THREAD)
  void failsIfExecutionTimeExceeds500MillisecondsInSeparateThread() {
    // fails if execution time exceeds 500 milliseconds, the test code is executed in a separate thread
  }

}
```
í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ëª¨ë“  í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì™€ ëª¨ë“  @Nested í´ë˜ìŠ¤ì— ë˜‘ê°™ì€ íƒ€ì„ì•„ì›ƒ ì‹œê°„ì„ ì ìš©í•˜ê³  ì‹¶ë‹¤ë©´, @Timeout ì–´ë…¸í…Œì´ì…˜ì„ í´ë˜ìŠ¤ ë ˆë²¨ë¡œ ì„ ì–¸í•˜ë©´ ëœë‹¤. 
ê·¸ëŸ¬ë©´ @Timeoutì„ ë‹¤ì‹œ ì„ ì–¸í•˜ì§€ ì•ŠëŠ” ì´ìƒ í´ë˜ìŠ¤ ë‚´ì— ìˆëŠ” ì „ì²´ í…ŒìŠ¤íŠ¸, í…ŒìŠ¤íŠ¸ íŒ©í† ë¦¬, ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ í…œí”Œë¦¿ ë©”ì†Œë“œ, @Nested í´ë˜ìŠ¤ì— ëª¨ë‘ ì ìš©ëœë‹¤. 

@Timeout ì–´ë…¸í…Œì´ì…˜ì´ í´ë˜ìŠ¤ ë ˆë²¨ë¡œ ì„ ì–¸ë˜ì—ˆì„ë•Œ, ë¼ì´í”„ ì‚¬ì´í´ ë©”ì†Œë“œì—ëŠ” ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì£¼ì˜í•˜ì.

@TestFactory ë©”ì†Œë“œì— ì •ì˜ëœ @TimeoutëŠ” íŒ©í† ë¦¬ ë©”ì†Œë“œê°€ ì§€ì •ëœ ê¸°ê°„ ë‚´ì— ë°˜í™˜ë˜ëŠ”ì§€ í™•ì¸í•˜ì§€ë§Œ, íŒ©í† ë¦¬ì— ì˜í•´ ìƒì„±ëœ ê° DynamicTestì˜ ì‹¤í–‰ ì‹œê°„ì€ í™•ì¸í•˜ì§€ ì•ŠëŠ”ë‹¤.
DynamicTestì˜ ì‹¤í–‰ ì‹œê°„ì„ ì œí•œí•˜ë ¤ë©´, assertTimeout() or assertTimeoutPreemptively() ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

@TestTemplate(@RepeatedTest, @ParameterizedTest) ë©”ì†Œë“œì— @Timeoutì´ ì‚¬ìš©ëœë‹¤ë©´ ê° í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì€ íƒ€ì„ì•„ì›ƒì´ ì ìš©ëœë‹¤.

### 2.19.1. Thread mode
timeoutì€ ë‹¤ìŒì˜ 3ê°€ì§€ ì“°ë ˆë“œ ëª¨ë“œì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤. SAME_THREAD, SEPARATE_THREAD, or INFERRED

SAME_THREAD ê°€ ì‚¬ìš©ë˜ë©´, ì–´ë…¸í…Œì´ì…˜ëœ ë©”ì†Œë“œëŠ” ë©”ì¸ ì“°ë ˆë“œì—ì„œ ì‹¤í–‰ëœë‹¤. íƒ€ì„ì•„ì›ƒì´, ë©”ì¸ ì“°ë ˆë“œëŠ” ë‹¤ë¥¸ ì“°ë ˆë“œë¡œë¶€í„° ì¤‘ë‹¨ëœë‹¤.
ì´ê²ƒì€ ThreadLocal íŠ¸ëœì­ì…˜ ê´€ë¦¬ ì™€ ê°™ì´ ì‹¤í–‰ì¤‘ì¸ ìŠ¤ë ˆë“œì— ë¯¼ê°í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ìŠ¤í”„ë§ê³¼ ê°™ì€ í”„ë ˆì„ì›ê³¼ì˜ ìƒí˜¸ìš´ìš©ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•¨ì´ë‹¤.

ë°˜ëŒ€ë¡œ SEPARATE_THREADë¥¼ ì‚¬ìš©í•˜ë©´, assertTimeoutPreemptively()ì™€ ê°™ì´, ì–´ë…¸í…Œì´ì…˜ëœ ë©”ì†Œë“œì˜ ì‹¤í–‰ì€ ë³„ë„ì˜ ì“°ë ˆë“œì—ì„œ ì§„í–‰ëœë‹¤.
ì´ê²ƒì€ ì›í•˜ì§€ ì•ŠëŠ” ë¶€ì‘ìš©ì„ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤. Preemptive Timeouts with assertTimeoutPreemptively() ì°¸ê³ .

ê¸°ë³¸ ê°’ì¸ INFERRED ì“°ë ˆë“œ ëª¨ë“œë¥¼ ì ìš©í•˜ë©´, junit.jupiter.execution.timeout.thread.mode.default ì„¤ì • íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ì“°ë ˆë“œ ëª¨ë“œë¥¼ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.
ì„¤ì • ê°’ì´ ìœ íš¨í•˜ì§€ ì•Šê±°ë‚˜ ì„¤ì •ë˜ì§€ ì•Šì€ ê²½ìš°, SAME_THREADê°€ fallbackìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.

### 2.19.2. Default Timeouts
ì•„ë˜ ì„¤ì • íŒŒë¼ë¯¸í„°ë“¤ì€ @Timeoutì´ ì–´ë…¸í…Œì´ì…˜ëœ ë©”ì†Œë“œë‚˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ê°€ ì•„ë‹Œ ê²½ìš° ê¸°ë³¸ íƒ€ì„ì•„ì›ƒì„ ì§€ì •í•˜ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
 
junit.jupiter.execution.timeout.default  
ëª¨ë“  í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ ë©”ì†Œë“œë‚˜ ë¼ì´í”„ì‚¬ì´í´ ë©”ì†Œë“œì˜ ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ

junit.jupiter.execution.timeout.testable.method.default  
ëª¨ë“  í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ ë©”ì†Œë“œì˜ ê¸°ë³¸ íƒ€ì„ ì•„ì›ƒ

junit.jupiter.execution.timeout.test.method.default
@Test ë©”ì†Œë“œì˜ ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ

junit.jupiter.execution.timeout.testtemplate.method.default  
@TestTemplate ë©”ì†Œë“œì˜ ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ

junit.jupiter.execution.timeout.testfactory.method.default  
@TestFactory ë©”ì†Œë“œì˜ ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ

junit.jupiter.execution.timeout.lifecycle.method.default  
ëª¨ë“  ë¼ì´í”„ì‚¬ì´í´ ë©”ì†Œë“œì˜ ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ

junit.jupiter.execution.timeout.beforeall.method.default  
@BeforeAll ë©”ì†Œë“œì˜ ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ

junit.jupiter.execution.timeout.beforeeach.method.default  
@BeforeEach ë©”ì†Œë“œì˜ ê¸°ë³¸ íƒ€ì„ ì•„ì›ƒ

junit.jupiter.execution.timeout.aftereach.method.default  
@AfterEach ë©”ì†Œë“œì˜ ê¸°ë³¸ íƒ€ì„ ì•„ì›ƒ

junit.jupiter.execution.timeout.afterall.method.default  
@AfterAll ë©”ì†Œë“œì˜ ê¸°ë³¸ íƒ€ì„ ì•„ì›ƒ


ë” êµ¬ì²´ì ì¸ ì„¤ì • íŒŒë¼ë¯¸í„°ë“¤ì€ ëœ êµ¬ì²´ì ì¸ ê²ƒë“¤ì„ ì˜¤ë²„ë¼ì´ë”© í•œë‹¤.
ì˜ˆë¡œ junit.jupiter.execution.timeout.testable.method.default ëŠ” junit.jupiter.execution.timeout.defaultë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ê³ ,
junit.jupiter.execution.timeout.test.method.defaultëŠ” junit.jupiter.execution.timeout.testable.method.defaultë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•œë‹¤.

ì„¤ì • íŒŒë¼ë¯¸í„°ì˜ ê°’ì€ ì•„ë˜ í‘œì™€ ê°™ì€ í˜•ì‹(<number> [ns|Î¼s|ms|s|m|h|d])ì„ ë”°ë¼ì•¼ í•œë‹¤. ìˆ«ìì™€ ì‹œê°„ ë‹¨ìœ„ ì‚¬ì´ì˜ ê³µë°±ì€ ìƒëµ ê°€ëŠ¥í•˜ë‹¤. ì‹œê°„ ë‹¨ìœ„ë¥¼ íŠ¹ì •í•˜ì§€ ì•Šìœ¼ë©´ "ì´ˆ"ë¡œ ì„¤ì • ëœë‹¤.

| Parameter value | Equivalent annotation                     |
|-----------------|-------------------------------------------|
| 42              | @Timeout(42)                              |
| 42 ns           | @Timeout(value = 42, unit = NANOSECONDS)  |
| 42 Î¼s           | @Timeout(value = 42, unit = MICROSECONDS) |
| 42 ms           | @Timeout(value = 42, unit = MILLISECONDS) |
| 42 s            | @Timeout(value = 42, unit = SECONDS)      |
| 42 m            | @Timeout(value = 42, unit = MINUTES)      |
| 42 h            | @Timeout(value = 42, unit = HOURS)        |
| 42 d            | @Timeout(value = 42, unit = DAYS)         |

### 2.19.3. Using @Timeout for Polling Tests
ë¹„ë™ê¸° ì½”ë“œë¥¼ ë‹¤ë£°ë•Œ, ì–´ì„¤ì…˜ì„ ìˆ˜í–‰í•˜ê¸° ì „ ì–´ë–¤ì¼ì´ ë²Œì–´ì§ˆë•Œ ê¹Œì§€ í´ë§í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì€ ì¼ë°˜ì ì´ë‹¤. 
ì¼ë¶€ ê²½ìš° CountDownLatchë‚˜ ë‹¤ë¥¸ ë™ê¸°í™” ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ë¡œì§ì„ ë‹¤ì‹œ ì‘ì„± í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ê²Œ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ë„ ìˆë‹¤.
ì˜ˆë¥¼ ë“¤ë©´ í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ì™¸ë¶€ ë©”ì‹œì§€ ë¸Œë¡œì»¤ë¡œ ë©”ì„¸ì§€ë¥¼ ë³´ë‚´ëŠ” ê²½ìš° ì–´ì„¤ì…˜ì€ , ì–´ì„¤ì…˜ì€ ì±„í„¸ì„ í†µí•´ ë©”ì„¸ì§€ê°€ ì„±ê³µì ìœ¼ë¡œ ì „ì†¡ëœ ì´í›„ ìˆ˜í–‰ ë˜ì–´ì•¼ í•œë‹¤.

ì´ëŸ¬í•œ ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸ë“¤ì€ ì„±ê³µì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆë‹¤ëŠ” ë©”ì„¸ì§€ë¥¼ ë°›ê¸°ê¹Œì§€ ë¬´í•œì • ì‹¤í–‰ë˜ëŠ” ì¼ì„ ë§‰ê¸° ìœ„í•´ íƒ€ì„ì•„ì›ƒì´ í•„ìš”í•˜ë‹¤.

í´í•˜ëŠ” ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸ì— íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•˜ëŠ” ê²ƒìœ¼ë¡œ í…ŒìŠ¤íŠ¸ê°€ ë¬´í•œì • ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë°©ì§€ í•  ìˆ˜ ìˆë‹¤.
ì•„ë˜ ì˜ˆì œëŠ” JUnit Jupiterì˜ @Timeout ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤€ë‹¤. ì´ ê¸°ìˆ ì€ "poll until" ë¡œì§ì„ ë§¤ìš° ì‰½ê²Œ êµ¬í˜„ í•  ìˆ˜ ìˆë‹¤.

```java
@Test
@Timeout(5) // Poll at most 5 seconds
void pollUntil() throws InterruptedException {
    while (asynchronousResultNotAvailable()) {
        Thread.sleep(250); // custom poll interval
    }
    // Obtain the asynchronous result and perform assertions
}
```

> í´ë§ ì£¼ê¸°ë¥¼ ë” ì„¸ë°€í•˜ê²Œ ì œì–´í•˜ê³  ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸ì— ëŒ€í•´ ë” í° ìœ ì—°ì„±ì´ í•„ìš”í•œ ê²½ìš°, Awaitilityì™€ ê°™ì€ ì „ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤.

### 2.19.4. Disable @Timeout Globally
ë””ë²„ê·¸ ëª¨ë“œë¡œ í•œë‹¨ê³„ì”© í™•ì¸í• ë•Œ, ê³ ì •ëœ íƒ€ì„ì•„ì›ƒ ì‹œê°„ì€ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ëª¨ë“  ì–´ì„¤ì…˜ì´ ì¶©ì¡±ë˜ì—ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤íŒ¨ë¡œ í‘œì‹œ í•  ìˆ˜ ìˆë‹¤.

JUnit JupiterëŠ” junit.jupiter.execution.timeout.mode ì„¤ì •ì„ í†µí•´ ì–¸ì œ íƒ€ì„ì•„ì›ƒì´ ì ìš©ë˜ëŠ”ì§€ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.
3ê°€ì§€ ëª¨ë“œê°€ ìˆë‹¤. enabled, disabled, disabled_on_debug, ê¸°ë³¸ì€ enabled ì´ë‹¤.
VM ì´ ì‹¤í–‰ë ë•Œ ì…ë ¥ íŒŒë¼ë¯¸í„° ì¤‘ -agentlib:jdwp ë˜ëŠ” -Xrunjdwp ê°€ ìˆì„ ë•Œ ë””ë²„ê·¸ ëª¨ë“œë¡œ ê°„ì£¼ë˜ì–´, disabled_on_debug ëª¨ë“œê°€ í™œì„±í™” ëœë‹¤.



## 2.20. Parallel Execution
ê¸°ë³¸ì ìœ¼ë¡œ JUnit Jupiter í…ŒìŠ¤íŠ¸ëŠ” ë‹¨ì¼ ì“°ë ˆë“œì—ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.
ë³‘ë ¬ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ”ê²ƒ(ì‹¤í–‰ì†ë“œ í–¥ìƒ ë“±ì˜ ì´ìœ ë¡œ)ì€ 5.3 ë²„ì „ë¶€í„° ì˜µì…˜ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
ë³‘ë ¬ì‹¤í–‰ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸°ìœ„í•´ì„œëŠ” junit.jupiter.execution.parallel.enabled ì„¤ì •ê°’(junit-platform.properties)ì„ trueë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤.

ì´ ê°’ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ í…ŒìŠ¤íŠ¸ë¥¼ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ëŠ” ìœ ì¼í•œ ë°©ë²•ì„ì„ ê¸°ì–µí•˜ì.
ë³‘ë ¬ì‹¤í–‰ì„ í™œì„±í™”í•˜ë©´, í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œëŠ” ì—¬ì „íˆ ê¸°ë³¸ì ìœ¼ë¡œ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.
í…ŒìŠ¤íŠ¸ íŠ¸ë¦¬ì—ì„œ ë…¸ë“œë“¤ì´ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ”ì§€ ì—¬ë¶€ëŠ” ì‹¤í–‰ ëª¨ë“œì— ì˜í•´ ì œì–´ëœë‹¤. ë‹¤ìŒ ë‘ê°€ì§€ ëª¨ë“œê°€ ìˆë‹¤.


**SAME_THREAD**  
ê°™ì€ ì“°ë ˆë“œì—ì„œ ì‹¤í–‰ë˜ë„ë¡ ê°•ì œëœë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì— ì‚¬ìš©ë˜ë©´, í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œëŠ” í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ @BeforeAll ë˜ëŠ” @AfterAll ë©”ì†Œë“œì™€ ê°™ì€ ì“°ë ˆë“œì—ì„œ ì‹¤í–‰ëœë‹¤.

**CONCURRENT**  
ê°™ì€ ì“°ë ˆë“œì—ì„œ ì‹¤í–‰ë˜ë„ë¡ ê°•ì œí•˜ì§€ ì•ŠëŠ” ì´ìƒ ë™ì‹œì— ì‹¤í–‰ ëœë‹¤.

í…ŒìŠ¤íŠ¸ íŠ¸ë¦¬ì˜ ë…¸ë“œë“¤ì€ ê¸°ë³¸ì ìœ¼ë¡œ SAME_THREAD ì‹¤í–‰ ëª¨ë“œë¥¼ ì‚¬ìš©í•œë‹¤.
junit.jupiter.execution.parallel.mode.defaultì„¤ì • ê°’ì„ í†µí•´ ê¸°ë³¸ê°’ì„ ë³€ê²½ í•  ìˆ˜ ìˆë‹¤.
ì•„ë‹ˆë©´, @Execution ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ê°ê° í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ë³„ë¡œ ë³‘ë ¬ ì‹¤í–‰ì„ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.

_ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ì„¤ì • íŒŒë¼ë¯¸í„°_
```properties
junit.jupiter.execution.parallel.enabled = true
junit.jupiter.execution.parallel.mode.default = concurrent
```
ê¸°ë³¸ ì‹¤í–‰ ëª¨ë“œëŠ” Lifecycle.PER_CLASS ëª¨ë“œ ë˜ëŠ” MethodOrderer (MethodOrderer.Random ì œì™¸)ë¥¼ ì‚¬ìš©í•˜ëŠ” í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì™€ ê°™ì€ ëª‡ ê°€ì§€ ì£¼ëª©í• ë§Œí•œ ì˜ˆì™¸ë¥¼ ì œì™¸í•˜ê³  í…ŒìŠ¤íŠ¸ íŠ¸ë¦¬ì˜ ëª¨ë“  ë…¸ë“œì— ì ìš©ëœë‹¤.
ë¨¼ì €ì˜ ê²½ìš°, í…ŒìŠ¤íŠ¸ ì‘ì„±ìëŠ” í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ê°€ ìŠ¤ë ˆë“œ ì„¸ì´í”„ë¥¼ ë³´ì¥í•´ì•¼ í•œë‹¤. í›„ìì˜ ê²½ìš°, ë™ì‹œ ì‹¤í–‰ì€ êµ¬ì„±ëœ ì‹¤í–‰ ìˆœì„œì™€ ì¶©ëŒí•  ìˆ˜ ìˆë‹¤.
ë”°ë¼ì„œ ë‘ ê²½ìš° ëª¨ë‘ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œëŠ” @Execution(CONCURRENT) ì–´ë…¸í…Œì´ì…˜ì´ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ë˜ëŠ” ë©”ì†Œë“œì— ì¡´ì¬í•˜ëŠ” ê²½ìš°ì—ë§Œ ë™ì‹œì— ì‹¤í–‰ëœë‹¤.

ë³‘ë ¬ ì‹¤í–‰ì´ ì„¤ì •ë˜ê³  ê¸°ë³¸ ClassOrdererê°€ ë“±ë¡ë˜ì–´ ìˆëŠ”ê²½ìš°(ìì„¸í•œ ë‚´ìš©ì€ Class Order ì°¸ì¡°), ìµœìƒìœ„ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ëŠ” ì²˜ìŒì— í•´ë‹¹ ìˆœì„œëŒ€ë¡œ ì •ë ¬ë˜ê³  ê³„íšëœë‹¤.
ê·¸ëŸ¬ë‚˜, JUnitì´ ì§ì ‘ ì œì–´í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ì •í™•íˆ ê·¸ ìˆœì„œëŒ€ë¡œ ì‹œì‘ë˜ëŠ” ê²ƒì€ ë³´ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤.

CONCURRENT ì‹¤í–‰ëª¨ë“œë¡œ ì„¤ì •ëœ í…ŒìŠ¤íŠ¸ íŠ¸ë¦¬ì˜ ëª¨ë“  ë…¸ë“œë“¤ì€ ì œê³µëœ ì„¤ì •ì— ë”°ë¼ ì „ì ìœ¼ë¡œ ë³‘ë ¬ë¡œ ì‹¤í–‰ë˜ì§€ë§Œ, ì„ ì–¸ì  ë™ê¸°í™” ë©”ì»¤ë‹ˆì¦˜ì„ ì¤€ìˆ˜í•œë‹¤.
Capturing Standard Output/Error ëŠ” ë³„ë„ë¡œ í™œì„±í™” í•´ì•¼ í•œë‹¤.

ì¶”ê°€ë¡œ, junit.jupiter.execution.parallel.mode.classes.default ì„¤ì • íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ìµœìƒìœ„ í´ë˜ìŠ¤ì˜ ê¸°ë³¸ ì‹¤í–‰ ëª¨ë“œë¥¼ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.
ë‘ ì„¤ì • íŒŒë¼ë¯¸í„°ë¥¼ ì¡°í•© í•¨ìœ¼ë¡œì„œ í´ë˜ìŠ¤ë¥¼ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ê³ , ê·¸ë“¤ì˜ ë©”ì†Œë“œë¥¼ ê°™ì€ ì“°ë ˆë“œì—ì„œ ì‹¤í–‰ í•  ìˆ˜ ìˆë‹¤.

_ìµœ ìƒìœ„ í´ë˜ìŠ¤ëŠ” ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ê³  ê·¸ ë‚´ë¶€ì˜ í•¨ìˆ˜ë“¤ì€ ë™ì¼ ì“°ë ˆë“œì—ì„œ ì‹¤í–‰í•˜ëŠ” ì„¤ì •_
```properties
junit.jupiter.execution.parallel.enabled = true
junit.jupiter.execution.parallel.mode.default = same_thread
junit.jupiter.execution.parallel.mode.classes.default = concurrent
```
ë°˜ëŒ€ ì¡°í•©ì€ í•œ í´ë˜ìŠ¤ ë‚´ì˜ ëª¨ë“  ë©”ì†Œë“œë¥¼ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ì§€ë§Œ, ìµœìƒìœ„ í´ë˜ìŠ¤ëŠ” ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

_ìµœìƒìœ„ í´ë˜ìŠ¤ëŠ” ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê³  ë‚´ë¶€ ë©”ì†Œë“œë“¤ì€ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ëŠ” ì„¤ì •_
```properties
junit.jupiter.execution.parallel.enabled = true
junit.jupiter.execution.parallel.mode.default = concurrent
junit.jupiter.execution.parallel.mode.classes.default = same_thread
```

ì•„ë˜ ë‹¤ì´ì–´ ê·¸ë¨ì€ 2ê°œì˜ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ê°€ì§„ ìµœìƒìœ„ í´ë˜ìŠ¤ A, B ê°€ ë‘ ì„¤ì • ê°’(junit.jupiter.execution.parallel.mode.default ì™€ junit.jupiter.execution.parallel.mode.classes.default) ì— ì˜í•´ ì‹¤í–‰ë˜ëŠ” ëª¨ìŠµì„ ë³´ì—¬ì¤€ë‹¤. 
![Parallel Execution](https://junit.org/junit5/docs/current/user-guide/images/writing-tests_execution_mode.svg)

_ê¸°ë³¸ ì‹¤í–‰ ëª¨ë“œ ì„¤ì • ì¡°í•©_    
junit.jupiter.execution.parallel.mode.classes.default ì„¤ì • ê°’ì´ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •ë˜ì§€ ì•Šì•˜ë‹¤ë©´, junit.jupiter.execution.parallel.mode.default ì„¤ì • ê°’ì´ ì‚¬ìš©ëœë‹¤.

### 2.20.1. Configuration
ë³‘ë ¬ ì‹¤í–‰ ì„¤ì •ê³¼ ìµœëŒ€ í’€ ì‚¬ì´ì¦ˆì™€ ê´€ë ¨ëœ ì†ì„±ë“¤ì€ ParallelExecutionConfigurationStrategyë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.
JUnit í”Œë«í¼ì€ ë™ì ì „ëµê³¼ ê³ ì •ì „ëµ ë‘ê°€ì§€ êµ¬í˜„ì²´ë¥¼ ì œê³µí•œë‹¤. ê·¸ ì™¸ì—ë„ ì‚¬ìš©ìê°€ ì‘ì„±í•œ êµ¬í˜„ì²´ë¥¼ ì‚¬ìš© í•  ìˆ˜ë„ ìˆë‹¤.

ì „ëµì„ ì„ íƒí•˜ê¸° ìœ„í•´ì„œëŠ” junit.jupiter.execution.parallel.config.strategy ì„¤ì • íŒŒë¼ë¯¸í„°ë¥¼ ë‹¤ìŒ ì˜µì…˜ ì¤‘ í•˜ë‚˜ë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤.

**dynamic**  
junit.jupiter.execution.parallel.config.dynamic.factor ì†ì„± ê°’(ê¸°ë³¸ê°’ì€ 1) ì— ê°€ìš©í•œ í”„ë¡œì„¸ì„œ(ì½”ì–´) ìˆ˜ë¥¼ ê³±í•œ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ì›í•˜ëŠ” ë³‘ë ¬ ì‹¤í–‰ì„ ê³„ì‚°í•œë‹¤.
ì„ íƒì ìœ¼ë¡œ junit.jupiter.execution.parallel.config.dynamic.max-pool-size-factor ì„¤ì • íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ìµœëŒ€ ì“°ë ˆë“œ ìˆ˜ë¥¼ ì œí•œ í•  ìˆ˜ ìˆë‹¤.

**fixed**  
í•„ìˆ˜ í•­ëª©ì¸ junit.jupiter.execution.parallel.config.fixed.parallelism ì†ì„±ê°’ìœ¼ë¡œ ì›í•˜ëŠ” ë³‘ë ¬ ì‹¤í–‰ì„ ì„¤ì •í•œë‹¤.
The optional junit.jupiter.execution.parallel.config.fixed.max-pool-size configuration parameter can be used to limit the maximum number of threads.
ì„ íƒì ìœ¼ë¡œ junit.jupiter.execution.parallel.config.fixed.max-pool-size ì†ì„± ê°’ì„ ì´ìš©í•´ì„œ ìµœëŒ€ ì“°ë ˆë“œ ìˆ˜ë¥¼ ì œí•œ í•  ìˆ˜ ìˆë‹¤.

**custom**  
ì‚¬ìš©ì ì •ì˜ ParallelExecutionConfigurationStrategy êµ¬í˜„ì²´ë¥¼ ì •ì˜ í•  ìˆ˜ ìˆë‹¤. ì •ì˜ëœ í´ë˜ìŠ¤ëŠ” junit.jupiter.execution.parallel.config.custom.class í•„ìˆ˜ ì†ì„± ê°’ìœ¼ë¡œ ì§€ì •í•œë‹¤.

ì•„ë¬´ ì „ëµë„ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´, JUnit JupiterëŠ” factor ê°’ì´ 1ì¸ dynamic ì „ëµì„ ì‚¬ìš©í•˜ê³ , ê²°êµ­ ì›í•˜ëŠ” ë³‘ë ¬ ì‹¤í–‰ì€ ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡œì„¸ì„œ(ì½”ì–´) ìˆ˜ì™€ ê°™ì•„ì§„ë‹¤.

> _ë³‘ë ¬ì‹¤í–‰ì€ ìµœëŒ€ ì“°ë ˆë“œë¥¼ ì˜ë¯¸í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤._
> ê¸°ë³¸ì ìœ¼ë¡œ JUnit JupiterëŠ” ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” í…ŒìŠ¤íŠ¸ì˜ ìˆ˜ê°€ ì„¤ì •ëœ ë³‘ë ¬ ì‹¤í–‰ ìˆ˜ë¥¼ ì´ˆê³¼í•˜ì§€ ì•ŠìŒì„ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.
> ì˜ˆë¡œ, ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ì„¤ëª…í•˜ëŠ” ë™ê¸°í™” ë©”ì»¤ë‹ˆì¦˜ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ForkJoinPoolì€ ì¶©ë¶„í•œ ë³‘ë ¬ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì¶”ê°€ ì“°ë ˆë“œë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
> í™•ì‹¤í•œ ë³´ì¥ì„ ì›í•œë‹¤ë©´, Java 9ì´ìƒì—ì„œëŠ” ë™ì , ê³ ì •, ì‚¬ìš©ì ì •ì˜ ì „ëµì˜ ìµœëŒ€ í’€ ì‚¬ì´ì¦ˆë¥¼ ì œì–´í•˜ì—¬ ìµœëŒ€ ë™ì‹œ ì“°ë ˆë“œ ìˆ˜ë¥¼ ì œí•œ í•  ìˆ˜ ìˆë‹¤.

#### ê´€ë ¨ ì†ì„±ë“¤
ì•„ë˜ í…Œì´ë¸”ì€ ë³‘ë ¬ ì‹¤í–‰ì„ êµ¬ì„±í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ì†ì„±ë“¤ì´ë‹¤. ì†ì„±ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ Configuration Parametersë¥¼ ì°¸ì¡°í•˜ì.

| Property                                                             | Description                                                                                         | Supported Values                                                                                               | Default Value                                                                                                                    |
|----------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------|
| junit.jupiter.execution.parallel.enabled                             | ë³‘ë ¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì„ í™œì„±í™” í•œë‹¤.                                                                                  | * true<br />* false                                                                                            | false                                                                                                                            |
| junit.jupiter.execution.parallel.mode.default                        | í…ŒìŠ¤íŠ¸ íŠ¸ë¦¬ì—ì„œ ë…¸ë“œì˜ ê¸°ë³¸ ì‹¤í–‰ ëª¨ë“œ                                                                               | * concurrent<br />* same_thread                                                                                | same_thread                                                                                                                      |
| junit.jupiter.execution.parallel.mode.classes.default                | ìµœìƒìœ„ í´ë˜ìŠ¤ì˜ ê¸°ë³¸ ì‹¤í–‰ ëª¨ë“œ                                                                                   | * concurrent<br />* same_thread                                                                                | same_thread                                                                                                                      |
| junit.jupiter.execution.parallel.config.strategy                     | ë³‘ë ¬ ì‹¤í–‰ ìš”ì²­ ìˆ˜ ë° ìµœëŒ€ í’€ ì‚¬ì´ì¦ˆë¥¼ ìœ„í•œ ì‹¤í–‰ ì „ëµ                                                                     | * dynamic<br />* fixed<br />* custom                                                                           | dynamic                                                                                                                          |
| junit.jupiter.execution.parallel.config.dynamic.factor               | dynamic ì„¤ì • ì „ëµ ì—ì„œ ë³‘ë ¬ ì‹¤í–‰ ìš”ì²­ìˆ˜ë¥¼ ì •í•˜ê¸° ìœ„í•´ ê°€ìš© í”„ë¡œì„¸ìŠ¤/ì½”ì–´ ìˆ˜ ì— ê³±í•˜ëŠ” ì¸ì                                            | a positive decimal number                                                                                      | 1.0                                                                                                                              |
| junit.jupiter.execution.parallel.config.dynamic.max-pool-size-factor | dynamic ì„¤ì • ì „ëµ ì—ì„œ ê°€ìš© í”„ë¡œì„¸ìŠ¤/ì½”ì–´ ìˆ˜ ì—  junit.jupiter.execution.parallel.config.dynamic.factorë¥¼ ê³±í•´ì„œ ê²°ì •ë˜ëŠ” ìˆ˜ | a positive decimal number, must be greater than or equal to 1.0                                                | 256 + the value of junit.jupiter.execution.parallel.config.dynamic.factor multiplied by the number of available processors/cores |
| junit.jupiter.execution.parallel.config.dynamic.saturate             | dynamic ì„¤ì • ì „ëµì—ì„œ fork-join í’€ ë°©ì‹ì˜ saturation ë¹„ í™œì„±í™”                                                    | * true<br />* false                                                                                            | true                                                                                                                             |
| junit.jupiter.execution.parallel.config.fixed.parallelism            | ê³ ì • ì„¤ì • ì „ëµì—ì„œ ë³‘ë ¬ ì‹¤í–‰ ìš”ì²­ ìˆ˜                                                                               | a positive integer                                                                                             | no default value                                                                                                                 |
| junit.jupiter.execution.parallel.config.fixed.max-pool-size          | ê³ ì • ì„¤ì • ì €ëƒ™ì—ì„œ fork-join í’€ ë°©ì‹ì˜ ìµœëŒ€ í’€ ì‚¬ì´ì¦ˆ                                                                 | a positive integer, must be greater than or equal to junit.jupiter.execution.parallel.config.fixed.parallelism | 256 + the value of junit.jupiter.execution.parallel.config.fixed.parallelism                                                     |
| junit.jupiter.execution.parallel.config.fixed.saturate               | ê³ ì • ì„¤ì • ì €ëƒ™ì—ì„œ fork-join í’€ ë°©ì‹ì˜ saturation ë¹„ í™œì„±í™”                                                         | true<br />* false                                                                                              | true                                                                                                                             |
| junit.jupiter.execution.parallel.config.custom.class                 | ì‚¬ìš©ì ì„¤ì • ì „ëµì„ ìœ„í•œ ParallelExecutionConfigurationStrategy í´ë˜ìŠ¤ì˜ ì „ì²´ ê²½ë¡œ ë¥¼ í¬í•¨í•œ class ëª…                       | for example, org.example.CustomStrategy                                                                        | no default value                                                                                                                 |


### 2.20.2. Synchronization
ì¶”ê°€ë¡œ, @Execution ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ì„œ ì‹¤í–‰ëª¨ë“œë¥¼ ì œì–´í•˜ê¸°ìœ„í•´ JUnit JupiterëŠ” ë˜ë‹¤ë¥¸ ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ ì„ ì–¸ì  ë™ê¸°í™” ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•œë‹¤.
@ResourceLock ì–´ë…¸í…Œì´ì…˜ì€ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë‚˜ ë©”ì†Œë“œê°€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì˜ ì‹ ë¢°ì„±ì„ ìœ„í•´ ë™ê¸°í™”ëœ ì ‘ê·¼ì´ í•„ìš”í•œ ê³µìœ ìì›ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.
ê·¸ë ‡ê²Œ ê³µìœ ëœ ìì›ì€ String íƒ€ì…ì˜ ê³ ìœ í•œ ì´ë¦„ìœ¼ë¡œ ì‹ë³„ëœë‹¤. 
ì´ë¦„ì€ ì‚¬ìš©ì ì •ì˜ ë˜ëŠ” Resourcesì— ì •ì˜ëœ ìƒìˆ˜(SYSTEM_PROPERTIES, SYSTEM_OUT, SYSTEM_ERR, LOCALE, TIME_ZONE) ì¤‘ í•˜ë‚˜ì¼ ìˆ˜ ìˆë‹¤.

ì•„ë˜ ì˜ˆì œ ì—ì„œ í…ŒìŠ¤íŠ¸ê°€ @ResourceLockì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë³‘ë ¬ë¡œ ì‹¤í–‰ë˜ë©´, í…ŒìŠ¤íŠ¸ê°€ ë¶ˆì•ˆì • í•  ê²ƒì´ë‹¤.
Sometimes they would pass, and at other times they would fail due to the inherent race condition of writing and then reading the same JVM System Property.
ë•Œë•Œë¡œ ì¼ë¶€ëŠ” í†µê³¼í•˜ê³ , ë‹¤ë¥¸ ê²½ìš°ì—ëŠ” ê°™ì€ JVM ì‹œìŠ¤í…œ ì†ì„±ê°’ì„ ì“°ê³  ì½ëŠ” ë‚´ë¶€ ê²½í•© ì¡°ê±´ ë•Œë¬¸ì— ì‹¤íŒ¨í•  ê²ƒì´ë‹¤.

When access to shared resources is declared using the @ResourceLock annotation, the JUnit Jupiter engine uses this information to ensure that no conflicting tests are run in parallel.
ê³µìœ  ìì›ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ê°€ @ResourceLock ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸ë˜ë©´, JUnit Jupiter ì—”ì§„ì€ ì´ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶©ëŒí•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ ë³‘ë ¬ë¡œ ì‹¤í–‰ë˜ì§€ ì•Šë„ë¡ ë³´ì¥í•œë‹¤.

> _ê²©ë¦¬ ëœ í…ŒìŠ¤íŠ¸ ì‹¤í–‰_
> ëŒ€ë¶€ë¶„ì˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ê°€ ë™ê¸°í™” ì—†ì´ ë³‘ë ¬ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆì§€ë§Œ, ì¼ë¶€ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ëŠ” ê²©ë¦¬ë˜ì–´ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš°, í›„ìë¥¼ @Isolated ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ í‘œì‹œ í•  ìˆ˜ ìˆë‹¤.
> ì´ëŸ¬í•œ í´ë˜ìŠ¤ì˜ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ê°€ ë™ì‹œì— ì‹¤í–‰ë˜ì§€ ì•Šê³  ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

ê³µìœ  ìì›ì„ ì •ì˜í•˜ëŠ” ë¬¸ìì—´ ì™¸ì—ë„ ì•¡ì„¸ìŠ¤ ëª¨ë“œë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
ê³µìœ  ìì›ì— ëŒ€í•œ READ ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•œ ë‘ í…ŒìŠ¤íŠ¸ëŠ” ì„œë¡œ ë³‘ë ¬ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆì§€ë§Œ, ë™ì¼í•œ ê³µìœ  ìì›ì— ëŒ€í•œ READ_WRITE ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•œ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆì—ëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

```java
@Execution(CONCURRENT)
class SharedResourcesDemo {

    private Properties backup;

    @BeforeEach
    void backup() {
        backup = new Properties();
        backup.putAll(System.getProperties());
    }

    @AfterEach
    void restore() {
        System.setProperties(backup);
    }

    @Test
    @ResourceLock(value = SYSTEM_PROPERTIES, mode = READ)
    void customPropertyIsNotSetByDefault() {
        assertNull(System.getProperty("my.prop"));
    }

    @Test
    @ResourceLock(value = SYSTEM_PROPERTIES, mode = READ_WRITE)
    void canSetCustomPropertyToApple() {
        System.setProperty("my.prop", "apple");
        assertEquals("apple", System.getProperty("my.prop"));
    }

    @Test
    @ResourceLock(value = SYSTEM_PROPERTIES, mode = READ_WRITE)
    void canSetCustomPropertyToBanana() {
        System.setProperty("my.prop", "banana");
        assertEquals("banana", System.getProperty("my.prop"));
    }

}
```


## 2.21. Built-in Extensions
While the JUnit team encourages reusable extensions to be packaged and maintained in separate libraries, the JUnit Jupiter API artifact includes a few user-facing extension implementations that are considered so generally useful that users shouldnâ€™t have to add another dependency.

### 2.21.1. The TempDirectory Extension
The built-in TempDirectory extension is used to create and clean up a temporary directory for an individual test or all tests in a test class. It is registered by default. To use it, annotate a non-final, unassigned field of type java.nio.file.Path or java.io.File with @TempDir or add a parameter of type java.nio.file.Path or java.io.File annotated with @TempDir to a lifecycle method or test method.

For example, the following test declares a parameter annotated with @TempDir for a single test method, creates and writes to a file in the temporary directory, and checks its content.

_A test method that requires a temporary directory_
```java
@Test
void writeItemsToFile(@TempDir Path tempDir) throws IOException {
    Path file = tempDir.resolve("test.txt");

    new ListWriter(file).write("a", "b", "c");

    assertEquals(singletonList("a,b,c"), Files.readAllLines(file));
}
```

You can inject multiple temporary directories by specifying multiple annotated parameters.

_A test method that requires multiple temporary directories_
```java 
@Test
void copyFileFromSourceToTarget(@TempDir Path source, @TempDir Path target) throws IOException {
    Path sourceFile = source.resolve("test.txt");
    new ListWriter(sourceFile).write("a", "b", "c");

    Path targetFile = Files.copy(sourceFile, target.resolve("test.txt"));

    assertNotEquals(sourceFile, targetFile);
    assertEquals(singletonList("a,b,c"), Files.readAllLines(targetFile));
}
```

> To revert to the old behavior of using a single temporary directory for the entire test class or method (depending on which level the annotation is used), you can set the junit.jupiter.tempdir.scope configuration parameter to per_context. However, please note that this option is deprecated and will be removed in a future release.

@TempDir is not supported on constructor parameters. If you wish to retain a single reference to a temp directory across lifecycle methods and the current test method, please use field injection by annotating an instance field with @TempDir.

The following example stores a shared temporary directory in a static field. This allows the same sharedTempDir to be used in all lifecycle methods and test methods of the test class. For better isolation, you should use an instance field so that each test method uses a separate directory.

_A test class that shares a temporary directory across test methods_
```java
class SharedTempDirectoryDemo {

    @TempDir
    static Path sharedTempDir;

    @Test
    void writeItemsToFile() throws IOException {
        Path file = sharedTempDir.resolve("test.txt");

        new ListWriter(file).write("a", "b", "c");

        assertEquals(singletonList("a,b,c"), Files.readAllLines(file));
    }

    @Test
    void anotherTestThatUsesTheSameTempDir() {
        // use sharedTempDir
    }

}
```
The @TempDir annotation has an optional cleanup attribute that can be set to either NEVER, ON_SUCCESS, or ALWAYS. If the cleanup mode is set to NEVER, temporary directories are not deleted after a test completes. If it is set to ON_SUCCESS, temporary directories are deleted only after a test completed successfully.

The default cleanup mode is ALWAYS. You can use the junit.jupiter.tempdir.cleanup.mode.default configuration parameter to override this default.

_A test class with a temporary directory that doesnâ€™t get cleaned up_
```java
class CleanupModeDemo {

    @Test
    void fileTest(@TempDir(cleanup = ON_SUCCESS) Path tempDir) {
        // perform test
    }

}
```

@TempDir supports the programmatic creation of temporary directories via the optional factory attribute. This is typically used to gain control over the temporary directory creation, like defining the parent directory or the file system that should be used.

Factories can be created by implementing TempDirFactory. Implementations must provide a no-args constructor and should not make any assumptions regarding when and how many times they are instantiated, but they can assume that their createTempDirectory(â€¦â€‹) and close() methods will both be called once per instance, in this order, and from the same thread.

The default implementation available in Jupiter delegates the directory creation to java.nio.file.Files::createTempDirectory, passing junit as the prefix string to be used in generating the directoryâ€™s name.

The following example defines a factory that uses the test name as the directory name prefix instead of the junit constant value.

_A test class with a temporary directory having the test name as the directory name prefix_
```java
class TempDirFactoryDemo {

    @Test
    void factoryTest(@TempDir(factory = Factory.class) Path tempDir) {
        assertTrue(tempDir.getFileName().toString().startsWith("factoryTest"));
    }

    static class Factory implements TempDirFactory {

        @Override
        public Path createTempDirectory(AnnotatedElementContext elementContext, ExtensionContext extensionContext)
                throws IOException {
            return Files.createTempDirectory(extensionContext.getRequiredTestMethod().getName());
        }

    }

}
```

Itâ€™s also possible to use an in-memory file system like Jimfs for the creation of the temporary directory. The following example demonstrates how to achieve that.

_A test class with a temporary directory created with the Jimfs in-memory file system_
```java
class InMemoryTempDirDemo {

    @Test
    void test(@TempDir(factory = JimfsTempDirFactory.class) Path tempDir) {
        // perform test
    }

    static class JimfsTempDirFactory implements TempDirFactory {

        private final FileSystem fileSystem = Jimfs.newFileSystem(Configuration.unix());

        @Override
        public Path createTempDirectory(AnnotatedElementContext elementContext, ExtensionContext extensionContext)
                throws IOException {
            return Files.createTempDirectory(fileSystem.getPath("/"), "junit");
        }

        @Override
        public void close() throws IOException {
            fileSystem.close();
        }

    }

}
```

@TempDir can also be used as a meta-annotation to reduce repetition. The following code listing shows how to create a custom @JimfsTempDir annotation that can be used as a drop-in replacement for @TempDir(factory = JimfsTempDirFactory.class).

_A custom annotation meta-annotated with @TempDir_
```java
@Target({ ElementType.ANNOTATION_TYPE, ElementType.FIELD, ElementType.PARAMETER })
@Retention(RetentionPolicy.RUNTIME)
@TempDir(factory = JimfsTempDirFactory.class)
@interface JimfsTempDir {
}
```

The following example demonstrates how to use the custom @JimfsTempDir annotation.

_A test class using the custom annotation_
```java
class JimfsTempDirAnnotationDemo {

    @Test
    void test(@JimfsTempDir Path tempDir) {
        // perform test
    }

}
```

Meta-annotations or additional annotations on the field or parameter the TempDir annotation is declared on might expose additional attributes to configure the factory. Such annotations and related attributes can be accessed via the AnnotatedElementContext parameter of createTempDirectory.

You can use the junit.jupiter.tempdir.factory.default configuration parameter to specify the fully qualified class name of the TempDirFactory you would like to use by default. Just like for factories configured via the factory attribute of the @TempDir annotation, the supplied class has to implement the TempDirFactory interface. The default factory will be used for all @TempDir annotations unless the factory attribute of the annotation specifies a different factory.

In summary, the factory for a temporary directory is determined according to the following precedence rules:

1. The factory attribute of the @TempDir annotation, if present

2. The default TempDirFactory configured via the configuration parameter, if present

3. Otherwise, org.junit.jupiter.api.io.TempDirFactory$Standard will be used.